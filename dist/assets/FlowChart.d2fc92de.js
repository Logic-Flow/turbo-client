var D_=Object.defineProperty,M_=Object.defineProperties;var C_=Object.getOwnPropertyDescriptors;var Xy=Object.getOwnPropertySymbols;var R_=Object.prototype.hasOwnProperty,I_=Object.prototype.propertyIsEnumerable;var $c=(h,y,c)=>y in h?D_(h,y,{enumerable:!0,configurable:!0,writable:!0,value:c}):h[y]=c,xi=(h,y)=>{for(var c in y||(y={}))R_.call(y,c)&&$c(h,c,y[c]);if(Xy)for(var c of Xy(y))I_.call(y,c)&&$c(h,c,y[c]);return h},Ei=(h,y)=>M_(h,C_(y));var Vy=(h,y,c)=>($c(h,typeof y!="symbol"?y+"":y,c),c);import{R as L_,P as z_,F as B_,d as F_,v as H_,x as U_,A as G_,E as X_,q as V_,e as Y_,y as W_,g as K_,w as $_,Y as Ov,J as q_,$ as Z_,a2 as J_,a3 as Q_,a0 as qc,a4 as e1,I as t1,a1 as n1}from"./plugin-vue_export-helper.3c221d70.js";import{z as r1,e as o1,m as Cr,k as Yy,r as Zc,X as i1,o as fn,c as a1,y as Sn,p as Ir,q as Wy,v as u1,f as mn,s as Do,C as Jc,g as Or,K as Qc,E as io,x as c1,N as s1,T as l1,O as f1,J as _v,aj as wv,ak as xv}from"./vendor.3e3603e0.js";const p1='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',d1=h=>getComputedStyle(h).position==="fixed"?!1:h.offsetParent!==null,Ky=h=>Array.from(h.querySelectorAll(p1)).filter(y=>h1(y)&&d1(y)),h1=h=>{if(h.tabIndex>0||h.tabIndex===0&&h.getAttribute("tabIndex")!==null)return!0;if(h.disabled)return!1;switch(h.nodeName){case"A":return!!h.href&&h.rel!=="ignore";case"INPUT":return!(h.type==="hidden"||h.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},es="_trap-focus-children",ao=[],$y=h=>{if(ao.length===0)return;const y=ao[ao.length-1][es];if(y.length>0&&h.code===B_.tab){if(y.length===1){h.preventDefault(),document.activeElement!==y[0]&&y[0].focus();return}const c=h.shiftKey,p=h.target===y[0],a=h.target===y[y.length-1];p&&c&&(h.preventDefault(),y[y.length-1].focus()),a&&!c&&(h.preventDefault(),y[0].focus())}},y1={beforeMount(h){h[es]=Ky(h),ao.push(h),ao.length<=1&&L_(document,"keydown",$y)},updated(h){r1(()=>{h[es]=Ky(h)})},unmounted(){ao.shift(),ao.length===0&&z_(document,"keydown",$y)}};function v1(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}const g1=F_(Ei(xi({},H_),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}})),b1=U_,m1=o1({name:"ElDrawer",components:{ElOverlay:G_,ElIcon:X_,Close:V_},directives:{TrapFocus:y1},props:g1,emits:b1,setup(h,y){const c=Cr(),p=Y_("drawer"),a=Yy(()=>h.direction==="rtl"||h.direction==="ltr"),f=Yy(()=>typeof h.size=="number"?`${h.size}px`:h.size);return Ei(xi({},W_(h,y,c)),{drawerRef:c,isHorizontal:a,drawerSize:f,ns:p})}}),O1=["aria-labelledby","aria-label"],_1=["id"],w1=["title"],x1=["aria-label"];function E1(h,y,c,p,a,f){const l=Zc("close"),b=Zc("el-icon"),O=Zc("el-overlay"),w=i1("trap-focus");return fn(),a1(f1,{to:"body",disabled:!h.appendToBody},[Sn(l1,{name:h.ns.b("fade"),onAfterEnter:h.afterEnter,onAfterLeave:h.afterLeave,onBeforeLeave:h.beforeLeave},{default:Ir(()=>[Wy(Sn(O,{mask:h.modal,"overlay-class":h.modalClass,"z-index":h.zIndex,onClick:h.onModalClick},{default:Ir(()=>[Wy((fn(),mn("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":h.ns.e("title"),"aria-label":h.title,class:Do([h.ns.b(),h.direction,h.visible&&"open",h.customClass]),style:c1(h.isHorizontal?"width: "+h.drawerSize:"height: "+h.drawerSize),role:"dialog",onClick:y[1]||(y[1]=s1(()=>{},["stop"]))},[h.withHeader?(fn(),mn("header",{key:0,id:h.ns.e("title"),class:Do(h.ns.e("header"))},[Jc(h.$slots,"title",{},()=>[Or("span",{role:"heading",title:h.title},Qc(h.title),9,w1)]),h.showClose?(fn(),mn("button",{key:0,"aria-label":"close "+(h.title||"drawer"),class:Do(h.ns.e("close-btn")),type:"button",onClick:y[0]||(y[0]=(..._)=>h.handleClose&&h.handleClose(..._))},[Sn(b,{class:Do(h.ns.e("close"))},{default:Ir(()=>[Sn(l)]),_:1},8,["class"])],10,x1)):io("v-if",!0)],10,_1)):io("v-if",!0),h.rendered?(fn(),mn("section",{key:1,class:Do(h.ns.e("body"))},[Jc(h.$slots,"default")],2)):io("v-if",!0),h.$slots.footer?(fn(),mn("div",{key:2,class:Do(h.ns.e("footer"))},[Jc(h.$slots,"footer")],2)):io("v-if",!0)],14,O1)),[[w]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[u1,h.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var j1=K_(m1,[["render",E1]]);const S1=$_(j1);const P1={props:{flowName:String,flowKey:String},methods:{saveFlow(){this.$emit("saveFlow")},publishFlow(){this.$emit("publishFlow")}}},is=h=>(wv("data-v-2b3abde6"),h=h(),xv(),h),A1={class:"tool-bar"},k1={class:"flow-name"},T1={key:0},N1={class:"tool-icons"},D1=is(()=>Or("path",{d:"M917.1 59.5H712.4c-19.3 0-35 15.7-35 35s15.7 35 35 35h169.8v169.8c0 19.3 15.7 35 35 35s35-15.7 35-35V94.5c-0.1-19.3-15.7-35-35.1-35zM106.9 334.3c19.3 0 35-15.7 35-35V129.5h169.8c19.3 0 35-15.7 35-35s-15.7-35-35-35H106.9c-19.3 0-35 15.7-35 35v204.8c0 19.3 15.6 35 35 35zM311.6 894.5H141.9V724.7c0-19.3-15.7-35-35-35s-35 15.7-35 35v204.8c0 19.3 15.7 35 35 35h204.8c19.3 0 35-15.7 35-35s-15.7-35-35.1-35zM917.1 689.7c-19.3 0-35 15.7-35 35v169.8H712.4c-19.3 0-35 15.7-35 35s15.7 35 35 35h204.8c19.3 0 35-15.7 35-35V724.7c-0.1-19.3-15.7-35-35.1-35zM769.1 794.7c9.2 0 18.4-3.6 25.3-10.8 13.3-14 12.8-36.1-1.2-49.5L705 650.2c26.3-37.5 43-82.4 46-131.5 9-141.6-98.7-263.7-240.3-272.6-5.5-0.3-10.9-0.5-16.3-0.5-134.6 0-247.7 104.8-256.3 241-8.9 141.7 98.8 263.7 240.4 272.6 5.5 0.3 10.9 0.5 16.3 0.5 61.3 0 118.1-21.7 162.6-58.2l87.5 83.5c6.8 6.5 15.5 9.7 24.2 9.7z m-87.9-280.3c-3 47.8-23.9 92.1-58.8 124.8-34.8 32.6-80.1 50.5-127.6 50.5-4 0-8-0.1-12-0.4-49.9-3.1-95.5-25.5-128.6-63-33-37.5-49.5-85.6-46.4-135.4 3-47.8 23.9-92.1 58.8-124.8 34.8-32.6 80.1-50.5 127.6-50.5 4 0 8 0.1 11.9 0.4 49.9 3.1 95.5 25.5 128.6 63 33.2 37.4 49.7 85.5 46.5 135.4z"},null,-1)),M1=[D1],C1=is(()=>Or("path",{d:"M85.333333 532.352A447.018667 447.018667 0 0 1 532.309333 85.333333a447.018667 447.018667 0 0 1 446.976 446.933334 446.890667 446.890667 0 0 1-446.933333 447.018666A446.976 446.976 0 0 1 85.333333 532.352z m59.733334 0a387.370667 387.370667 0 0 0 387.370666 387.370667 387.370667 387.370667 0 0 0 387.328-387.370667 387.370667 387.370667 0 0 0-387.328-387.328A387.370667 387.370667 0 0 0 145.066667 532.309333z m360.576 232.576v-364.8l-150.442667 150.442667a25.984 25.984 0 0 1-36.650667-1.322667 25.984 25.984 0 0 1-1.322666-36.608l195.925333-195.925333 0.298667-0.426667 0.426666-0.298667 1.024-1.024a23.594667 23.594667 0 0 1 15.061334-6.442666 23.765333 23.765333 0 0 1 2.517333-0.384c0.853333 0 1.664 0.298667 2.517333 0.384a23.552 23.552 0 0 1 15.061334 6.442666l1.024 1.024 0.426666 0.298667 0.298667 0.426667 195.925333 195.925333a25.984 25.984 0 0 1-1.365333 36.608 25.898667 25.898667 0 0 1-36.608 1.322667l-150.442667-150.442667v364.8a26.837333 26.837333 0 0 1-26.794666 26.794667 26.794667 26.794667 0 0 1-27.050667-26.837334z","p-id":"8231"},null,-1)),R1=[C1],I1=is(()=>Or("path",{d:"M683.84 170.666667L853.333333 344.704V789.333333a64 64 0 0 1-64 64H234.666667a64 64 0 0 1-64-64V234.666667a64 64 0 0 1 64-64h449.173333zM320 234.645333L234.666667 234.666667v554.666666l85.333333-0.021333V533.333333h384v255.978667L789.333333 789.333333V370.730667l-85.333333-87.637334V384H320v-149.354667zM640 597.333333H384v191.978667h256V597.333333z m-42.666667 64v64h-170.666666v-64h170.666666z m42.666667-426.666666H384v85.333333h256v-85.333333z","p-id":"2219"},null,-1)),L1=[I1];function z1(h,y,c,p,a,f){const l=q_;return fn(),mn("div",A1,[Or("div",k1,[_v(Qc(c.flowName)+" ",1),c.flowKey?(fn(),mn("span",T1,"("+Qc(c.flowKey)+")",1)):io("",!0)]),Or("div",N1,[Sn(l,{class:"toolbar-tooltip",effect:"dark",content:"\u67E5\u770B\u6D41\u7A0B\u56FE\u6570\u636E"},{default:Ir(()=>[(fn(),mn("svg",{onClick:y[0]||(y[0]=b=>h.$emit("getData")),class:"tool-bar-icon download-icon",viewBox:"0 0 1024 1024",width:"24",height:"24"},M1))]),_:1}),Sn(l,{class:"toolbar-tooltip",effect:"dark",content:"\u53D1\u5E03\u6D41\u7A0B"},{default:Ir(()=>[(fn(),mn("svg",{onClick:y[1]||(y[1]=(...b)=>f.publishFlow&&f.publishFlow(...b)),class:"tool-bar-icon download-icon",viewBox:"0 0 1024 1024",width:"24",height:"24"},R1))]),_:1}),Sn(l,{class:"toolbar-tooltip",effect:"dark",content:"\u4FDD\u5B58\u5230\u670D\u52A1\u7AEF"},{default:Ir(()=>[(fn(),mn("svg",{onClick:y[2]||(y[2]=(...b)=>f.saveFlow&&f.saveFlow(...b)),class:"tool-bar-icon save-icon",viewBox:"0 0 1024 1024",width:"30",height:"30"},L1))]),_:1})])])}var Ev=Ov(P1,[["render",z1],["__scopeId","data-v-2b3abde6"]]),$e={exports:{}};(function(h,y){(function(c,p){h.exports=p()})(window,function(){return function(c){var p={};function a(f){if(p[f])return p[f].exports;var l=p[f]={i:f,l:!1,exports:{}};return c[f].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=c,a.c=p,a.d=function(f,l,b){a.o(f,l)||Object.defineProperty(f,l,{enumerable:!0,get:b})},a.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,l){if(1&l&&(f=a(f)),8&l||4&l&&typeof f=="object"&&f&&f.__esModule)return f;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),2&l&&typeof f!="string")for(var O in f)a.d(b,O,function(w){return f[w]}.bind(null,O));return b},a.n=function(f){var l=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(l,"a",l),l},a.o=function(f,l){return Object.prototype.hasOwnProperty.call(f,l)},a.p="",a(a.s=215)}([function(c,p,a){(function(f,l){a.d(p,"a",function(){return k}),a.d(p,"b",function(){return Wo}),a.d(p,"c",function(){return An}),a.d(p,"d",function(){return nt}),a.d(p,"e",function(){return Ue}),a.d(p,"f",function(){return Ne}),a.d(p,"g",function(){return Ze}),a.d(p,"h",function(){return Gr}),a.d(p,"i",function(){return Rt}),a.d(p,"j",function(){return Ve}),a.d(p,"k",function(){return Un}),a.d(p,"l",function(){return Ho}),a.d(p,"m",function(){return At}),a.d(p,"n",function(){return Er}),a.d(p,"o",function(){return ee}),a.d(p,"p",function(){return Vi}),a.d(p,"q",function(){return Gn}),a.d(p,"r",function(){return Ui}),a.d(p,"s",function(){return xn}),a.d(p,"t",function(){return Lr}),a.d(p,"u",function(){return fo}),a.d(p,"v",function(){return tu}),a.d(p,"w",function(){return Xi}),a.d(p,"x",function(){return Br}),a.d(p,"y",function(){return sn}),a.d(p,"z",function(){return en}),a.d(p,"A",function(){return yn}),a.d(p,"B",function(){return Xn}),a.d(p,"C",function(){return qe}),a.d(p,"D",function(){return nu}),a.d(p,"E",function(){return xr}),a.d(p,"F",function(){return wr}),a.d(p,"G",function(){return Ja}),a.d(p,"H",function(){return Ci}),a.d(p,"I",function(){return Wi}),a.d(p,"J",function(){return On}),a.d(p,"K",function(){return ne}),a.d(p,"L",function(){return Ut}),a.d(p,"M",function(){return _n});var b=[];Object.freeze(b);var O={};function w(){return++Le.mobxGuid}function _(v){throw S(!1,v),"X"}function S(v,g){if(!v)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(O);function A(v){var g=!1;return function(){if(!g)return g=!0,v.apply(this,arguments)}}var P=function(){};function M(v){return v!==null&&typeof v=="object"}function R(v){if(v===null||typeof v!="object")return!1;var g=Object.getPrototypeOf(v);return g===Object.prototype||g===null}function F(v,g,E){Object.defineProperty(v,g,{enumerable:!1,writable:!0,configurable:!0,value:E})}function U(v,g){var E="isMobX"+v;return g.prototype[E]=!0,function(N){return M(N)&&N[E]===!0}}function B(v){return v instanceof Map}function Y(v){return v instanceof Set}function q(v){var g=new Set;for(var E in v)g.add(E);return Object.getOwnPropertySymbols(v).forEach(function(N){Object.getOwnPropertyDescriptor(v,N).enumerable&&g.add(N)}),Array.from(g)}function V(v){return v&&v.toString?v.toString():new String(v).toString()}function C(v){return v===null?null:typeof v=="object"?""+v:v}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),L=function(){function v(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=$.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.reportObserved=function(){return Hn(this)},v.prototype.reportChanged=function(){dn(),function(g){g.lowestObserverState!==$.STALE&&(g.lowestObserverState=$.STALE,g.observers.forEach(function(E){E.dependenciesState===$.UP_TO_DATE&&(E.isTracing!==ze.NONE&&_r(E,g),E.onBecomeStale()),E.dependenciesState=$.STALE}))}(this),hn()},v.prototype.toString=function(){return this.name},v}(),H=U("Atom",L);function ee(v,g,E){g===void 0&&(g=P),E===void 0&&(E=P);var N,D=new L(v);return g!==P&&Li("onBecomeObserved",D,g,N),E!==P&&xr(D,E),D}var K={identity:function(v,g){return v===g},structural:function(v,g){return qo(v,g)},default:function(v,g){return Object.is(v,g)},shallow:function(v,g){return qo(v,g,1)}},ue=function(v,g){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var D in N)N.hasOwnProperty(D)&&(E[D]=N[D])})(v,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var be=function(){return(be=Object.assign||function(v){for(var g,E=1,N=arguments.length;E<N;E++)for(var D in g=arguments[E])Object.prototype.hasOwnProperty.call(g,D)&&(v[D]=g[D]);return v}).apply(this,arguments)};function me(v){var g=typeof Symbol=="function"&&v[Symbol.iterator],E=0;return g?g.call(v):{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}}}function de(v,g){var E=typeof Symbol=="function"&&v[Symbol.iterator];if(!E)return v;var N,D,X=E.call(v),re=[];try{for(;(g===void 0||g-- >0)&&!(N=X.next()).done;)re.push(N.value)}catch(Oe){D={error:Oe}}finally{try{N&&!N.done&&(E=X.return)&&E.call(X)}finally{if(D)throw D.error}}return re}function he(){for(var v=[],g=0;g<arguments.length;g++)v=v.concat(de(arguments[g]));return v}var pe=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),_e={},xe={};function ke(v,g){var E=g?_e:xe;return E[v]||(E[v]={configurable:!0,enumerable:g,get:function(){return Re(this),this[v]},set:function(N){Re(this),this[v]=N}})}function Re(v){var g,E;if(v[pe]!==!0){var N=v[se];if(N){F(v,pe,!0);var D=he(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var X=me(D),re=X.next();!re.done;re=X.next()){var Oe=N[re.value];Oe.propertyCreator(v,Oe.prop,Oe.descriptor,Oe.decoratorTarget,Oe.decoratorArguments)}}catch(Ce){g={error:Ce}}finally{try{re&&!re.done&&(E=X.return)&&E.call(X)}finally{if(g)throw g.error}}}}}function Ge(v,g){return function(){var E,N=function(D,X,re,Oe){if(Oe===!0)return g(D,X,re,D,E),null;if(!Object.prototype.hasOwnProperty.call(D,se)){var Ce=D[se];F(D,se,be({},Ce))}return D[se][X]={prop:X,propertyCreator:g,descriptor:re,decoratorTarget:D,decoratorArguments:E},ke(X,v)};return Ae(arguments)?(E=b,N.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),N)}}function Ae(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function Ye(v,g,E){return Br(v)?v:Array.isArray(v)?qe.array(v,{name:E}):R(v)?qe.object(v,void 0,{name:E}):B(v)?qe.map(v,{name:E}):Y(v)?qe.set(v,{name:E}):v}function st(v){return v}function Z(v){S(v);var g=Ge(!0,function(N,D,X,re,Oe){var Ce=X?X.initializer?X.initializer.call(N):X.value:void 0;Ko(N).addObservableProp(D,Ce,v)}),E=(f!==void 0&&f.env,g);return E.enhancer=v,E}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ae(v){return v==null?J:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(J);var ve=Z(Ye),Te=Z(function(v,g,E){return v==null||yn(v)||sn(v)||en(v)||Wt(v)?v:Array.isArray(v)?qe.array(v,{name:E,deep:!1}):R(v)?qe.object(v,void 0,{name:E,deep:!1}):B(v)?qe.map(v,{name:E,deep:!1}):Y(v)?qe.set(v,{name:E,deep:!1}):_(!1)}),we=Z(st),We=Z(function(v,g,E){return qo(v,g)?g:v});function Xe(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?st:Ye}var et={box:function(v,g){arguments.length>2&&ye("box");var E=ae(g);return new Jt(v,Xe(E),E.name,!0,E.equals)},array:function(v,g){arguments.length>2&&ye("array");var E=ae(g);return $i(v,Xe(E),E.name)},map:function(v,g){arguments.length>2&&ye("map");var E=ae(g);return new Wo(v,Xe(E),E.name)},set:function(v,g){arguments.length>2&&ye("set");var E=ae(g);return new cr(v,Xe(E),E.name)},object:function(v,g,E){typeof arguments[1]=="string"&&ye("object");var N=ae(E);if(N.proxy===!1)return Gn({},v,g,N);var D=zi(N),X=Gn({},void 0,void 0,N),re=Hr(X);return Bi(re,v,g,D),re},ref:we,shallow:Te,deep:ve,struct:We},qe=function(v,g,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ve.apply(null,arguments);if(Br(v))return v;var N=R(v)?qe.object(v,g,E):Array.isArray(v)?qe.array(v,g):B(v)?qe.map(v,g):Y(v)?qe.set(v,g):v;if(N!==v)return N;_(!1)};function ye(v){_("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys(et).forEach(function(v){return qe[v]=et[v]});var $,ze,Fe=Ge(!1,function(v,g,E,N,D){var X=E.get,re=E.set,Oe=D[0]||{};Ko(v).addComputedProp(v,g,be({get:X,set:re,context:v},Oe))}),Ke=Fe({equals:K.structural}),At=function(v,g,E){if(typeof g=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return Fe.apply(null,arguments);var N=typeof g=="object"?g:{};return N.get=v,N.set=typeof g=="function"?g:N.set,N.name=N.name||v.name||"",new Fn(N)};At.struct=Ke,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}($||($={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(ze||(ze={}));var at=function(v){this.cause=v};function lt(v){return v instanceof at}function yt(v){switch(v.dependenciesState){case $.UP_TO_DATE:return!1;case $.NOT_TRACKING:case $.STALE:return!0;case $.POSSIBLY_STALE:for(var g=Ne(!0),E=je(),N=v.observing,D=N.length,X=0;X<D;X++){var re=N[X];if(ir(re)){if(Le.disableErrorBoundaries)re.get();else try{re.get()}catch{return Se(E),Ue(g),!0}if(v.dependenciesState===$.STALE)return Se(E),Ue(g),!0}}return gt(v),Se(E),Ue(g),!1}}function Rt(){return Le.trackingDerivation!==null}function G(v){var g=v.observers.size>0;Le.computationDepth>0&&g&&_(!1),Le.allowStateChanges||!g&&Le.enforceActions!=="strict"||_(!1)}function te(v,g,E){var N=Ne(!0);gt(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++Le.runId;var D,X=Le.trackingDerivation;if(Le.trackingDerivation=v,Le.disableErrorBoundaries===!0)D=g.call(E);else try{D=g.call(E)}catch(re){D=new at(re)}return Le.trackingDerivation=X,function(re){for(var Oe=re.observing,Ce=re.observing=re.newObserving,it=$.UP_TO_DATE,rt=0,Et=re.unboundDepsCount,bt=0;bt<Et;bt++)(vt=Ce[bt]).diffValue===0&&(vt.diffValue=1,rt!==bt&&(Ce[rt]=vt),rt++),vt.dependenciesState>it&&(it=vt.dependenciesState);for(Ce.length=rt,re.newObserving=null,Et=Oe.length;Et--;)(vt=Oe[Et]).diffValue===0&&Ni(vt,re),vt.diffValue=0;for(;rt--;){var vt;(vt=Ce[rt]).diffValue===1&&(vt.diffValue=0,Ka(vt,re))}it!==$.UP_TO_DATE&&(re.dependenciesState=it,re.onBecomeStale())}(v),Ue(N),D}function fe(v){var g=v.observing;v.observing=[];for(var E=g.length;E--;)Ni(g[E],v);v.dependenciesState=$.NOT_TRACKING}function ne(v){var g=je();try{return v()}finally{Se(g)}}function je(){var v=Le.trackingDerivation;return Le.trackingDerivation=null,v}function Se(v){Le.trackingDerivation=v}function Ne(v){var g=Le.allowStateReads;return Le.allowStateReads=v,g}function Ue(v){Le.allowStateReads=v}function gt(v){if(v.dependenciesState!==$.UP_TO_DATE){v.dependenciesState=$.UP_TO_DATE;for(var g=v.observing,E=g.length;E--;)g[E].lowestObserverState=$.UP_TO_DATE}}var wt=0,Yt=1,Zt=Object.getOwnPropertyDescriptor(function(){},"name");Zt&&Zt.configurable;function ut(v,g,E){var N=function(){return Me(v,g,E||this,arguments)};return N.isMobxAction=!0,N}function Me(v,g,E,N){var D=Ve();try{return g.apply(E,N)}catch(X){throw D.error=X,X}finally{Ze(D)}}function Ve(v,g,E){var N=0,D=je();dn();var X={prevDerivation:D,prevAllowStateChanges:xt(!0),prevAllowStateReads:Ne(!0),notifySpy:!1,startTime:N,actionId:Yt++,parentActionId:wt};return wt=X.actionId,X}function Ze(v){wt!==v.actionId&&_("invalid action stack. did you forget to finish an action?"),wt=v.parentActionId,v.error!==void 0&&(Le.suppressReactionErrors=!0),Nt(v.prevAllowStateChanges),Ue(v.prevAllowStateReads),hn(),Se(v.prevDerivation),v.notifySpy,Le.suppressReactionErrors=!1}function nt(v,g){var E,N=xt(v);try{E=g()}finally{Nt(N)}return E}function xt(v){var g=Le.allowStateChanges;return Le.allowStateChanges=v,g}function Nt(v){Le.allowStateChanges=v}var Jt=function(v){function g(E,N,D,X,re){D===void 0&&(D="ObservableValue@"+w()),re===void 0&&(re=K.default);var Oe=v.call(this,D)||this;return Oe.enhancer=N,Oe.name=D,Oe.equals=re,Oe.hasUnreportedChange=!1,Oe.value=N(E,void 0,D),Oe}return function(E,N){function D(){this.constructor=E}ue(E,N),E.prototype=N===null?Object.create(N):(D.prototype=N.prototype,new D)}(g,v),g.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},g.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Le.UNCHANGED&&this.setNewValue(E)},g.prototype.prepareNewValue=function(E){if(G(this),wn(this)){var N=cn(this,{object:this,type:"update",newValue:E});if(!N)return Le.UNCHANGED;E=N.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Le.UNCHANGED:E},g.prototype.setNewValue=function(E){var N=this.value;this.value=E,this.reportChanged(),ft(this)&&Qt(this,{type:"update",object:this,newValue:E,oldValue:N})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(E){return Vn(this,E)},g.prototype.observe=function(E,N){return N&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ur(this,E)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return C(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(L),zo=U("ObservableValue",Jt),Fn=function(){function v(g){this.dependenciesState=$.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=$.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new at(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ze.NONE,S(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=ut(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?K.structural:K.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return v.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===$.UP_TO_DATE&&(g.lowestObserverState=$.POSSIBLY_STALE,g.observers.forEach(function(E){E.dependenciesState===$.UP_TO_DATE&&(E.dependenciesState=$.POSSIBLY_STALE,E.isTracing!==ze.NONE&&_r(E,g),E.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.get=function(){this.isComputing&&_("Cycle detected in computation "+this.name+": "+this.derivation),Le.inBatch!==0||this.observers.size!==0||this.keepAlive?(Hn(this),yt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==$.STALE&&(E.lowestObserverState=$.STALE,E.observers.forEach(function(N){N.dependenciesState===$.POSSIBLY_STALE?N.dependenciesState=$.STALE:N.dependenciesState===$.UP_TO_DATE&&(E.lowestObserverState=$.UP_TO_DATE)}))}(this)):yt(this)&&(this.warnAboutUntrackedRead(),dn(),this.value=this.computeValue(!1),hn());var g=this.value;if(lt(g))throw g.cause;return g},v.prototype.peek=function(){var g=this.computeValue(!1);if(lt(g))throw g.cause;return g},v.prototype.set=function(g){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else S(!1,!1)},v.prototype.trackAndCompute=function(){var g=this.value,E=this.dependenciesState===$.NOT_TRACKING,N=this.computeValue(!0),D=E||lt(g)||lt(N)||!this.equals(g,N);return D&&(this.value=N),D},v.prototype.computeValue=function(g){var E;if(this.isComputing=!0,Le.computationDepth++,g)E=te(this,this.derivation,this.scope);else if(Le.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(N){E=new at(N)}return Le.computationDepth--,this.isComputing=!1,E},v.prototype.suspend=function(){this.keepAlive||(fe(this),this.value=void 0)},v.prototype.observe=function(g,E){var N=this,D=!0,X=void 0;return Ho(function(){var re=N.get();if(!D||E){var Oe=je();g({type:"update",object:N,newValue:re,oldValue:X}),Se(Oe)}D=!1,X=re})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return C(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),ir=U("ComputedValue",Fn),co=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Wa={};function Pn(){return typeof window!="undefined"?window:l!==void 0?l:typeof self!="undefined"?self:Wa}var so=!0,Ti=!1,Le=function(){var v=Pn();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&(so=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new co().version&&(so=!1),so?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new co):(setTimeout(function(){Ti||_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new co)}();function Ka(v,g){v.observers.add(g),v.lowestObserverState>g.dependenciesState&&(v.lowestObserverState=g.dependenciesState)}function Ni(v,g){v.observers.delete(g),v.observers.size===0&&Di(v)}function Di(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,Le.pendingUnobservations.push(v))}function dn(){Le.inBatch++}function hn(){if(--Le.inBatch==0){Mi();for(var v=Le.pendingUnobservations,g=0;g<v.length;g++){var E=v[g];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Fn&&E.suspend())}Le.pendingUnobservations=[]}}function Hn(v){var g=Le.trackingDerivation;return g!==null?(g.runId!==v.lastAccessedBy&&(v.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&Le.inBatch>0&&Di(v),!1)}function _r(v,g){if(console.log("[mobx.trace] '"+v.name+"' is invalidated due to a change in: '"+g.name+"'"),v.isTracing===ze.BREAK){var E=[];(function N(D,X,re){if(X.length>=1e3)return void X.push("(and many more)");X.push(""+new Array(re).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(Oe){return N(Oe,X,re+1)})})(Lr(v),E,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof Fn?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var An=function(){function v(g,E,N,D){g===void 0&&(g="Reaction@"+w()),D===void 0&&(D=!1),this.name=g,this.onInvalidate=E,this.errorHandler=N,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=$.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ze.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Le.pendingReactions.push(this),Mi())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(dn(),this._isScheduled=!1,yt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}hn()}},v.prototype.track=function(g){if(!this.isDisposed){dn(),this._isRunning=!0;var E=te(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&fe(this),lt(E)&&this.reportExceptionInDerivation(E.cause),hn()}},v.prototype.reportExceptionInDerivation=function(g){var E=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Le.disableErrorBoundaries)throw g;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Le.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,g),Le.globalReactionErrorHandlers.forEach(function(D){return D(g,E)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(dn(),fe(this),hn()))},v.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[k]=this,g},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];var D=!1;typeof E[E.length-1]=="boolean"&&(D=E.pop());var X=Go(E);if(!X)return _(!1);X.isTracing===ze.NONE&&console.log("[mobx.trace] '"+X.name+"' tracing enabled"),X.isTracing=D?ze.BREAK:ze.LOG}(this,g)},v}(),Bo=function(v){return v()};function Mi(){Le.inBatch>0||Le.isRunningReactions||Bo($a)}function $a(){Le.isRunningReactions=!0;for(var v=Le.pendingReactions,g=0;v.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+v[0]),v.splice(0));for(var E=v.splice(0),N=0,D=E.length;N<D;N++)E[N].runReaction()}Le.isRunningReactions=!1}var lo=U("Reaction",An);function qa(v){var g=Bo;Bo=function(E){return v(function(){return g(E)})}}function Ci(v){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Za(){_(!1)}function ar(v){return function(g,E,N){if(N){if(N.value)return{value:ut(v,N.value),enumerable:!1,configurable:!0,writable:!0};var D=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ut(v,D.call(this))}}}return Ri(v).apply(this,arguments)}}function Ri(v){return function(g,E,N){Object.defineProperty(g,E,{configurable:!0,enumerable:!1,get:function(){},set:function(D){F(this,E,Un(v,D))}})}}var Un=function(v,g,E,N){return arguments.length===1&&typeof v=="function"?ut(v.name||"<unnamed action>",v):arguments.length===2&&typeof g=="function"?ut(v,g):arguments.length===1&&typeof v=="string"?ar(v):N!==!0?ar(g).apply(null,arguments):void F(v,g,ut(v.name||g,E.value,this))};function Ja(v,g){return Me(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:g,this,void 0)}function fo(v){return typeof v=="function"&&v.isMobxAction===!0}function Fo(v,g,E){F(v,g,ut(g,E.bind(v)))}function Ho(v,g){g===void 0&&(g=O);var E,N=g&&g.name||v.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)E=new An(N,function(){this.track(re)},g.onError,g.requiresObservable);else{var D=Ii(g),X=!1;E=new An(N,function(){X||(X=!0,D(function(){X=!1,E.isDisposed||E.track(re)}))},g.onError,g.requiresObservable)}function re(){v(E)}return E.schedule(),E.getDisposer()}Un.bound=function(v,g,E,N){return N===!0?(Fo(v,g,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Fo(this,g,E.value||E.initializer.call(this)),this[g]},set:Za}:{enumerable:!1,configurable:!0,set:function(D){Fo(this,g,D)},get:function(){}}};var Qa=function(v){return v()};function Ii(v){return v.scheduler?v.scheduler:v.delay?function(g){return setTimeout(g,v.delay)}:Qa}function wr(v,g,E){E===void 0&&(E=O);var N,D,X,re=E.name||"Reaction@"+w(),Oe=Un(re,E.onError?(N=E.onError,D=g,function(){try{return D.apply(this,arguments)}catch(jt){N.call(this,jt)}}):g),Ce=!E.scheduler&&!E.delay,it=Ii(E),rt=!0,Et=!1,bt=E.compareStructural?K.structural:E.equals||K.default,vt=new An(re,function(){rt||Ce?Pt():Et||(Et=!0,it(Pt))},E.onError,E.requiresObservable);function Pt(){if(Et=!1,!vt.isDisposed){var jt=!1;vt.track(function(){var mt=v(vt);jt=rt||!bt(X,mt),X=mt}),rt&&E.fireImmediately&&Oe(X,vt),rt||jt!==!0||Oe(X,vt),rt&&(rt=!1)}}return vt.schedule(),vt.getDisposer()}function xr(v,g,E){return Li("onBecomeUnobserved",v,g,E)}function Li(v,g,E,N){var D=typeof N=="function"?xn(g,E):xn(g),X=typeof N=="function"?N:E,re=v+"Listeners";return D[re]?D[re].add(X):D[re]=new Set([X]),typeof D[v]!="function"?_(!1):function(){var Oe=D[re];Oe&&(Oe.delete(X),Oe.size===0&&delete D[re])}}function Er(v){var g=v.enforceActions,E=v.computedRequiresReaction,N=v.computedConfigurable,D=v.disableErrorBoundaries,X=v.reactionScheduler,re=v.reactionRequiresObservable,Oe=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((Le.pendingReactions.length||Le.inBatch||Le.isRunningReactions)&&_("isolateGlobalState should be called before MobX is running any reactions"),Ti=!0,so&&(--Pn().__mobxInstanceCount==0&&(Pn().__mobxGlobals=void 0),Le=new co)),g!==void 0){var Ce=void 0;switch(g){case!0:case"observed":Ce=!0;break;case!1:case"never":Ce=!1;break;case"strict":case"always":Ce="strict";break;default:_("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Le.enforceActions=Ce,Le.allowStateChanges=Ce!==!0&&Ce!=="strict"}E!==void 0&&(Le.computedRequiresReaction=!!E),re!==void 0&&(Le.reactionRequiresObservable=!!re),Oe!==void 0&&(Le.observableRequiresReaction=!!Oe,Le.allowStateReads=!Le.observableRequiresReaction),N!==void 0&&(Le.computedConfigurable=!!N),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Le.disableErrorBoundaries=!!D),X&&qa(X)}function Gn(v,g,E,N){var D=zi(N=ae(N));return Re(v),Ko(v,N.name,D.enhancer),g&&Bi(v,g,E,D),v}function zi(v){return v.defaultDecorator||(v.deep===!1?we:ve)}function Bi(v,g,E,N){var D,X;dn();try{var re=z(g);try{for(var Oe=me(re),Ce=Oe.next();!Ce.done;Ce=Oe.next()){var it=Ce.value,rt=Object.getOwnPropertyDescriptor(g,it),Et=(E&&it in E?E[it]:rt.get?Fe:N)(v,it,rt,!0);Et&&Object.defineProperty(v,it,Et)}}catch(bt){D={error:bt}}finally{try{Ce&&!Ce.done&&(X=Oe.return)&&X.call(Oe)}finally{if(D)throw D.error}}}finally{hn()}}function Lr(v,g){return Fi(xn(v,g))}function Fi(v){var g,E,N={name:v.name};return v.observing&&v.observing.length>0&&(N.dependencies=(g=v.observing,E=[],g.forEach(function(D){E.indexOf(D)===-1&&E.push(D)}),E).map(Fi)),N}var eu=0;function Hi(){this.message="FLOW_CANCELLED"}function Ui(v){arguments.length!==1&&_("Flow expects 1 argument and cannot be used as decorator");var g=v.name||"<unnamed flow>";return function(){var E,N=this,D=arguments,X=++eu,re=Un(g+" - runid: "+X+" - init",v).apply(N,D),Oe=void 0,Ce=new Promise(function(it,rt){var Et=0;function bt(jt){var mt;Oe=void 0;try{mt=Un(g+" - runid: "+X+" - yield "+Et++,re.next).call(re,jt)}catch(Tn){return rt(Tn)}Pt(mt)}function vt(jt){var mt;Oe=void 0;try{mt=Un(g+" - runid: "+X+" - yield "+Et++,re.throw).call(re,jt)}catch(Tn){return rt(Tn)}Pt(mt)}function Pt(jt){if(!jt||typeof jt.then!="function")return jt.done?it(jt.value):(Oe=Promise.resolve(jt.value)).then(bt,vt);jt.then(Pt,rt)}E=rt,bt(void 0)});return Ce.cancel=Un(g+" - runid: "+X+" - cancel",function(){try{Oe&&zr(Oe);var it=re.return(void 0),rt=Promise.resolve(it.value);rt.then(P,P),zr(rt),E(new Hi)}catch(Et){E(Et)}}),Ce}}function zr(v){typeof v.cancel=="function"&&v.cancel()}function Gi(v,g){if(v==null)return!1;if(g!==void 0){if(yn(v)===!1||!v[k].values.has(g))return!1;var E=xn(v,g);return ir(E)}return ir(v)}function tu(v){return arguments.length>1?_(!1):Gi(v)}function Xi(v,g){return typeof g!="string"?_(!1):Gi(v,g)}function Uo(v,g){return v!=null&&(g!==void 0?!!yn(v)&&v[k].values.has(g):yn(v)||!!v[k]||H(v)||lo(v)||ir(v))}function Br(v){return arguments.length!==1&&_(!1),Uo(v)}function Xn(v){return yn(v)?v[k].getKeys():en(v)||Wt(v)?Array.from(v.keys()):sn(v)?v.map(function(g,E){return E}):_(!1)}function Ut(v){return yn(v)?Xn(v).map(function(g){return v[g]}):en(v)?Xn(v).map(function(g){return v.get(g)}):Wt(v)?Array.from(v.values()):sn(v)?v.slice():_(!1)}function Vi(v){return yn(v)?Xn(v).map(function(g){return[g,v[g]]}):en(v)?Xn(v).map(function(g){return[g,v.get(g)]}):Wt(v)?Array.from(v.entries()):sn(v)?v.map(function(g,E){return[E,g]}):_(!1)}function nu(v,g,E,N){return typeof E=="function"?function(D,X,re,Oe){return Gr(D,X).observe(re,Oe)}(v,g,E,N):function(D,X,re){return Gr(D).observe(X,re)}(v,g,E)}Hi.prototype=Object.create(Error.prototype);var Yi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function jr(v,g,E,N){return N.detectCycles&&v.set(g,E),E}function Wi(v,g){var E;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Yi),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(E=new Map),function N(D,X,re){if(!X.recurseEverything&&!Br(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(zo(D))return N(D.get(),X,re);if(Br(D)&&Xn(D),X.detectCycles===!0&&D!==null&&re.has(D))return re.get(D);if(sn(D)||Array.isArray(D)){var Oe=jr(re,D,[],X),Ce=D.map(function(mt){return N(mt,X,re)});Oe.length=Ce.length;for(var it=0,rt=Ce.length;it<rt;it++)Oe[it]=Ce[it];return Oe}if(Wt(D)||Object.getPrototypeOf(D)===Set.prototype){if(X.exportMapsAsObjects===!1){var Et=jr(re,D,new Set,X);return D.forEach(function(mt){Et.add(N(mt,X,re))}),Et}var bt=jr(re,D,[],X);return D.forEach(function(mt){bt.push(N(mt,X,re))}),bt}if(en(D)||Object.getPrototypeOf(D)===Map.prototype){if(X.exportMapsAsObjects===!1){var vt=jr(re,D,new Map,X);return D.forEach(function(mt,Tn){vt.set(Tn,N(mt,X,re))}),vt}var Pt=jr(re,D,{},X);return D.forEach(function(mt,Tn){Pt[Tn]=N(mt,X,re)}),Pt}var jt=jr(re,D,{},X);return q(D).forEach(function(mt){jt[mt]=N(D[mt],X,re)}),jt}(v,g,E)}function Go(v){switch(v.length){case 0:return Le.trackingDerivation;case 1:return xn(v[0]);case 2:return xn(v[0],v[1])}}function On(v,g){g===void 0&&(g=void 0),dn();try{return v.apply(g)}finally{hn()}}function _n(v,g,E){return arguments.length===1||g&&typeof g=="object"?Ki(v,g):Xo(v,g,E||{})}function Xo(v,g,E){var N;typeof E.timeout=="number"&&(N=setTimeout(function(){if(!X[k].isDisposed){X();var re=new Error("WHEN_TIMEOUT");if(!E.onError)throw re;E.onError(re)}},E.timeout)),E.name=E.name||"When@"+w();var D=ut(E.name+"-effect",g),X=Ho(function(re){v()&&(re.dispose(),N&&clearTimeout(N),D())},E);return X}function Ki(v,g){var E,N=new Promise(function(D,X){var re=Xo(v,D,be(be({},g),{onError:X}));E=function(){re(),X("WHEN_CANCELLED")}});return N.cancel=E,N}function po(v){return v[k]}function ho(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var Fr={has:function(v,g){if(g===k||g==="constructor"||g===pe)return!0;var E=po(v);return ho(g)?E.has(g):g in v},get:function(v,g){if(g===k||g==="constructor"||g===pe)return v[g];var E=po(v),N=E.values.get(g);if(N instanceof L){var D=N.get();return D===void 0&&E.has(g),D}return ho(g)&&E.has(g),v[g]},set:function(v,g,E){return!!ho(g)&&(function N(D,X,re){if(arguments.length!==2||Wt(D))if(yn(D)){var Oe=D[k],Ce=Oe.values.get(X);Ce?Oe.write(X,re):Oe.addObservableProp(X,re,Oe.defaultEnhancer)}else if(en(D))D.set(X,re);else if(Wt(D))D.add(X);else{if(!sn(D))return _(!1);typeof X!="number"&&(X=parseInt(X,10)),S(X>=0,"Not a valid index: '"+X+"'"),dn(),X>=D.length&&(D.length=X+1),D[X]=re,hn()}else{dn();var it=X;try{for(var rt in it)N(D,rt,it[rt])}finally{hn()}}}(v,g,E),!0)},deleteProperty:function(v,g){return!!ho(g)&&(po(v).remove(g),!0)},ownKeys:function(v){return po(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return _("Dynamic observable objects cannot be frozen"),!1}};function Hr(v){var g=new Proxy(v,Fr);return v[k].proxy=g,g}function wn(v){return v.interceptors!==void 0&&v.interceptors.length>0}function Vn(v,g){var E=v.interceptors||(v.interceptors=[]);return E.push(g),A(function(){var N=E.indexOf(g);N!==-1&&E.splice(N,1)})}function cn(v,g){var E=je();try{for(var N=he(v.interceptors||[]),D=0,X=N.length;D<X&&(S(!(g=N[D](g))||g.type,"Intercept handlers should return nothing or a change object"),g);D++);return g}finally{Se(E)}}function ft(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function Ur(v,g){var E=v.changeListeners||(v.changeListeners=[]);return E.push(g),A(function(){var N=E.indexOf(g);N!==-1&&E.splice(N,1)})}function Qt(v,g){var E=je(),N=v.changeListeners;if(N){for(var D=0,X=(N=N.slice()).length;D<X;D++)N[D](g);Se(E)}}var Sr={get:function(v,g){return g===k?v[k]:g==="length"?v[k].getArrayLength():typeof g=="number"?kn.get.call(v,g):typeof g!="string"||isNaN(g)?kn.hasOwnProperty(g)?kn[g]:v[g]:kn.get.call(v,parseInt(g))},set:function(v,g,E){return g==="length"&&v[k].setArrayLength(E),typeof g=="number"&&kn.set.call(v,g,E),typeof g=="symbol"||isNaN(g)?v[g]=E:kn.set.call(v,parseInt(g),E),!0},preventExtensions:function(v){return _("Observable arrays cannot be frozen"),!1}};function $i(v,g,E,N){E===void 0&&(E="ObservableArray@"+w()),N===void 0&&(N=!1);var D,X,re,Oe=new yo(E,g,N);D=Oe.values,X=k,re=Oe,Object.defineProperty(D,X,{enumerable:!1,writable:!1,configurable:!0,value:re});var Ce=new Proxy(Oe.values,Sr);if(Oe.proxy=Ce,v&&v.length){var it=xt(!0);Oe.spliceWithArray(0,0,v),Nt(it)}return Ce}var yo=function(){function v(g,E,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(g||"ObservableArray@"+w()),this.enhancer=function(D,X){return E(D,X,g+"[..]")}}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},v.prototype.intercept=function(g){return Vn(this,g)},v.prototype.observe=function(g,E){return E===void 0&&(E=!1),E&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ur(this,g)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var E=this.values.length;if(g!==E)if(g>E){for(var N=new Array(g-E),D=0;D<g-E;D++)N[D]=void 0;this.spliceWithArray(E,0,N)}else this.spliceWithArray(g,E-g)},v.prototype.updateArrayLength=function(g,E){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},v.prototype.spliceWithArray=function(g,E,N){var D=this;G(this.atom);var X=this.values.length;if(g===void 0?g=0:g>X?g=X:g<0&&(g=Math.max(0,X+g)),E=arguments.length===1?X-g:E==null?0:Math.max(0,Math.min(E,X-g)),N===void 0&&(N=b),wn(this)){var re=cn(this,{object:this.proxy,type:"splice",index:g,removedCount:E,added:N});if(!re)return b;E=re.removedCount,N=re.added}N=N.length===0?N:N.map(function(Ce){return D.enhancer(Ce,void 0)});var Oe=this.spliceItemsIntoValues(g,E,N);return E===0&&N.length===0||this.notifyArraySplice(g,N,Oe),this.dehanceValues(Oe)},v.prototype.spliceItemsIntoValues=function(g,E,N){var D;if(N.length<1e4)return(D=this.values).splice.apply(D,he([g,E],N));var X=this.values.slice(g,g+E);return this.values=this.values.slice(0,g).concat(N,this.values.slice(g+E)),X},v.prototype.notifyArrayChildUpdate=function(g,E,N){var D=!this.owned&&!1,X=ft(this),re=X||D?{object:this.proxy,type:"update",index:g,newValue:E,oldValue:N}:null;this.atom.reportChanged(),X&&Qt(this,re)},v.prototype.notifyArraySplice=function(g,E,N){var D=!this.owned&&!1,X=ft(this),re=X||D?{object:this.proxy,type:"splice",index:g,removed:N,added:E,removedCount:N.length,addedCount:E.length}:null;this.atom.reportChanged(),X&&Qt(this,re)},v}(),kn={intercept:function(v){return this[k].intercept(v)},observe:function(v,g){return g===void 0&&(g=!1),this[k].observe(v,g)},clear:function(){return this.splice(0)},replace:function(v){var g=this[k];return g.spliceWithArray(0,g.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,g){for(var E=[],N=2;N<arguments.length;N++)E[N-2]=arguments[N];var D=this[k];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(v);case 2:return D.spliceWithArray(v,g)}return D.spliceWithArray(v,g,E)},spliceWithArray:function(v,g,E){return this[k].spliceWithArray(v,g,E)},push:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[k];return E.spliceWithArray(E.values.length,0,v),E.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[k];return E.spliceWithArray(0,0,v),E.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(v){var g=this[k],E=g.dehanceValues(g.values).indexOf(v);return E>-1&&(this.splice(E,1),!0)},get:function(v){var g=this[k];if(g){if(v<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[v]);console.warn("[mobx.array] Attempt to read an array index ("+v+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(v,g){var E=this[k],N=E.values;if(v<N.length){G(E.atom);var D=N[v];if(wn(E)){var X=cn(E,{type:"update",object:E.proxy,index:v,newValue:g});if(!X)return;g=X.newValue}(g=E.enhancer(g,D))!==D&&(N[v]=g,E.notifyArrayChildUpdate(v,g,D))}else{if(v!==N.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+N.length);E.spliceWithArray(v,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(kn[v]=function(){var g=this[k];g.atom.reportObserved();var E=g.dehanceValues(g.values);return E[v].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(kn[v]=function(g,E){var N=this,D=this[k];return D.atom.reportObserved(),D.dehanceValues(D.values)[v](function(X,re){return g.call(E,X,re,N)},E)})}),["reduce","reduceRight"].forEach(function(v){kn[v]=function(){var g=this,E=this[k];E.atom.reportObserved();var N=arguments[0];return arguments[0]=function(D,X,re){return X=E.dehanceValue(X),N(D,X,re,g)},E.values[v].apply(E.values,arguments)}});var Vo,ru=U("ObservableArrayAdministration",yo);function sn(v){return M(v)&&ru(v[k])}var Yo,ou={},Wo=function(){function v(g,E,N){if(E===void 0&&(E=Ye),N===void 0&&(N="ObservableMap@"+w()),this.enhancer=E,this.name=N,this[Vo]=ou,this._keysAtom=ee(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return v.prototype._has=function(g){return this._data.has(g)},v.prototype.has=function(g){var E=this;if(!Le.trackingDerivation)return this._has(g);var N=this._hasMap.get(g);if(!N){var D=N=new Jt(this._has(g),st,this.name+"."+V(g)+"?",!1);this._hasMap.set(g,D),xr(D,function(){return E._hasMap.delete(g)})}return N.get()},v.prototype.set=function(g,E){var N=this._has(g);if(wn(this)){var D=cn(this,{type:N?"update":"add",object:this,newValue:E,name:g});if(!D)return this;E=D.newValue}return N?this._updateValue(g,E):this._addValue(g,E),this},v.prototype.delete=function(g){var E=this;if(G(this._keysAtom),wn(this)&&!(D=cn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var N=ft(this),D=N?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return On(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(g,!1),E._data.get(g).setNewValue(void 0),E._data.delete(g)}),N&&Qt(this,D),!0}return!1},v.prototype._updateHasMapEntry=function(g,E){var N=this._hasMap.get(g);N&&N.setNewValue(E)},v.prototype._updateValue=function(g,E){var N=this._data.get(g);if((E=N.prepareNewValue(E))!==Le.UNCHANGED){var D=ft(this),X=D?{type:"update",object:this,oldValue:N.value,name:g,newValue:E}:null;N.setNewValue(E),D&&Qt(this,X)}},v.prototype._addValue=function(g,E){var N=this;G(this._keysAtom),On(function(){var re=new Jt(E,N.enhancer,N.name+"."+V(g),!1);N._data.set(g,re),E=re.value,N._updateHasMapEntry(g,!0),N._keysAtom.reportChanged()});var D=ft(this),X=D?{type:"add",object:this,name:g,newValue:E}:null;D&&Qt(this,X)},v.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var g=this,E=this.keys();return Vr({next:function(){var N=E.next(),D=N.done,X=N.value;return{done:D,value:D?void 0:g.get(X)}}})},v.prototype.entries=function(){var g=this,E=this.keys();return Vr({next:function(){var N=E.next(),D=N.done,X=N.value;return{done:D,value:D?void 0:[X,g.get(X)]}}})},v.prototype[Vo=k,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(g,E){var N,D;try{for(var X=me(this),re=X.next();!re.done;re=X.next()){var Oe=de(re.value,2),Ce=Oe[0],it=Oe[1];g.call(E,it,Ce,this)}}catch(rt){N={error:rt}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(N)throw N.error}}},v.prototype.merge=function(g){var E=this;return en(g)&&(g=g.toJS()),On(function(){var N=xt(!0);try{R(g)?q(g).forEach(function(D){return E.set(D,g[D])}):Array.isArray(g)?g.forEach(function(D){var X=de(D,2),re=X[0],Oe=X[1];return E.set(re,Oe)}):B(g)?(g.constructor!==Map&&_("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(D,X){return E.set(X,D)})):g!=null&&_("Cannot initialize map from "+g)}finally{Nt(N)}}),this},v.prototype.clear=function(){var g=this;On(function(){ne(function(){var E,N;try{for(var D=me(g.keys()),X=D.next();!X.done;X=D.next()){var re=X.value;g.delete(re)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(N=D.return)&&N.call(D)}finally{if(E)throw E.error}}})})},v.prototype.replace=function(g){var E=this;return On(function(){var N,D,X,re,Oe=function(tn){if(B(tn)||en(tn))return tn;if(Array.isArray(tn))return new Map(tn);if(R(tn)){var Ji=new Map;for(var Jo in tn)Ji.set(Jo,tn[Jo]);return Ji}return _("Cannot convert to map from '"+tn+"'")}(g),Ce=new Map,it=!1;try{for(var rt=me(E._data.keys()),Et=rt.next();!Et.done;Et=rt.next()){var bt=Et.value;if(!Oe.has(bt))if(E.delete(bt))it=!0;else{var vt=E._data.get(bt);Ce.set(bt,vt)}}}catch(tn){N={error:tn}}finally{try{Et&&!Et.done&&(D=rt.return)&&D.call(rt)}finally{if(N)throw N.error}}try{for(var Pt=me(Oe.entries()),jt=Pt.next();!jt.done;jt=Pt.next()){var mt=de(jt.value,2),Tn=(bt=mt[0],vt=mt[1],E._data.has(bt));if(E.set(bt,vt),E._data.has(bt)){var au=E._data.get(bt);Ce.set(bt,au),Tn||(it=!0)}}}catch(tn){X={error:tn}}finally{try{jt&&!jt.done&&(re=Pt.return)&&re.call(Pt)}finally{if(X)throw X.error}}if(!it)if(E._data.size!==Ce.size)E._keysAtom.reportChanged();else for(var Yr=E._data.keys(),Pr=Ce.keys(),Wr=Yr.next(),Zo=Pr.next();!Wr.done;){if(Wr.value!==Zo.value){E._keysAtom.reportChanged();break}Wr=Yr.next(),Zo=Pr.next()}E._data=Ce}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var g,E,N={};try{for(var D=me(this),X=D.next();!X.done;X=D.next()){var re=de(X.value,2),Oe=re[0],Ce=re[1];N[typeof Oe=="symbol"?Oe:V(Oe)]=Ce}}catch(it){g={error:it}}finally{try{X&&!X.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return N},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return V(E)+": "+g.get(E)}).join(", ")+" }]"},v.prototype.observe=function(g,E){return Ur(this,g)},v.prototype.intercept=function(g){return Vn(this,g)},v}(),en=U("ObservableMap",Wo),ur={},cr=function(){function v(g,E,N){if(E===void 0&&(E=Ye),N===void 0&&(N="ObservableSet@"+w()),this.name=N,this[Yo]=ur,this._data=new Set,this._atom=ee(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,X){return E(D,X,N)},g&&this.replace(g)}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.clear=function(){var g=this;On(function(){ne(function(){var E,N;try{for(var D=me(g._data.values()),X=D.next();!X.done;X=D.next()){var re=X.value;g.delete(re)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(N=D.return)&&N.call(D)}finally{if(E)throw E.error}}})})},v.prototype.forEach=function(g,E){var N,D;try{for(var X=me(this),re=X.next();!re.done;re=X.next()){var Oe=re.value;g.call(E,Oe,Oe,this)}}catch(Ce){N={error:Ce}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(N)throw N.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(g){var E=this;if(G(this._atom),wn(this)&&!(D=cn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){On(function(){E._data.add(E.enhancer(g,void 0)),E._atom.reportChanged()});var N=ft(this),D=N?{type:"add",object:this,newValue:g}:null;N&&Qt(this,D)}return this},v.prototype.delete=function(g){var E=this;if(wn(this)&&!(D=cn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var N=ft(this),D=N?{type:"delete",object:this,oldValue:g}:null;return On(function(){E._atom.reportChanged(),E._data.delete(g)}),N&&Qt(this,D),!0}return!1},v.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},v.prototype.entries=function(){var g=0,E=Array.from(this.keys()),N=Array.from(this.values());return Vr({next:function(){var D=g;return g+=1,D<N.length?{value:[E[D],N[D]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var g=this,E=0,N=Array.from(this._data.values());return Vr({next:function(){return E<N.length?{value:g.dehanceValue(N[E++]),done:!1}:{done:!0}}})},v.prototype.replace=function(g){var E=this;return Wt(g)&&(g=g.toJS()),On(function(){var N=xt(!0);try{Array.isArray(g)||Y(g)?(E.clear(),g.forEach(function(D){return E.add(D)})):g!=null&&_("Cannot initialize set from "+g)}finally{Nt(N)}}),this},v.prototype.observe=function(g,E){return Ur(this,g)},v.prototype.intercept=function(g){return Vn(this,g)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[Yo=k,Symbol.iterator]=function(){return this.values()},v}(),Wt=U("ObservableSet",cr),qi=function(){function v(g,E,N,D){E===void 0&&(E=new Map),this.target=g,this.values=E,this.name=N,this.defaultEnhancer=D,this.keysAtom=new L(N+".keys")}return v.prototype.read=function(g){return this.values.get(g).get()},v.prototype.write=function(g,E){var N=this.target,D=this.values.get(g);if(D instanceof Fn)D.set(E);else{if(wn(this)){if(!(re=cn(this,{type:"update",object:this.proxy||N,name:g,newValue:E})))return;E=re.newValue}if((E=D.prepareNewValue(E))!==Le.UNCHANGED){var X=ft(this),re=X?{type:"update",object:this.proxy||N,oldValue:D.value,name:g,newValue:E}:null;D.setNewValue(E),X&&Qt(this,re)}}},v.prototype.has=function(g){var E=this.pendingKeys||(this.pendingKeys=new Map),N=E.get(g);if(N)return N.get();var D=!!this.values.get(g);return N=new Jt(D,st,this.name+"."+V(g)+"?",!1),E.set(g,N),N.get()},v.prototype.addObservableProp=function(g,E,N){N===void 0&&(N=this.defaultEnhancer);var D=this.target;if(wn(this)){var X=cn(this,{object:this.proxy||D,name:g,type:"add",newValue:E});if(!X)return;E=X.newValue}var re=new Jt(E,N,this.name+"."+V(g),!1);this.values.set(g,re),E=re.value,Object.defineProperty(D,g,function(Oe){return vo[Oe]||(vo[Oe]={configurable:!0,enumerable:!0,get:function(){return this[k].read(Oe)},set:function(Ce){this[k].write(Oe,Ce)}})}(g)),this.notifyPropertyAddition(g,E)},v.prototype.addComputedProp=function(g,E,N){var D,X,re,Oe=this.target;N.name=N.name||this.name+"."+V(E),this.values.set(E,new Fn(N)),(g===Oe||(D=g,X=E,!(re=Object.getOwnPropertyDescriptor(D,X))||re.configurable!==!1&&re.writable!==!1))&&Object.defineProperty(g,E,function(Ce){return go[Ce]||(go[Ce]={configurable:Le.computedConfigurable,enumerable:!1,get:function(){return bo(this).read(Ce)},set:function(it){bo(this).write(Ce,it)}})}(E))},v.prototype.remove=function(g){if(this.values.has(g)){var E=this.target;if(wn(this)&&!(Oe=cn(this,{object:this.proxy||E,name:g,type:"remove"})))return;try{dn();var N=ft(this),D=this.values.get(g),X=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var re=this.pendingKeys.get(g);re&&re.set(!1)}delete this.target[g];var Oe=N?{type:"remove",object:this.proxy||E,oldValue:X,name:g}:null;N&&Qt(this,Oe)}finally{hn()}}},v.prototype.illegalAccess=function(g,E){console.warn("Property '"+E+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},v.prototype.observe=function(g,E){return Ur(this,g)},v.prototype.intercept=function(g){return Vn(this,g)},v.prototype.notifyPropertyAddition=function(g,E){var N=ft(this),D=N?{type:"add",object:this.proxy||this.target,name:g,newValue:E}:null;if(N&&Qt(this,D),this.pendingKeys){var X=this.pendingKeys.get(g);X&&X.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var g,E;this.keysAtom.reportObserved();var N=[];try{for(var D=me(this.values),X=D.next();!X.done;X=D.next()){var re=de(X.value,2),Oe=re[0];re[1]instanceof Jt&&N.push(Oe)}}catch(Ce){g={error:Ce}}finally{try{X&&!X.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return N},v}();function Ko(v,g,E){if(g===void 0&&(g=""),E===void 0&&(E=Ye),Object.prototype.hasOwnProperty.call(v,k))return v[k];R(v)||(g=(v.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var N=new qi(v,new Map,V(g),E);return F(v,k,N),N}var vo=Object.create(null),go=Object.create(null);function bo(v){var g=v[k];return g||(Re(v),v[k])}var $o=U("ObservableObjectAdministration",qi);function yn(v){return!!M(v)&&(Re(v),$o(v[k]))}function xn(v,g){if(typeof v=="object"&&v!==null){if(sn(v))return g!==void 0&&_(!1),v[k].atom;if(Wt(v))return v[k];if(en(v)){var E=v;return g===void 0?E._keysAtom:((N=E._data.get(g)||E._hasMap.get(g))||_(!1),N)}var N;if(Re(v),g&&!v[k]&&v[g],yn(v))return g?((N=v[k].values.get(g))||_(!1),N):_(!1);if(H(v)||ir(v)||lo(v))return v}else if(typeof v=="function"&&lo(v[k]))return v[k];return _(!1)}function Gr(v,g){return v||_("Expecting some object"),g!==void 0?Gr(xn(v,g)):H(v)||ir(v)||lo(v)||en(v)||Wt(v)?v:(Re(v),v[k]?v[k]:void _(!1))}var Zi=Object.prototype.toString;function qo(v,g,E){return E===void 0&&(E=-1),function N(D,X,re,Oe,Ce){if(D===X)return D!==0||1/D==1/X;if(D==null||X==null)return!1;if(D!=D)return X!=X;var it=typeof D;if(it!=="function"&&it!=="object"&&typeof X!="object")return!1;var rt=Zi.call(D);if(rt!==Zi.call(X))return!1;switch(rt){case"[object RegExp]":case"[object String]":return""+D==""+X;case"[object Number]":return+D!=+D?+X!=+X:+D==0?1/+D==1/X:+D==+X;case"[object Date]":case"[object Boolean]":return+D==+X;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(X);case"[object Map]":case"[object Set]":re>=0&&re++}D=Yn(D),X=Yn(X);var Et=rt==="[object Array]";if(!Et){if(typeof D!="object"||typeof X!="object")return!1;var bt=D.constructor,vt=X.constructor;if(bt!==vt&&!(typeof bt=="function"&&bt instanceof bt&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in D&&"constructor"in X)return!1}if(re===0)return!1;re<0&&(re=-1),Ce=Ce||[];for(var Pt=(Oe=Oe||[]).length;Pt--;)if(Oe[Pt]===D)return Ce[Pt]===X;if(Oe.push(D),Ce.push(X),Et){if((Pt=D.length)!==X.length)return!1;for(;Pt--;)if(!N(D[Pt],X[Pt],re-1,Oe,Ce))return!1}else{var jt=Object.keys(D),mt=void 0;if(Pt=jt.length,Object.keys(X).length!==Pt)return!1;for(;Pt--;)if(mt=jt[Pt],!Xr(X,mt)||!N(D[mt],X[mt],re-1,Oe,Ce))return!1}return Oe.pop(),Ce.pop(),!0}(v,g,E)}function Yn(v){return sn(v)?v.slice():B(v)||en(v)||Y(v)||Wt(v)?Array.from(v.entries()):v}function Xr(v,g){return Object.prototype.hasOwnProperty.call(v,g)}function Vr(v){return v[Symbol.iterator]=iu,v}function iu(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ci,extras:{getDebugName:function(v,g){return(g!==void 0?xn(v,g):yn(v)||en(v)||Wt(v)?Gr(v):xn(v)).name}},$mobx:k})}).call(this,a(155),a(81))},function(c,p,a){a.d(p,"a",function(){return V}),a.d(p,"b",function(){return q}),a.d(p,"c",function(){return Ye}),a.d(p,"d",function(){return st}),a.d(p,"e",function(){return U}),a.d(p,"f",function(){return Y}),a.d(p,"g",function(){return U}),a.d(p,"h",function(){return Ae}),a.d(p,"i",function(){return l}),a.d(p,"j",function(){return Ge}),a.d(p,"k",function(){return K});var f,l,b,O,w,_,S,A={},P=[],M=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(Z,J){for(var ae in J)Z[ae]=J[ae];return Z}function F(Z){var J=Z.parentNode;J&&J.removeChild(Z)}function U(Z,J,ae){var ve,Te,we,We={};for(we in J)we=="key"?ve=J[we]:we=="ref"?Te=J[we]:We[we]=J[we];if(arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ae),typeof Z=="function"&&Z.defaultProps!=null)for(we in Z.defaultProps)We[we]===void 0&&(We[we]=Z.defaultProps[we]);return B(Z,We,ve,Te,null)}function B(Z,J,ae,ve,Te){var we={type:Z,props:J,key:ae,ref:ve,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Te==null?++b:Te};return Te==null&&l.vnode!=null&&l.vnode(we),we}function Y(){return{current:null}}function q(Z){return Z.children}function V(Z,J){this.props=Z,this.context=J}function C(Z,J){if(J==null)return Z.__?C(Z.__,Z.__.__k.indexOf(Z)+1):null;for(var ae;J<Z.__k.length;J++)if((ae=Z.__k[J])!=null&&ae.__e!=null)return ae.__e;return typeof Z.type=="function"?C(Z):null}function z(Z){var J,ae;if((Z=Z.__)!=null&&Z.__c!=null){for(Z.__e=Z.__c.base=null,J=0;J<Z.__k.length;J++)if((ae=Z.__k[J])!=null&&ae.__e!=null){Z.__e=Z.__c.base=ae.__e;break}return z(Z)}}function k(Z){(!Z.__d&&(Z.__d=!0)&&O.push(Z)&&!L.__r++||_!==l.debounceRendering)&&((_=l.debounceRendering)||w)(L)}function L(){for(var Z;L.__r=O.length;)Z=O.sort(function(J,ae){return J.__v.__b-ae.__v.__b}),O=[],Z.some(function(J){var ae,ve,Te,we,We,Xe;J.__d&&(We=(we=(ae=J).__v).__e,(Xe=ae.__P)&&(ve=[],(Te=R({},we)).__v=we.__v+1,pe(Xe,we,Te,ae.__n,Xe.ownerSVGElement!==void 0,we.__h!=null?[We]:null,ve,We==null?C(we):We,we.__h),se(ve,we),we.__e!=We&&z(we)))})}function H(Z,J,ae,ve,Te,we,We,Xe,et,qe){var ye,$,ze,Fe,Ke,At,at,lt=ve&&ve.__k||P,yt=lt.length;for(ae.__k=[],ye=0;ye<J.length;ye++)if((Fe=ae.__k[ye]=(Fe=J[ye])==null||typeof Fe=="boolean"?null:typeof Fe=="string"||typeof Fe=="number"||typeof Fe=="bigint"?B(null,Fe,null,null,Fe):Array.isArray(Fe)?B(q,{children:Fe},null,null,null):Fe.__b>0?B(Fe.type,Fe.props,Fe.key,null,Fe.__v):Fe)!=null){if(Fe.__=ae,Fe.__b=ae.__b+1,(ze=lt[ye])===null||ze&&Fe.key==ze.key&&Fe.type===ze.type)lt[ye]=void 0;else for($=0;$<yt;$++){if((ze=lt[$])&&Fe.key==ze.key&&Fe.type===ze.type){lt[$]=void 0;break}ze=null}pe(Z,Fe,ze=ze||A,Te,we,We,Xe,et,qe),Ke=Fe.__e,($=Fe.ref)&&ze.ref!=$&&(at||(at=[]),ze.ref&&at.push(ze.ref,null,Fe),at.push($,Fe.__c||Ke,Fe)),Ke!=null?(At==null&&(At=Ke),typeof Fe.type=="function"&&Fe.__k===ze.__k?Fe.__d=et=ee(Fe,et,Z):et=ue(Z,Fe,ze,lt,Ke,et),typeof ae.type=="function"&&(ae.__d=et)):et&&ze.__e==et&&et.parentNode!=Z&&(et=C(ze))}for(ae.__e=At,ye=yt;ye--;)lt[ye]!=null&&(typeof ae.type=="function"&&lt[ye].__e!=null&&lt[ye].__e==ae.__d&&(ae.__d=C(ve,ye+1)),ke(lt[ye],lt[ye]));if(at)for(ye=0;ye<at.length;ye++)xe(at[ye],at[++ye],at[++ye])}function ee(Z,J,ae){for(var ve,Te=Z.__k,we=0;Te&&we<Te.length;we++)(ve=Te[we])&&(ve.__=Z,J=typeof ve.type=="function"?ee(ve,J,ae):ue(ae,ve,ve,Te,ve.__e,J));return J}function K(Z,J){return J=J||[],Z==null||typeof Z=="boolean"||(Array.isArray(Z)?Z.some(function(ae){K(ae,J)}):J.push(Z)),J}function ue(Z,J,ae,ve,Te,we){var We,Xe,et;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(ae==null||Te!=we||Te.parentNode==null)e:if(we==null||we.parentNode!==Z)Z.appendChild(Te),We=null;else{for(Xe=we,et=0;(Xe=Xe.nextSibling)&&et<ve.length;et+=2)if(Xe==Te)break e;Z.insertBefore(Te,we),We=we}return We!==void 0?We:Te.nextSibling}function be(Z,J,ae){J[0]==="-"?Z.setProperty(J,ae):Z[J]=ae==null?"":typeof ae!="number"||M.test(J)?ae:ae+"px"}function me(Z,J,ae,ve,Te){var we;e:if(J==="style")if(typeof ae=="string")Z.style.cssText=ae;else{if(typeof ve=="string"&&(Z.style.cssText=ve=""),ve)for(J in ve)ae&&J in ae||be(Z.style,J,"");if(ae)for(J in ae)ve&&ae[J]===ve[J]||be(Z.style,J,ae[J])}else if(J[0]==="o"&&J[1]==="n")we=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in Z?J.toLowerCase().slice(2):J.slice(2),Z.l||(Z.l={}),Z.l[J+we]=ae,ae?ve||Z.addEventListener(J,we?he:de,we):Z.removeEventListener(J,we?he:de,we);else if(J!=="dangerouslySetInnerHTML"){if(Te)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in Z)try{Z[J]=ae==null?"":ae;break e}catch{}typeof ae=="function"||(ae!=null&&(ae!==!1||J[0]==="a"&&J[1]==="r")?Z.setAttribute(J,ae):Z.removeAttribute(J))}}function de(Z){this.l[Z.type+!1](l.event?l.event(Z):Z)}function he(Z){this.l[Z.type+!0](l.event?l.event(Z):Z)}function pe(Z,J,ae,ve,Te,we,We,Xe,et){var qe,ye,$,ze,Fe,Ke,At,at,lt,yt,Rt,G=J.type;if(J.constructor!==void 0)return null;ae.__h!=null&&(et=ae.__h,Xe=J.__e=ae.__e,J.__h=null,we=[Xe]),(qe=l.__b)&&qe(J);try{e:if(typeof G=="function"){if(at=J.props,lt=(qe=G.contextType)&&ve[qe.__c],yt=qe?lt?lt.props.value:qe.__:ve,ae.__c?At=(ye=J.__c=ae.__c).__=ye.__E:("prototype"in G&&G.prototype.render?J.__c=ye=new G(at,yt):(J.__c=ye=new V(at,yt),ye.constructor=G,ye.render=Re),lt&&lt.sub(ye),ye.props=at,ye.state||(ye.state={}),ye.context=yt,ye.__n=ve,$=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),G.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=R({},ye.__s)),R(ye.__s,G.getDerivedStateFromProps(at,ye.__s))),ze=ye.props,Fe=ye.state,$)G.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(G.getDerivedStateFromProps==null&&at!==ze&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(at,yt),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(at,ye.__s,yt)===!1||J.__v===ae.__v){ye.props=at,ye.state=ye.__s,J.__v!==ae.__v&&(ye.__d=!1),ye.__v=J,J.__e=ae.__e,J.__k=ae.__k,J.__k.forEach(function(te){te&&(te.__=J)}),ye.__h.length&&We.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(at,ye.__s,yt),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(ze,Fe,Ke)})}ye.context=yt,ye.props=at,ye.state=ye.__s,(qe=l.__r)&&qe(J),ye.__d=!1,ye.__v=J,ye.__P=Z,qe=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(ve=R(R({},ve),ye.getChildContext())),$||ye.getSnapshotBeforeUpdate==null||(Ke=ye.getSnapshotBeforeUpdate(ze,Fe)),Rt=qe!=null&&qe.type===q&&qe.key==null?qe.props.children:qe,H(Z,Array.isArray(Rt)?Rt:[Rt],J,ae,ve,Te,we,We,Xe,et),ye.base=J.__e,J.__h=null,ye.__h.length&&We.push(ye),At&&(ye.__E=ye.__=null),ye.__e=!1}else we==null&&J.__v===ae.__v?(J.__k=ae.__k,J.__e=ae.__e):J.__e=_e(ae.__e,J,ae,ve,Te,we,We,et);(qe=l.diffed)&&qe(J)}catch(te){J.__v=null,(et||we!=null)&&(J.__e=Xe,J.__h=!!et,we[we.indexOf(Xe)]=null),l.__e(te,J,ae)}}function se(Z,J){l.__c&&l.__c(J,Z),Z.some(function(ae){try{Z=ae.__h,ae.__h=[],Z.some(function(ve){ve.call(ae)})}catch(ve){l.__e(ve,ae.__v)}})}function _e(Z,J,ae,ve,Te,we,We,Xe){var et,qe,ye,$=ae.props,ze=J.props,Fe=J.type,Ke=0;if(Fe==="svg"&&(Te=!0),we!=null){for(;Ke<we.length;Ke++)if((et=we[Ke])&&"setAttribute"in et==!!Fe&&(Fe?et.localName===Fe:et.nodeType===3)){Z=et,we[Ke]=null;break}}if(Z==null){if(Fe===null)return document.createTextNode(ze);Z=Te?document.createElementNS("http://www.w3.org/2000/svg",Fe):document.createElement(Fe,ze.is&&ze),we=null,Xe=!1}if(Fe===null)$===ze||Xe&&Z.data===ze||(Z.data=ze);else{if(we=we&&f.call(Z.childNodes),qe=($=ae.props||A).dangerouslySetInnerHTML,ye=ze.dangerouslySetInnerHTML,!Xe){if(we!=null)for($={},Ke=0;Ke<Z.attributes.length;Ke++)$[Z.attributes[Ke].name]=Z.attributes[Ke].value;(ye||qe)&&(ye&&(qe&&ye.__html==qe.__html||ye.__html===Z.innerHTML)||(Z.innerHTML=ye&&ye.__html||""))}if(function(At,at,lt,yt,Rt){var G;for(G in lt)G==="children"||G==="key"||G in at||me(At,G,null,lt[G],yt);for(G in at)Rt&&typeof at[G]!="function"||G==="children"||G==="key"||G==="value"||G==="checked"||lt[G]===at[G]||me(At,G,at[G],lt[G],yt)}(Z,ze,$,Te,Xe),ye)J.__k=[];else if(Ke=J.props.children,H(Z,Array.isArray(Ke)?Ke:[Ke],J,ae,ve,Te&&Fe!=="foreignObject",we,We,we?we[0]:ae.__k&&C(ae,0),Xe),we!=null)for(Ke=we.length;Ke--;)we[Ke]!=null&&F(we[Ke]);Xe||("value"in ze&&(Ke=ze.value)!==void 0&&(Ke!==$.value||Ke!==Z.value||Fe==="progress"&&!Ke)&&me(Z,"value",Ke,$.value,!1),"checked"in ze&&(Ke=ze.checked)!==void 0&&Ke!==Z.checked&&me(Z,"checked",Ke,$.checked,!1))}return Z}function xe(Z,J,ae){try{typeof Z=="function"?Z(J):Z.current=J}catch(ve){l.__e(ve,ae)}}function ke(Z,J,ae){var ve,Te;if(l.unmount&&l.unmount(Z),(ve=Z.ref)&&(ve.current&&ve.current!==Z.__e||xe(ve,null,J)),(ve=Z.__c)!=null){if(ve.componentWillUnmount)try{ve.componentWillUnmount()}catch(we){l.__e(we,J)}ve.base=ve.__P=null}if(ve=Z.__k)for(Te=0;Te<ve.length;Te++)ve[Te]&&ke(ve[Te],J,typeof Z.type!="function");ae||Z.__e==null||F(Z.__e),Z.__e=Z.__d=void 0}function Re(Z,J,ae){return this.constructor(Z,ae)}function Ge(Z,J,ae){var ve,Te,we;l.__&&l.__(Z,J),Te=(ve=typeof ae=="function")?null:ae&&ae.__k||J.__k,we=[],pe(J,Z=(!ve&&ae||J).__k=U(q,null,[Z]),Te||A,A,J.ownerSVGElement!==void 0,!ve&&ae?[ae]:Te?null:J.firstChild?f.call(J.childNodes):null,we,!ve&&ae?ae:Te?Te.__e:J.firstChild,ve),se(we,Z)}function Ae(Z,J){Ge(Z,J,Ae)}function Ye(Z,J,ae){var ve,Te,we,We=R({},Z.props);for(we in J)we=="key"?ve=J[we]:we=="ref"?Te=J[we]:We[we]=J[we];return arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ae),B(Z.type,We,ve||Z.key,Te||Z.ref,null)}function st(Z,J){var ae={__c:J="__cC"+S++,__:Z,Consumer:function(ve,Te){return ve.children(Te)},Provider:function(ve){var Te,we;return this.getChildContext||(Te=[],(we={})[J]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Te.some(k)},this.sub=function(We){Te.push(We);var Xe=We.componentWillUnmount;We.componentWillUnmount=function(){Te.splice(Te.indexOf(We),1),Xe&&Xe.call(We)}}),ve.children}};return ae.Provider.__=ae.Consumer.contextType=ae}f=P.slice,l={__e:function(Z,J){for(var ae,ve,Te;J=J.__;)if((ae=J.__c)&&!ae.__)try{if((ve=ae.constructor)&&ve.getDerivedStateFromError!=null&&(ae.setState(ve.getDerivedStateFromError(Z)),Te=ae.__d),ae.componentDidCatch!=null&&(ae.componentDidCatch(Z),Te=ae.__d),Te)return ae.__E=ae}catch(we){Z=we}throw Z}},b=0,V.prototype.setState=function(Z,J){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof Z=="function"&&(Z=Z(R({},ae),this.props)),Z&&R(ae,Z),Z!=null&&this.__v&&(J&&this.__h.push(J),k(this))},V.prototype.forceUpdate=function(Z){this.__v&&(this.__e=!0,Z&&this.__h.push(Z),k(this))},V.prototype.render=q,O=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,S=0},function(c,p,a){var f=a(116),l=a(44),b=a(177);f||l(Object.prototype,"toString",b,{unsafe:!0})},function(c,p,a){var f=a(39),l=a(82),b=a(70),O=a(56),w=a(111),_=O.set,S=O.getterFor("Array Iterator");c.exports=w(Array,"Array",function(A,P){_(this,{type:"Array Iterator",target:f(A),index:0,kind:P})},function(){var A=S(this),P=A.target,M=A.kind,R=A.index++;return!P||R>=P.length?(A.target=void 0,{value:void 0,done:!0}):M=="keys"?{value:R,done:!1}:M=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),b.Arguments=b.Array,l("keys"),l("values"),l("entries")},function(c,p,a){var f=a(7),l=a(147),b=a(148),O=a(3),w=a(57),_=a(27),S=_("iterator"),A=_("toStringTag"),P=O.values,M=function(F,U){if(F){if(F[S]!==P)try{w(F,S,P)}catch{F[S]=P}if(F[A]||w(F,A,U),l[U]){for(var B in O)if(F[B]!==O[B])try{w(F,B,O[B])}catch{F[B]=O[B]}}}};for(var R in l)M(f[R]&&f[R].prototype,R);M(b,"DOMTokenList")},function(c,p,a){var f=a(16),l=a(7),b=a(46),O=a(76),w=a(35),_=a(15),S=a(64),A=a(36),P=a(109),M=a(18),R=a(34),F=a(98),U=a(28),B=a(33),Y=a(58),q=a(87),V=a(32),C=a(38),z=a(39),k=a(86),L=a(40),H=a(71),ee=a(54),K=a(66),ue=a(72),be=a(139),me=a(112),de=a(51),he=a(37),pe=a(92),se=a(100),_e=a(44),xe=a(83),ke=a(90),Re=a(69),Ge=a(84),Ae=a(27),Ye=a(149),st=a(150),Z=a(73),J=a(56),ae=a(74).forEach,ve=ke("hidden"),Te=Ae("toPrimitive"),we=J.set,We=J.getterFor("Symbol"),Xe=Object.prototype,et=l.Symbol,qe=et&&et.prototype,ye=l.TypeError,$=l.QObject,ze=b("JSON","stringify"),Fe=de.f,Ke=he.f,At=be.f,at=pe.f,lt=_([].push),yt=xe("symbols"),Rt=xe("op-symbols"),G=xe("string-to-symbol-registry"),te=xe("symbol-to-string-registry"),fe=xe("wks"),ne=!$||!$.prototype||!$.prototype.findChild,je=A&&M(function(){return ee(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!=7})?function(Me,Ve,Ze){var nt=Fe(Xe,Ve);nt&&delete Xe[Ve],Ke(Me,Ve,Ze),nt&&Me!==Xe&&Ke(Xe,Ve,nt)}:Ke,Se=function(Me,Ve){var Ze=yt[Me]=ee(qe);return we(Ze,{type:"Symbol",tag:Me,description:Ve}),A||(Ze.description=Ve),Ze},Ne=function(Me,Ve,Ze){Me===Xe&&Ne(Rt,Ve,Ze),V(Me);var nt=k(Ve);return V(Ze),R(yt,nt)?(Ze.enumerable?(R(Me,ve)&&Me[ve][nt]&&(Me[ve][nt]=!1),Ze=ee(Ze,{enumerable:H(0,!1)})):(R(Me,ve)||Ke(Me,ve,H(1,{})),Me[ve][nt]=!0),je(Me,nt,Ze)):Ke(Me,nt,Ze)},Ue=function(Me,Ve){V(Me);var Ze=z(Ve),nt=K(Ze).concat(Zt(Ze));return ae(nt,function(xt){A&&!w(gt,Ze,xt)||Ne(Me,xt,Ze[xt])}),Me},gt=function(Me){var Ve=k(Me),Ze=w(at,this,Ve);return!(this===Xe&&R(yt,Ve)&&!R(Rt,Ve))&&(!(Ze||!R(this,Ve)||!R(yt,Ve)||R(this,ve)&&this[ve][Ve])||Ze)},wt=function(Me,Ve){var Ze=z(Me),nt=k(Ve);if(Ze!==Xe||!R(yt,nt)||R(Rt,nt)){var xt=Fe(Ze,nt);return!xt||!R(yt,nt)||R(Ze,ve)&&Ze[ve][nt]||(xt.enumerable=!0),xt}},Yt=function(Me){var Ve=At(z(Me)),Ze=[];return ae(Ve,function(nt){R(yt,nt)||R(Re,nt)||lt(Ze,nt)}),Ze},Zt=function(Me){var Ve=Me===Xe,Ze=At(Ve?Rt:z(Me)),nt=[];return ae(Ze,function(xt){!R(yt,xt)||Ve&&!R(Xe,xt)||lt(nt,yt[xt])}),nt};if(P||(_e(qe=(et=function(){if(Y(qe,this))throw ye("Symbol is not a constructor");var Me=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ve=Ge(Me),Ze=function(nt){this===Xe&&w(Ze,Rt,nt),R(this,ve)&&R(this[ve],Ve)&&(this[ve][Ve]=!1),je(this,Ve,H(1,nt))};return A&&ne&&je(Xe,Ve,{configurable:!0,set:Ze}),Se(Ve,Me)}).prototype,"toString",function(){return We(this).tag}),_e(et,"withoutSetter",function(Me){return Se(Ge(Me),Me)}),pe.f=gt,he.f=Ne,de.f=wt,ue.f=be.f=Yt,me.f=Zt,Ye.f=function(Me){return Se(Ae(Me),Me)},A&&(Ke(qe,"description",{configurable:!0,get:function(){return We(this).description}}),S||_e(Xe,"propertyIsEnumerable",gt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:et}),ae(K(fe),function(Me){st(Me)}),f({target:"Symbol",stat:!0,forced:!P},{for:function(Me){var Ve=L(Me);if(R(G,Ve))return G[Ve];var Ze=et(Ve);return G[Ve]=Ze,te[Ze]=Ve,Ze},keyFor:function(Me){if(!q(Me))throw ye(Me+" is not a symbol");if(R(te,Me))return te[Me]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),f({target:"Object",stat:!0,forced:!P,sham:!A},{create:function(Me,Ve){return Ve===void 0?ee(Me):Ue(ee(Me),Ve)},defineProperty:Ne,defineProperties:Ue,getOwnPropertyDescriptor:wt}),f({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Yt,getOwnPropertySymbols:Zt}),f({target:"Object",stat:!0,forced:M(function(){me.f(1)})},{getOwnPropertySymbols:function(Me){return me.f(C(Me))}}),ze&&f({target:"JSON",stat:!0,forced:!P||M(function(){var Me=et();return ze([Me])!="[null]"||ze({a:Me})!="{}"||ze(Object(Me))!="{}"})},{stringify:function(Me,Ve,Ze){var nt=se(arguments),xt=Ve;if((B(Ve)||Me!==void 0)&&!q(Me))return F(Ve)||(Ve=function(Nt,Jt){if(U(xt)&&(Jt=w(xt,this,Nt,Jt)),!q(Jt))return Jt}),nt[1]=Ve,O(ze,null,nt)}}),!qe[Te]){var ut=qe.valueOf;_e(qe,Te,function(Me){return w(ut,this)})}Z(et,"Symbol"),Re[ve]=!0},function(c,p,a){var f=a(146).charAt,l=a(40),b=a(56),O=a(111),w=b.set,_=b.getterFor("String Iterator");O(String,"String",function(S){w(this,{type:"String Iterator",string:l(S),index:0})},function(){var S,A=_(this),P=A.string,M=A.index;return M>=P.length?{value:void 0,done:!0}:(S=f(P,M),A.index+=S.length,{value:S,done:!1})})},function(c,p,a){(function(f){var l=function(b){return b&&b.Math==Math&&b};c.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,a(81))},function(c,p,a){var f=a(16),l=a(36),b=a(7),O=a(15),w=a(34),_=a(28),S=a(58),A=a(40),P=a(37).f,M=a(134),R=b.Symbol,F=R&&R.prototype;if(l&&_(R)&&(!("description"in F)||R().description!==void 0)){var U={},B=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),H=S(F,this)?new R(L):L===void 0?R():R(L);return L===""&&(U[H]=!0),H};M(B,R),B.prototype=F,F.constructor=B;var Y=String(R("test"))=="Symbol(test)",q=O(F.toString),V=O(F.valueOf),C=/^Symbol\((.*)\)[^)]+$/,z=O("".replace),k=O("".slice);P(F,"description",{configurable:!0,get:function(){var L=V(this),H=q(L);if(w(U,L))return"";var ee=Y?k(H,7,-1):z(H,C,"$1");return ee===""?void 0:ee}}),f({global:!0,forced:!0},{Symbol:B})}},function(c,p,a){a(150)("iterator")},function(c,p,a){a.d(p,"a",function(){return O.a}),a.d(p,"c",function(){return O.e}),a.d(p,"h",function(){return C}),a.d(p,"i",function(){return Y}),a.d(p,"j",function(){return U}),a.d(p,"b",function(){return de}),a.d(p,"e",function(){return _e}),a.d(p,"f",function(){return he}),a.d(p,"g",function(){return lt});var f,l,b,O=a(1),w=0,_=[],S=O.i.__b,A=O.i.__r,P=O.i.diffed,M=O.i.__c,R=O.i.unmount;function F(G,te){O.i.__h&&O.i.__h(l,G,w||te),w=0;var fe=l.__H||(l.__H={__:[],__h:[]});return G>=fe.__.length&&fe.__.push({}),fe.__[G]}function U(G){return w=1,B(ue,G)}function B(G,te,fe){var ne=F(f++,2);return ne.t=G,ne.__c||(ne.__=[fe?fe(te):ue(void 0,te),function(je){var Se=ne.t(ne.__[0],je);ne.__[0]!==Se&&(ne.__=[Se,ne.__[1]],ne.__c.setState({}))}],ne.__c=l),ne.__}function Y(G,te){var fe=F(f++,3);!O.i.__s&&K(fe.__H,te)&&(fe.__=G,fe.__H=te,l.__H.__h.push(fe))}function q(G,te){var fe=F(f++,4);!O.i.__s&&K(fe.__H,te)&&(fe.__=G,fe.__H=te,l.__h.push(fe))}function V(G,te){var fe=F(f++,7);return K(fe.__H,te)&&(fe.__=G(),fe.__H=te,fe.__h=G),fe.__}function C(G,te){return w=8,V(function(){return G},te)}function z(){var G;for(_.sort(function(te,fe){return te.__v.__b-fe.__v.__b});G=_.pop();)if(G.__P)try{G.__H.__h.forEach(H),G.__H.__h.forEach(ee),G.__H.__h=[]}catch(te){G.__H.__h=[],O.i.__e(te,G.__v)}}O.i.__b=function(G){l=null,S&&S(G)},O.i.__r=function(G){A&&A(G),f=0;var te=(l=G.__c).__H;te&&(te.__h.forEach(H),te.__h.forEach(ee),te.__h=[])},O.i.diffed=function(G){P&&P(G);var te=G.__c;te&&te.__H&&te.__H.__h.length&&(_.push(te)!==1&&b===O.i.requestAnimationFrame||((b=O.i.requestAnimationFrame)||L)(z)),l=null},O.i.__c=function(G,te){te.some(function(fe){try{fe.__h.forEach(H),fe.__h=fe.__h.filter(function(ne){return!ne.__||ee(ne)})}catch(ne){te.some(function(je){je.__h&&(je.__h=[])}),te=[],O.i.__e(ne,fe.__v)}}),M&&M(G,te)},O.i.unmount=function(G){R&&R(G);var te,fe=G.__c;fe&&fe.__H&&(fe.__H.__.forEach(function(ne){try{H(ne)}catch(je){te=je}}),te&&O.i.__e(te,fe.__v))};var k=typeof requestAnimationFrame=="function";function L(G){var te,fe=function(){clearTimeout(ne),k&&cancelAnimationFrame(te),setTimeout(G)},ne=setTimeout(fe,100);k&&(te=requestAnimationFrame(fe))}function H(G){var te=l,fe=G.__c;typeof fe=="function"&&(G.__c=void 0,fe()),l=te}function ee(G){var te=l;G.__c=G.__(),l=te}function K(G,te){return!G||G.length!==te.length||te.some(function(fe,ne){return fe!==G[ne]})}function ue(G,te){return typeof te=="function"?te(G):te}function be(G,te){for(var fe in te)G[fe]=te[fe];return G}function me(G,te){for(var fe in G)if(fe!=="__source"&&!(fe in te))return!0;for(var ne in te)if(ne!=="__source"&&G[ne]!==te[ne])return!0;return!1}function de(G){this.props=G}function he(G,te){function fe(je){var Se=this.props.ref,Ne=Se==je.ref;return!Ne&&Se&&(Se.call?Se(null):Se.current=null),te?!te(this.props,je)||!Ne:me(this.props,je)}function ne(je){return this.shouldComponentUpdate=fe,Object(O.e)(G,je)}return ne.displayName="Memo("+(G.displayName||G.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(de.prototype=new O.a).isPureReactComponent=!0,de.prototype.shouldComponentUpdate=function(G,te){return me(this.props,G)||me(this.state,te)};var pe=O.i.__b;O.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),pe&&pe(G)};var se=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _e(G){function te(fe,ne){var je=be({},fe);return delete je.ref,G(je,!(ne=fe.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return te.$$typeof=se,te.render=te,te.prototype.isReactComponent=te.__f=!0,te.displayName="ForwardRef("+(G.displayName||G.name)+")",te}var xe=function(G,te){return G==null?null:Object(O.k)(Object(O.k)(G).map(te))},ke={map:xe,forEach:xe,count:function(G){return G?Object(O.k)(G).length:0},only:function(G){var te=Object(O.k)(G);if(te.length!==1)throw"Children.only";return te[0]},toArray:O.k},Re=O.i.__e;O.i.__e=function(G,te,fe){if(G.then){for(var ne,je=te;je=je.__;)if((ne=je.__c)&&ne.__c)return te.__e==null&&(te.__e=fe.__e,te.__k=fe.__k),ne.__c(G,te)}Re(G,te,fe)};var Ge=O.i.unmount;function Ae(){this.__u=0,this.t=null,this.__b=null}function Ye(G){var te=G.__.__c;return te&&te.__e&&te.__e(G)}function st(){this.u=null,this.o=null}O.i.unmount=function(G){var te=G.__c;te&&te.__R&&te.__R(),te&&G.__h===!0&&(G.type=null),Ge&&Ge(G)},(Ae.prototype=new O.a).__c=function(G,te){var fe=te.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(fe);var je=Ye(ne.__v),Se=!1,Ne=function(){Se||(Se=!0,fe.__R=null,je?je(Ue):Ue())};fe.__R=Ne;var Ue=function(){if(!--ne.__u){if(ne.state.__e){var wt=ne.state.__e;ne.__v.__k[0]=function Zt(ut,Me,Ve){return ut&&(ut.__v=null,ut.__k=ut.__k&&ut.__k.map(function(Ze){return Zt(Ze,Me,Ve)}),ut.__c&&ut.__c.__P===Me&&(ut.__e&&Ve.insertBefore(ut.__e,ut.__d),ut.__c.__e=!0,ut.__c.__P=Ve)),ut}(wt,wt.__c.__P,wt.__c.__O)}var Yt;for(ne.setState({__e:ne.__b=null});Yt=ne.t.pop();)Yt.forceUpdate()}},gt=te.__h===!0;ne.__u++||gt||ne.setState({__e:ne.__b=ne.__v.__k[0]}),G.then(Ne,Ne)},Ae.prototype.componentWillUnmount=function(){this.t=[]},Ae.prototype.render=function(G,te){if(this.__b){if(this.__v.__k){var fe=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=function Se(Ne,Ue,gt){return Ne&&(Ne.__c&&Ne.__c.__H&&(Ne.__c.__H.__.forEach(function(wt){typeof wt.__c=="function"&&wt.__c()}),Ne.__c.__H=null),(Ne=be({},Ne)).__c!=null&&(Ne.__c.__P===gt&&(Ne.__c.__P=Ue),Ne.__c=null),Ne.__k=Ne.__k&&Ne.__k.map(function(wt){return Se(wt,Ue,gt)})),Ne}(this.__b,fe,ne.__O=ne.__P)}this.__b=null}var je=te.__e&&Object(O.e)(O.b,null,G.fallback);return je&&(je.__h=null),[Object(O.e)(O.b,null,te.__e?null:G.children),je]};var Z=function(G,te,fe){if(++fe[1]===fe[0]&&G.o.delete(te),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(fe=G.u;fe;){for(;fe.length>3;)fe.pop()();if(fe[1]<fe[0])break;G.u=fe=fe[2]}};function J(G){return this.getChildContext=function(){return G.context},G.children}function ae(G){var te=this,fe=G.i;te.componentWillUnmount=function(){Object(O.j)(null,te.l),te.l=null,te.i=null},te.i&&te.i!==fe&&te.componentWillUnmount(),G.__v?(te.l||(te.i=fe,te.l={nodeType:1,parentNode:fe,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),te.i.appendChild(ne)},insertBefore:function(ne,je){this.childNodes.push(ne),te.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),te.i.removeChild(ne)}}),Object(O.j)(Object(O.e)(J,{context:te.context},G.__v),te.l)):te.l&&te.componentWillUnmount()}(st.prototype=new O.a).__e=function(G){var te=this,fe=Ye(te.__v),ne=te.o.get(G);return ne[0]++,function(je){var Se=function(){te.props.revealOrder?(ne.push(je),Z(te,G,ne)):je()};fe?fe(Se):Se()}},st.prototype.render=function(G){this.u=null,this.o=new Map;var te=Object(O.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&te.reverse();for(var fe=te.length;fe--;)this.o.set(te[fe],this.u=[1,0,this.u]);return G.children},st.prototype.componentDidUpdate=st.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(te,fe){Z(G,fe,te)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Te=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",We=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};O.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(O.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(te){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:te})}})});var Xe=O.i.event;function et(){}function qe(){return this.cancelBubble}function ye(){return this.defaultPrevented}O.i.event=function(G){return Xe&&(G=Xe(G)),G.persist=et,G.isPropagationStopped=qe,G.isDefaultPrevented=ye,G.nativeEvent=G};var $,ze={configurable:!0,get:function(){return this.class}},Fe=O.i.vnode;O.i.vnode=function(G){var te=G.type,fe=G.props,ne=fe;if(typeof te=="string"){var je=te.indexOf("-")===-1;for(var Se in ne={},fe){var Ne=fe[Se];we&&Se==="children"&&te==="noscript"||Se==="value"&&"defaultValue"in fe&&Ne==null||(Se==="defaultValue"&&"value"in fe&&fe.value==null?Se="value":Se==="download"&&Ne===!0?Ne="":/ondoubleclick/i.test(Se)?Se="ondblclick":/^onchange(textarea|input)/i.test(Se+te)&&!We(fe.type)?Se="oninput":/^onfocus$/i.test(Se)?Se="onfocusin":/^onblur$/i.test(Se)?Se="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Se)?Se=Se.toLowerCase():je&&Te.test(Se)?Se=Se.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ne===null&&(Ne=void 0),ne[Se]=Ne)}te=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(O.k)(fe.children).forEach(function(Ue){Ue.props.selected=ne.value.indexOf(Ue.props.value)!=-1})),te=="select"&&ne.defaultValue!=null&&(ne.value=Object(O.k)(fe.children).forEach(function(Ue){Ue.props.selected=ne.multiple?ne.defaultValue.indexOf(Ue.props.value)!=-1:ne.defaultValue==Ue.props.value})),G.props=ne,fe.class!=fe.className&&(ze.enumerable="className"in fe,fe.className!=null&&(ne.class=fe.className),Object.defineProperty(ne,"className",ze))}G.$$typeof=ve,Fe&&Fe(G)};var Ke=O.i.__r;O.i.__r=function(G){Ke&&Ke(G),$=G.__c};var At={ReactCurrentDispatcher:{current:{readContext:function(G){return $.__n[G.__c].props.value}}}};function at(G){return!!G&&G.$$typeof===ve}var lt=function(G,te){return G(te)},yt=O.b,Rt={useState:U,useReducer:B,useEffect:Y,useLayoutEffect:q,useRef:function(G){return w=5,V(function(){return{current:G}},[])},useImperativeHandle:function(G,te,fe){w=6,q(function(){typeof G=="function"?G(te()):G&&(G.current=te())},fe==null?fe:fe.concat(G))},useMemo:V,useCallback:C,useContext:function(G){var te=l.context[G.__c],fe=F(f++,9);return fe.c=G,te?(fe.__==null&&(fe.__=!0,te.sub(l)),te.props.value):G.__},useDebugValue:function(G,te){O.i.useDebugValue&&O.i.useDebugValue(te?te(G):G)},version:"17.0.2",Children:ke,render:function(G,te,fe){return te.__k==null&&(te.textContent=""),Object(O.j)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},hydrate:function(G,te,fe){return Object(O.h)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},unmountComponentAtNode:function(G){return!!G.__k&&(Object(O.j)(null,G),!0)},createPortal:function(G,te){return Object(O.e)(ae,{__v:G,i:te})},createElement:O.e,createContext:O.d,createFactory:function(G){return O.e.bind(null,G)},cloneElement:function(G){return at(G)?O.c.apply(null,arguments):G},createRef:O.f,Fragment:O.b,isValidElement:at,findDOMNode:function(G){return G&&(G.base||G.nodeType===1&&G)||null},Component:O.a,PureComponent:de,memo:he,forwardRef:_e,flushSync:function(G,te){return G(te)},unstable_batchedUpdates:lt,StrictMode:yt,Suspense:Ae,SuspenseList:st,lazy:function(G){var te,fe,ne;function je(Se){if(te||(te=G()).then(function(Ne){fe=Ne.default||Ne},function(Ne){ne=Ne}),ne)throw ne;if(!fe)throw te;return Object(O.e)(fe,Se)}return je.displayName="Lazy",je.__f=!0,je},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:At};p.d=Rt},function(c,p,a){var f=a(7),l=a(147),b=a(148),O=a(178),w=a(57),_=function(A){if(A&&A.forEach!==O)try{w(A,"forEach",O)}catch{A.forEach=O}};for(var S in l)l[S]&&_(f[S]&&f[S].prototype);_(b)},function(c,p,a){a(16)({target:"Object",stat:!0},{setPrototypeOf:a(96)})},function(c,p,a){var f=a(16),l=a(18),b=a(38),O=a(95),w=a(137);f({target:"Object",stat:!0,forced:l(function(){O(1)}),sham:!w},{getPrototypeOf:function(_){return O(b(_))}})},function(c,p,a){var f=a(16),l=a(46),b=a(76),O=a(198),w=a(157),_=a(32),S=a(33),A=a(54),P=a(18),M=l("Reflect","construct"),R=Object.prototype,F=[].push,U=P(function(){function q(){}return!(M(function(){},[],q)instanceof q)}),B=!P(function(){M(function(){})}),Y=U||B;f({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(q,V){w(q),_(V);var C=arguments.length<3?q:w(arguments[2]);if(B&&!U)return M(q,V,C);if(q==C){switch(V.length){case 0:return new q;case 1:return new q(V[0]);case 2:return new q(V[0],V[1]);case 3:return new q(V[0],V[1],V[2]);case 4:return new q(V[0],V[1],V[2],V[3])}var z=[null];return b(F,z,V),new(b(O,q,z))}var k=C.prototype,L=A(S(k)?k:R),H=b(q,L,V);return S(H)?H:L}})},function(c,p){var a=Function.prototype,f=a.bind,l=a.call,b=f&&f.bind(l);c.exports=f?function(O){return O&&b(l,O)}:function(O){return O&&function(){return l.apply(O,arguments)}}},function(c,p,a){var f=a(7),l=a(51).f,b=a(57),O=a(44),w=a(108),_=a(134),S=a(94);c.exports=function(A,P){var M,R,F,U,B,Y=A.target,q=A.global,V=A.stat;if(M=q?f:V?f[Y]||w(Y,{}):(f[Y]||{}).prototype)for(R in P){if(U=P[R],F=A.noTargetGet?(B=l(M,R))&&B.value:M[R],!S(q?R:Y+(V?".":"#")+R,A.forced)&&F!==void 0){if(typeof U==typeof F)continue;_(U,F)}(A.sham||F&&F.sham)&&b(U,"sham",!0),O(M,R,U,A)}}},function(c,p,a){var f=a(16),l=a(7),b=a(98),O=a(99),w=a(33),_=a(67),S=a(43),A=a(39),P=a(61),M=a(27),R=a(75),F=a(100),U=R("slice"),B=M("species"),Y=l.Array,q=Math.max;f({target:"Array",proto:!0,forced:!U},{slice:function(V,C){var z,k,L,H=A(this),ee=S(H),K=_(V,ee),ue=_(C===void 0?ee:C,ee);if(b(H)&&(z=H.constructor,(O(z)&&(z===Y||b(z.prototype))||w(z)&&(z=z[B])===null)&&(z=void 0),z===Y||z===void 0))return F(H,K,ue);for(k=new(z===void 0?Y:z)(q(ue-K,0)),L=0;K<ue;K++,L++)K in H&&P(k,L,H[K]);return k.length=L,k}})},function(c,p){c.exports=function(a){try{return!!a()}catch{return!0}}},function(c,p,a){var f=a(16),l=a(101);f({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(c,p,a){var f=a(16),l=a(38),b=a(66);f({target:"Object",stat:!0,forced:a(18)(function(){b(1)})},{keys:function(O){return b(l(O))}})},function(c,p,a){var f=a(16),l=a(18),b=a(39),O=a(51).f,w=a(36),_=l(function(){O(1)});f({target:"Object",stat:!0,forced:!w||_,sham:!w},{getOwnPropertyDescriptor:function(S,A){return O(b(S),A)}})},function(c,p,a){var f=a(16),l=a(74).filter;f({target:"Array",proto:!0,forced:!a(75)("filter")},{filter:function(b){return l(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(16),l=a(36),b=a(135),O=a(39),w=a(51),_=a(61);f({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(S){for(var A,P,M=O(S),R=w.f,F=b(M),U={},B=0;F.length>B;)(P=R(M,A=F[B++]))!==void 0&&_(U,A,P);return U}})},function(c,p,a){var f=a(36),l=a(93).EXISTS,b=a(15),O=a(37).f,w=Function.prototype,_=b(w.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=b(S.exec);f&&!l&&O(w,"name",{configurable:!0,get:function(){try{return A(S,_(this))[1]}catch{return""}}})},function(c,p,a){var f=a(16),l=a(181);f({target:"Array",stat:!0,forced:!a(118)(function(b){Array.from(b)})},{from:l})},,function(c,p,a){var f=a(7),l=a(83),b=a(34),O=a(84),w=a(109),_=a(128),S=l("wks"),A=f.Symbol,P=A&&A.for,M=_?A:A&&A.withoutSetter||O;c.exports=function(R){if(!b(S,R)||!w&&typeof S[R]!="string"){var F="Symbol."+R;w&&b(A,R)?S[R]=A[R]:S[R]=_&&P?P(F):M(F)}return S[R]}},function(c,p){c.exports=function(a){return typeof a=="function"}},function(c,p,a){var f=a(16),l=a(7),b=a(18),O=a(98),w=a(33),_=a(38),S=a(43),A=a(61),P=a(119),M=a(75),R=a(27),F=a(65),U=R("isConcatSpreadable"),B=l.TypeError,Y=F>=51||!b(function(){var C=[];return C[U]=!1,C.concat()[0]!==C}),q=M("concat"),V=function(C){if(!w(C))return!1;var z=C[U];return z!==void 0?!!z:O(C)};f({target:"Array",proto:!0,forced:!Y||!q},{concat:function(C){var z,k,L,H,ee,K=_(this),ue=P(K,0),be=0;for(z=-1,L=arguments.length;z<L;z++)if(V(ee=z===-1?K:arguments[z])){if(be+(H=S(ee))>9007199254740991)throw B("Maximum allowed index exceeded");for(k=0;k<H;k++,be++)k in ee&&A(ue,be,ee[k])}else{if(be>=9007199254740991)throw B("Maximum allowed index exceeded");A(ue,be++,ee)}return ue.length=be,ue}})},function(c,p,a){var f=a(105),l=typeof self=="object"&&self&&self.Object===Object&&self,b=f.a||l||Function("return this")();p.a=b},function(c,p,a){var f=a(16),l=a(200);f({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(c,p,a){var f=a(7),l=a(33),b=f.String,O=f.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not an object")}},function(c,p,a){var f=a(28);c.exports=function(l){return typeof l=="object"?l!==null:f(l)}},function(c,p,a){var f=a(15),l=a(38),b=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(O,w){return b(l(O),w)}},function(c,p){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,p,a){var f=a(18);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,a){var f=a(7),l=a(36),b=a(129),O=a(32),w=a(86),_=f.TypeError,S=Object.defineProperty;p.f=l?S:function(A,P,M){if(O(A),P=w(P),O(M),b)try{return S(A,P,M)}catch{}if("get"in M||"set"in M)throw _("Accessors not supported");return"value"in M&&(A[P]=M.value),A}},function(c,p,a){var f=a(7),l=a(45),b=f.Object;c.exports=function(O){return b(l(O))}},function(c,p,a){var f=a(80),l=a(45);c.exports=function(b){return f(l(b))}},function(c,p,a){var f=a(7),l=a(97),b=f.String;c.exports=function(O){if(l(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(O)}},function(c,p,a){var f=a(16),l=a(74).map;f({target:"Array",proto:!0,forced:!a(75)("map")},{map:function(b){return l(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){(function(f){a.d(p,"d",function(){return O}),a.d(p,"c",function(){return w}),a.d(p,"b",function(){return _}),a.d(p,"a",function(){return A});var l=a(10),b=function(P,M){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var F,U,B=R.call(P),Y=[];try{for(;(M===void 0||M-- >0)&&!(F=B.next()).done;)Y.push(F.value)}catch(q){U={error:q}}finally{try{F&&!F.done&&(R=B.return)&&R.call(B)}finally{if(U)throw U.error}}return Y};function O(){var P=b(Object(l.j)(0),2)[1];return Object(l.h)(function(){P(function(M){return M+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var M=Object.getPrototypeOf(P);return!M||M===Object.prototype}function _(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var S={};function A(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:S}}).call(this,a(81))},function(c,p,a){var f=a(89);c.exports=function(l){return f(l.length)}},function(c,p,a){var f=a(7),l=a(28),b=a(34),O=a(57),w=a(108),_=a(91),S=a(56),A=a(93).CONFIGURABLE,P=S.get,M=S.enforce,R=String(String).split("String");(c.exports=function(F,U,B,Y){var q,V=!!Y&&!!Y.unsafe,C=!!Y&&!!Y.enumerable,z=!!Y&&!!Y.noTargetGet,k=Y&&Y.name!==void 0?Y.name:U;l(B)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(B,"name")||A&&B.name!==k)&&O(B,"name",k),(q=M(B)).source||(q.source=R.join(typeof k=="string"?k:""))),F!==f?(V?!z&&F[U]&&(C=!0):delete F[U],C?F[U]=B:O(F,U,B)):C?F[U]=B:w(U,B)})(Function.prototype,"toString",function(){return l(this)&&P(this).source||_(this)})},function(c,p,a){var f=a(7).TypeError;c.exports=function(l){if(l==null)throw f("Can't call method on "+l);return l}},function(c,p,a){var f=a(7),l=a(28),b=function(O){return l(O)?O:void 0};c.exports=function(O,w){return arguments.length<2?b(f[O]):f[O]&&f[O][w]}},function(c,p,a){var f=a(16),l=a(35),b=a(33),O=a(32),w=a(199),_=a(51),S=a(95);f({target:"Reflect",stat:!0},{get:function A(P,M){var R,F,U=arguments.length<3?P:arguments[2];return O(P)===U?P[M]:(R=_.f(P,M))?w(R)?R.value:R.get===void 0?void 0:l(R.get,U):b(F=S(P))?A(F,M,U):void 0}})},function(c,p,a){(function(f){var l=a(30),b=a(164),O=y&&!y.nodeType&&y,w=O&&typeof f=="object"&&f&&!f.nodeType&&f,_=w&&w.exports===O?l.a.Buffer:void 0,S=(_?_.isBuffer:void 0)||b.a;p.a=S}).call(this,a(121)(c))},function(c,p,a){(function(f){var l=a(105),b=y&&!y.nodeType&&y,O=b&&typeof f=="object"&&f&&!f.nodeType&&f,w=O&&O.exports===b&&l.a.process,_=function(){try{var S=O&&O.require&&O.require("util").types;return S||w&&w.binding&&w.binding("util")}catch{}}();p.a=_}).call(this,a(121)(c))},function(c,p,a){var f=a(15),l=f({}.toString),b=f("".slice);c.exports=function(O){return b(l(O),8,-1)}},function(c,p,a){var f=a(36),l=a(35),b=a(92),O=a(71),w=a(39),_=a(86),S=a(34),A=a(129),P=Object.getOwnPropertyDescriptor;p.f=f?P:function(M,R){if(M=w(M),R=_(R),A)try{return P(M,R)}catch{}if(S(M,R))return O(!l(b.f,M,R),M[R])}},function(c,p,a){var f=a(16),l=a(213).entries;f({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(c,p,a){var f=a(46);c.exports=f("navigator","userAgent")||""},function(c,p,a){var f,l=a(32),b=a(167),O=a(110),w=a(69),_=a(133),S=a(85),A=a(90),P=A("IE_PROTO"),M=function(){},R=function(B){return"<script>"+B+"<\/script>"},F=function(B){B.write(R("")),B.close();var Y=B.parentWindow.Object;return B=null,Y},U=function(){try{f=new ActiveXObject("htmlfile")}catch{}var B,Y;U=typeof document!="undefined"?document.domain&&f?F(f):((Y=S("iframe")).style.display="none",_.appendChild(Y),Y.src=String("javascript:"),(B=Y.contentWindow.document).open(),B.write(R("document.F=Object")),B.close(),B.F):F(f);for(var q=O.length;q--;)delete U.prototype[O[q]];return U()};w[P]=!0,c.exports=Object.create||function(B,Y){var q;return B!==null?(M.prototype=l(B),q=new M,M.prototype=null,q[P]=B):q=U(),Y===void 0?q:b(q,Y)}},function(c,p,a){var f=a(7),l=a(28),b=a(88),O=f.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not a function")}},function(c,p,a){var f,l,b,O=a(169),w=a(7),_=a(15),S=a(33),A=a(57),P=a(34),M=a(107),R=a(90),F=a(69),U=w.TypeError,B=w.WeakMap;if(O||M.state){var Y=M.state||(M.state=new B),q=_(Y.get),V=_(Y.has),C=_(Y.set);f=function(k,L){if(V(Y,k))throw new U("Object already initialized");return L.facade=k,C(Y,k,L),L},l=function(k){return q(Y,k)||{}},b=function(k){return V(Y,k)}}else{var z=R("state");F[z]=!0,f=function(k,L){if(P(k,z))throw new U("Object already initialized");return L.facade=k,A(k,z,L),L},l=function(k){return P(k,z)?k[z]:{}},b=function(k){return P(k,z)}}c.exports={set:f,get:l,has:b,enforce:function(k){return b(k)?l(k):f(k,{})},getterFor:function(k){return function(L){var H;if(!S(L)||(H=l(L)).type!==k)throw U("Incompatible receiver, "+k+" required");return H}}}},function(c,p,a){var f=a(36),l=a(37),b=a(71);c.exports=f?function(O,w,_){return l.f(O,w,b(1,_))}:function(O,w,_){return O[w]=_,O}},function(c,p,a){var f=a(15);c.exports=f({}.isPrototypeOf)},function(c,p,a){var f=a(55);c.exports=function(l,b){var O=l[b];return O==null?void 0:f(O)}},function(c,p,a){a(172)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},a(176))},function(c,p,a){var f=a(86),l=a(37),b=a(71);c.exports=function(O,w,_){var S=f(w);S in O?l.f(O,S,b(0,_)):O[S]=_}},function(c,p,a){var f=a(15),l=a(55),b=f(f.bind);c.exports=function(O,w){return l(O),w===void 0?O:b?b(O,w):function(){return O.apply(w,arguments)}}},function(c,p,a){var f=a(16),l=a(214),b=a(82);f({target:"Array",proto:!0},{fill:l}),b("fill")},function(c,p){c.exports=!1},function(c,p,a){var f,l,b=a(7),O=a(53),w=b.process,_=b.Deno,S=w&&w.versions||_&&_.version,A=S&&S.v8;A&&(l=(f=A.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!l&&O&&(!(f=O.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=O.match(/Chrome\/(\d+)/))&&(l=+f[1]),c.exports=l},function(c,p,a){var f=a(131),l=a(110);c.exports=Object.keys||function(b){return f(b,l)}},function(c,p,a){var f=a(68),l=Math.max,b=Math.min;c.exports=function(O,w){var _=f(O);return _<0?l(_+w,0):b(_,w)}},function(c,p){var a=Math.ceil,f=Math.floor;c.exports=function(l){var b=+l;return b!=b||b===0?0:(b>0?f:a)(b)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}}},function(c,p,a){var f=a(131),l=a(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(b){return f(b,l)}},function(c,p,a){var f=a(37).f,l=a(34),b=a(27)("toStringTag");c.exports=function(O,w,_){O&&!l(O=_?O:O.prototype,b)&&f(O,b,{configurable:!0,value:w})}},function(c,p,a){var f=a(62),l=a(15),b=a(80),O=a(38),w=a(43),_=a(119),S=l([].push),A=function(P){var M=P==1,R=P==2,F=P==3,U=P==4,B=P==6,Y=P==7,q=P==5||B;return function(V,C,z,k){for(var L,H,ee=O(V),K=b(ee),ue=f(C,z),be=w(K),me=0,de=k||_,he=M?de(V,be):R||Y?de(V,0):void 0;be>me;me++)if((q||me in K)&&(H=ue(L=K[me],me,ee),P))if(M)he[me]=H;else if(H)switch(P){case 3:return!0;case 5:return L;case 6:return me;case 2:S(he,L)}else switch(P){case 4:return!1;case 7:S(he,L)}return B?-1:F||U?U:he}};c.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(c,p,a){var f=a(18),l=a(27),b=a(65),O=l("species");c.exports=function(w){return b>=51||!f(function(){var _=[];return(_.constructor={})[O]=function(){return{foo:1}},_[w](Boolean).foo!==1})}},function(c,p){var a=Function.prototype,f=a.apply,l=a.bind,b=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(l?b.bind(f):function(){return b.apply(f,arguments)})},function(c,p,a){var f=a(76),l=a(35),b=a(15),O=a(122),w=a(154),_=a(32),S=a(45),A=a(156),P=a(123),M=a(89),R=a(40),F=a(59),U=a(113),B=a(124),Y=a(101),q=a(151),V=a(18),C=q.UNSUPPORTED_Y,z=Math.min,k=[].push,L=b(/./.exec),H=b(k),ee=b("".slice);O("split",function(K,ue,be){var me;return me="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(de,he){var pe=R(S(this)),se=he===void 0?4294967295:he>>>0;if(se===0)return[];if(de===void 0)return[pe];if(!w(de))return l(ue,pe,de,se);for(var _e,xe,ke,Re=[],Ge=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),Ae=0,Ye=new RegExp(de.source,Ge+"g");(_e=l(Y,Ye,pe))&&!((xe=Ye.lastIndex)>Ae&&(H(Re,ee(pe,Ae,_e.index)),_e.length>1&&_e.index<pe.length&&f(k,Re,U(_e,1)),ke=_e[0].length,Ae=xe,Re.length>=se));)Ye.lastIndex===_e.index&&Ye.lastIndex++;return Ae===pe.length?!ke&&L(Ye,"")||H(Re,""):H(Re,ee(pe,Ae)),Re.length>se?U(Re,0,se):Re}:"0".split(void 0,0).length?function(de,he){return de===void 0&&he===0?[]:l(ue,this,de,he)}:ue,[function(de,he){var pe=S(this),se=de==null?void 0:F(de,K);return se?l(se,de,pe,he):l(me,R(pe),de,he)},function(de,he){var pe=_(this),se=R(de),_e=be(me,pe,se,he,me!==ue);if(_e.done)return _e.value;var xe=A(pe,RegExp),ke=pe.unicode,Re=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(C?"g":"y"),Ge=new xe(C?"^(?:"+pe.source+")":pe,Re),Ae=he===void 0?4294967295:he>>>0;if(Ae===0)return[];if(se.length===0)return B(Ge,se)===null?[se]:[];for(var Ye=0,st=0,Z=[];st<se.length;){Ge.lastIndex=C?0:st;var J,ae=B(Ge,C?ee(se,st):se);if(ae===null||(J=z(M(Ge.lastIndex+(C?st:0)),se.length))===Ye)st=P(se,st,ke);else{if(H(Z,ee(se,Ye,st)),Z.length===Ae)return Z;for(var ve=1;ve<=ae.length-1;ve++)if(H(Z,ae[ve]),Z.length===Ae)return Z;st=Ye=J}}return H(Z,ee(se,Ye)),Z}]},!!V(function(){var K=/(?:)/,ue=K.exec;K.exec=function(){return ue.apply(this,arguments)};var be="ab".split(K);return be.length!==2||be[0]!=="a"||be[1]!=="b"}),C)},function(c,p,a){var f=a(36),l=a(7),b=a(15),O=a(94),w=a(44),_=a(34),S=a(143),A=a(58),P=a(87),M=a(130),R=a(18),F=a(72).f,U=a(51).f,B=a(37).f,Y=a(196),q=a(158).trim,V=l.Number,C=V.prototype,z=l.TypeError,k=b("".slice),L=b("".charCodeAt),H=function(de){var he=M(de,"number");return typeof he=="bigint"?he:ee(he)},ee=function(de){var he,pe,se,_e,xe,ke,Re,Ge,Ae=M(de,"number");if(P(Ae))throw z("Cannot convert a Symbol value to a number");if(typeof Ae=="string"&&Ae.length>2){if(Ae=q(Ae),(he=L(Ae,0))===43||he===45){if((pe=L(Ae,2))===88||pe===120)return NaN}else if(he===48){switch(L(Ae,1)){case 66:case 98:se=2,_e=49;break;case 79:case 111:se=8,_e=55;break;default:return+Ae}for(ke=(xe=k(Ae,2)).length,Re=0;Re<ke;Re++)if((Ge=L(xe,Re))<48||Ge>_e)return NaN;return parseInt(xe,se)}}return+Ae};if(O("Number",!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var K,ue=function(de){var he=arguments.length<1?0:V(H(de)),pe=this;return A(C,pe)&&R(function(){Y(pe)})?S(Object(he),pe,ue):he},be=f?F(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),me=0;be.length>me;me++)_(V,K=be[me])&&!_(ue,K)&&B(ue,K,U(V,K));ue.prototype=C,C.constructor=ue,w(l,"Number",ue)}},function(c,p,a){a(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,a){var f=a(7),l=a(15),b=a(18),O=a(50),w=f.Object,_=l("".split);c.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(S){return O(S)=="String"?_(S,""):w(S)}:w},function(c,p){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,p,a){var f=a(27),l=a(54),b=a(37),O=f("unscopables"),w=Array.prototype;w[O]==null&&b.f(w,O,{configurable:!0,value:l(null)}),c.exports=function(_){w[O][_]=!0}},function(c,p,a){var f=a(64),l=a(107);(c.exports=function(b,O){return l[b]||(l[b]=O!==void 0?O:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,a){var f=a(15),l=0,b=Math.random(),O=f(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+O(++l+b,36)}},function(c,p,a){var f=a(7),l=a(33),b=f.document,O=l(b)&&l(b.createElement);c.exports=function(w){return O?b.createElement(w):{}}},function(c,p,a){var f=a(130),l=a(87);c.exports=function(b){var O=f(b,"string");return l(O)?O:O+""}},function(c,p,a){var f=a(7),l=a(46),b=a(28),O=a(58),w=a(128),_=f.Object;c.exports=w?function(S){return typeof S=="symbol"}:function(S){var A=l("Symbol");return b(A)&&O(A.prototype,_(S))}},function(c,p,a){var f=a(7).String;c.exports=function(l){try{return f(l)}catch{return"Object"}}},function(c,p,a){var f=a(68),l=Math.min;c.exports=function(b){return b>0?l(f(b),9007199254740991):0}},function(c,p,a){var f=a(83),l=a(84),b=f("keys");c.exports=function(O){return b[O]||(b[O]=l(O))}},function(c,p,a){var f=a(15),l=a(28),b=a(107),O=f(Function.toString);l(b.inspectSource)||(b.inspectSource=function(w){return O(w)}),c.exports=b.inspectSource},function(c,p,a){var f={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,b=l&&!f.call({1:2},1);p.f=b?function(O){var w=l(this,O);return!!w&&w.enumerable}:f},function(c,p,a){var f=a(36),l=a(34),b=Function.prototype,O=f&&Object.getOwnPropertyDescriptor,w=l(b,"name"),_=w&&function(){}.name==="something",S=w&&(!f||f&&O(b,"name").configurable);c.exports={EXISTS:w,PROPER:_,CONFIGURABLE:S}},function(c,p,a){var f=a(18),l=a(28),b=/#|\.prototype\./,O=function(P,M){var R=_[w(P)];return R==A||R!=S&&(l(M)?f(M):!!M)},w=O.normalize=function(P){return String(P).replace(b,".").toLowerCase()},_=O.data={},S=O.NATIVE="N",A=O.POLYFILL="P";c.exports=O},function(c,p,a){var f=a(7),l=a(34),b=a(28),O=a(38),w=a(90),_=a(137),S=w("IE_PROTO"),A=f.Object,P=A.prototype;c.exports=_?A.getPrototypeOf:function(M){var R=O(M);if(l(R,S))return R[S];var F=R.constructor;return b(F)&&R instanceof F?F.prototype:R instanceof A?P:null}},function(c,p,a){var f=a(15),l=a(32),b=a(171);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O,w=!1,_={};try{(O=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),w=_ instanceof Array}catch{}return function(S,A){return l(S),b(A),w?O(S,A):S.__proto__=A,S}}():void 0)},function(c,p,a){var f=a(7),l=a(116),b=a(28),O=a(50),w=a(27)("toStringTag"),_=f.Object,S=O(function(){return arguments}())=="Arguments";c.exports=l?O:function(A){var P,M,R;return A===void 0?"Undefined":A===null?"Null":typeof(M=function(F,U){try{return F[U]}catch{}}(P=_(A),w))=="string"?M:S?O(P):(R=O(P))=="Object"&&b(P.callee)?"Arguments":R}},function(c,p,a){var f=a(50);c.exports=Array.isArray||function(l){return f(l)=="Array"}},function(c,p,a){var f=a(15),l=a(18),b=a(28),O=a(97),w=a(46),_=a(91),S=function(){},A=[],P=w("Reflect","construct"),M=/^\s*(?:class|function)\b/,R=f(M.exec),F=!M.exec(S),U=function(B){if(!b(B))return!1;try{return P(S,A,B),!0}catch{return!1}};c.exports=!P||l(function(){var B;return U(U.call)||!U(Object)||!U(function(){B=!0})||B})?function(B){if(!b(B))return!1;switch(O(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!R(M,_(B))}:U},function(c,p,a){var f=a(15);c.exports=f([].slice)},function(c,p,a){var f,l,b=a(35),O=a(15),w=a(40),_=a(183),S=a(151),A=a(83),P=a(54),M=a(56).get,R=a(184),F=a(185),U=A("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,Y=B,q=O("".charAt),V=O("".indexOf),C=O("".replace),z=O("".slice),k=(l=/b*/g,b(B,f=/a/,"a"),b(B,l,"a"),f.lastIndex!==0||l.lastIndex!==0),L=S.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(k||H||L||R||F)&&(Y=function(ee){var K,ue,be,me,de,he,pe,se=this,_e=M(se),xe=w(ee),ke=_e.raw;if(ke)return ke.lastIndex=se.lastIndex,K=b(Y,ke,xe),se.lastIndex=ke.lastIndex,K;var Re=_e.groups,Ge=L&&se.sticky,Ae=b(_,se),Ye=se.source,st=0,Z=xe;if(Ge&&(Ae=C(Ae,"y",""),V(Ae,"g")===-1&&(Ae+="g"),Z=z(xe,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&q(xe,se.lastIndex-1)!==`
`)&&(Ye="(?: "+Ye+")",Z=" "+Z,st++),ue=new RegExp("^(?:"+Ye+")",Ae)),H&&(ue=new RegExp("^"+Ye+"$(?!\\s)",Ae)),k&&(be=se.lastIndex),me=b(B,Ge?ue:se,Z),Ge?me?(me.input=z(me.input,st),me[0]=z(me[0],st),me.index=se.lastIndex,se.lastIndex+=me[0].length):se.lastIndex=0:k&&me&&(se.lastIndex=se.global?me.index+me[0].length:be),H&&me&&me.length>1&&b(U,me[0],ue,function(){for(de=1;de<arguments.length-2;de++)arguments[de]===void 0&&(me[de]=void 0)}),me&&Re)for(me.groups=he=P(null),de=0;de<Re.length;de++)he[(pe=Re[de])[0]]=me[pe[1]];return me}),c.exports=Y},function(c,p,a){var f=a(16),l=a(7),b=a(67),O=a(68),w=a(43),_=a(38),S=a(119),A=a(61),P=a(75)("splice"),M=l.TypeError,R=Math.max,F=Math.min;f({target:"Array",proto:!0,forced:!P},{splice:function(U,B){var Y,q,V,C,z,k,L=_(this),H=w(L),ee=b(U,H),K=arguments.length;if(K===0?Y=q=0:K===1?(Y=0,q=H-ee):(Y=K-2,q=F(R(O(B),0),H-ee)),H+Y-q>9007199254740991)throw M("Maximum allowed length exceeded");for(V=S(L,q),C=0;C<q;C++)(z=ee+C)in L&&A(V,C,L[z]);if(V.length=q,Y<q){for(C=ee;C<H-q;C++)k=C+Y,(z=C+q)in L?L[k]=L[z]:delete L[k];for(C=H;C>H-q+Y;C--)delete L[C-1]}else if(Y>q)for(C=H-q;C>ee;C--)k=C+Y-1,(z=C+q-1)in L?L[k]=L[z]:delete L[k];for(C=0;C<Y;C++)L[C+ee]=arguments[C+2];return L.length=H-q+Y,V}})},function(c,p,a){var f=a(16),l=a(15),b=a(80),O=a(39),w=a(120),_=l([].join),S=b!=Object,A=w("join",",");f({target:"Array",proto:!0,forced:S||!A},{join:function(P){return _(O(this),P===void 0?",":P)}})},function(c,p,a){var f=a(16),l=a(201);f({target:"String",proto:!0,forced:a(202)("anchor")},{anchor:function(b){return l(this,"a","name",b)}})},function(c,p,a){(function(f){var l=typeof f=="object"&&f&&f.Object===Object&&f;p.a=l}).call(this,a(81))},function(c,p,a){(function(f){var l=a(30),b=y&&!y.nodeType&&y,O=b&&typeof f=="object"&&f&&!f.nodeType&&f,w=O&&O.exports===b?l.a.Buffer:void 0,_=w?w.allocUnsafe:void 0;p.a=function(S,A){if(A)return S.slice();var P=S.length,M=_?_(P):new S.constructor(P);return S.copy(M),M}}).call(this,a(121)(c))},function(c,p,a){var f=a(7),l=a(108),b=f["__core-js_shared__"]||l("__core-js_shared__",{});c.exports=b},function(c,p,a){var f=a(7),l=Object.defineProperty;c.exports=function(b,O){try{l(f,b,{value:O,configurable:!0,writable:!0})}catch{f[b]=O}return O}},function(c,p,a){var f=a(65),l=a(18);c.exports=!!Object.getOwnPropertySymbols&&!l(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,a){var f=a(16),l=a(35),b=a(64),O=a(93),w=a(28),_=a(170),S=a(95),A=a(96),P=a(73),M=a(57),R=a(44),F=a(27),U=a(70),B=a(136),Y=O.PROPER,q=O.CONFIGURABLE,V=B.IteratorPrototype,C=B.BUGGY_SAFARI_ITERATORS,z=F("iterator"),k=function(){return this};c.exports=function(L,H,ee,K,ue,be,me){_(ee,H,K);var de,he,pe,se=function(Ye){if(Ye===ue&&Ge)return Ge;if(!C&&Ye in ke)return ke[Ye];switch(Ye){case"keys":case"values":case"entries":return function(){return new ee(this,Ye)}}return function(){return new ee(this)}},_e=H+" Iterator",xe=!1,ke=L.prototype,Re=ke[z]||ke["@@iterator"]||ue&&ke[ue],Ge=!C&&Re||se(ue),Ae=H=="Array"&&ke.entries||Re;if(Ae&&(de=S(Ae.call(new L)))!==Object.prototype&&de.next&&(b||S(de)===V||(A?A(de,V):w(de[z])||R(de,z,k)),P(de,_e,!0,!0),b&&(U[_e]=k)),Y&&ue=="values"&&Re&&Re.name!=="values"&&(!b&&q?M(ke,"name","values"):(xe=!0,Ge=function(){return l(Re,this)})),ue)if(he={values:se("values"),keys:be?Ge:se("keys"),entries:se("entries")},me)for(pe in he)(C||xe||!(pe in ke))&&R(ke,pe,he[pe]);else f({target:H,proto:!0,forced:C||xe},he);return b&&!me||ke[z]===Ge||R(ke,z,Ge,{name:ue}),U[H]=Ge,he}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,a){var f=a(7),l=a(67),b=a(43),O=a(61),w=f.Array,_=Math.max;c.exports=function(S,A,P){for(var M=b(S),R=l(A,M),F=l(P===void 0?M:P,M),U=w(_(F-R,0)),B=0;R<F;R++,B++)O(U,B,S[R]);return U.length=B,U}},function(c,p,a){var f=a(7),l=a(62),b=a(35),O=a(32),w=a(88),_=a(140),S=a(43),A=a(58),P=a(141),M=a(115),R=a(142),F=f.TypeError,U=function(Y,q){this.stopped=Y,this.result=q},B=U.prototype;c.exports=function(Y,q,V){var C,z,k,L,H,ee,K,ue=V&&V.that,be=!(!V||!V.AS_ENTRIES),me=!(!V||!V.IS_ITERATOR),de=!(!V||!V.INTERRUPTED),he=l(q,ue),pe=function(_e){return C&&R(C,"normal",_e),new U(!0,_e)},se=function(_e){return be?(O(_e),de?he(_e[0],_e[1],pe):he(_e[0],_e[1])):de?he(_e,pe):he(_e)};if(me)C=Y;else{if(!(z=M(Y)))throw F(w(Y)+" is not iterable");if(_(z)){for(k=0,L=S(Y);L>k;k++)if((H=se(Y[k]))&&A(B,H))return H;return new U(!1)}C=P(Y,z)}for(ee=C.next;!(K=b(ee,C)).done;){try{H=se(K.value)}catch(_e){R(C,"throw",_e)}if(typeof H=="object"&&H&&A(B,H))return H}return new U(!1)}},function(c,p,a){var f=a(97),l=a(59),b=a(70),O=a(27)("iterator");c.exports=function(w){if(w!=null)return l(w,O)||l(w,"@@iterator")||b[f(w)]}},function(c,p,a){var f={};f[a(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,a){var f=a(7),l=a(58),b=f.TypeError;c.exports=function(O,w){if(l(w,O))return O;throw b("Incorrect invocation")}},function(c,p,a){var f=a(27)("iterator"),l=!1;try{var b=0,O={next:function(){return{done:!!b++}},return:function(){l=!0}};O[f]=function(){return this},Array.from(O,function(){throw 2})}catch{}c.exports=function(w,_){if(!_&&!l)return!1;var S=!1;try{var A={};A[f]=function(){return{next:function(){return{done:S=!0}}}},w(A)}catch{}return S}},function(c,p,a){var f=a(179);c.exports=function(l,b){return new(f(l))(b===0?0:b)}},function(c,p,a){var f=a(18);c.exports=function(l,b){var O=[][l];return!!O&&f(function(){O.call(null,b||function(){throw 1},1)})}},function(c,p){c.exports=function(a){if(!a.webpackPolyfill){var f=Object.create(a);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,a){a(19);var f=a(15),l=a(44),b=a(101),O=a(18),w=a(27),_=a(57),S=w("species"),A=RegExp.prototype;c.exports=function(P,M,R,F){var U=w(P),B=!O(function(){var C={};return C[U]=function(){return 7},""[P](C)!=7}),Y=B&&!O(function(){var C=!1,z=/a/;return P==="split"&&((z={}).constructor={},z.constructor[S]=function(){return z},z.flags="",z[U]=/./[U]),z.exec=function(){return C=!0,null},z[U](""),!C});if(!B||!Y||R){var q=f(/./[U]),V=M(U,""[P],function(C,z,k,L,H){var ee=f(C),K=z.exec;return K===b||K===A.exec?B&&!H?{done:!0,value:q(z,k,L)}:{done:!0,value:ee(k,z,L)}:{done:!1}});l(String.prototype,P,V[0]),l(A,U,V[1])}F&&_(A[U],"sham",!0)}},function(c,p,a){var f=a(146).charAt;c.exports=function(l,b,O){return b+(O?f(l,b).length:1)}},function(c,p,a){var f=a(7),l=a(35),b=a(32),O=a(28),w=a(50),_=a(101),S=f.TypeError;c.exports=function(A,P){var M=A.exec;if(O(M)){var R=l(M,A,P);return R!==null&&b(R),R}if(w(A)==="RegExp")return l(_,A,P);throw S("RegExp#exec called on incompatible receiver")}},function(c,p,a){var f=a(76),l=a(35),b=a(15),O=a(122),w=a(18),_=a(32),S=a(28),A=a(68),P=a(89),M=a(40),R=a(45),F=a(123),U=a(59),B=a(197),Y=a(124),q=a(27)("replace"),V=Math.max,C=Math.min,z=b([].concat),k=b([].push),L=b("".indexOf),H=b("".slice),ee="a".replace(/./,"$0")==="$0",K=!!/./[q]&&/./[q]("a","$0")==="";O("replace",function(ue,be,me){var de=K?"$":"$0";return[function(he,pe){var se=R(this),_e=he==null?void 0:U(he,q);return _e?l(_e,he,se,pe):l(be,M(se),he,pe)},function(he,pe){var se=_(this),_e=M(he);if(typeof pe=="string"&&L(pe,de)===-1&&L(pe,"$<")===-1){var xe=me(be,se,_e,pe);if(xe.done)return xe.value}var ke=S(pe);ke||(pe=M(pe));var Re=se.global;if(Re){var Ge=se.unicode;se.lastIndex=0}for(var Ae=[];;){var Ye=Y(se,_e);if(Ye===null||(k(Ae,Ye),!Re))break;M(Ye[0])===""&&(se.lastIndex=F(_e,P(se.lastIndex),Ge))}for(var st,Z="",J=0,ae=0;ae<Ae.length;ae++){for(var ve=M((Ye=Ae[ae])[0]),Te=V(C(A(Ye.index),_e.length),0),we=[],We=1;We<Ye.length;We++)k(we,(st=Ye[We])===void 0?st:String(st));var Xe=Ye.groups;if(ke){var et=z([ve],we,Te,_e);Xe!==void 0&&k(et,Xe);var qe=M(f(pe,void 0,et))}else qe=B(ve,_e,Te,we,Xe,pe);Te>=J&&(Z+=H(_e,J,Te)+qe,J=Te+ve.length)}return Z+H(_e,J)}]},!!w(function(){var ue=/./;return ue.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(ue,"$<a>")!=="7"})||!ee||K)},function(c,p,a){var f=a(50),l=a(7);c.exports=f(l.process)=="process"},function(c,p,a){a(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,a){var f=a(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,a){var f=a(36),l=a(18),b=a(85);c.exports=!f&&!l(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,a){var f=a(7),l=a(35),b=a(33),O=a(87),w=a(59),_=a(168),S=a(27),A=f.TypeError,P=S("toPrimitive");c.exports=function(M,R){if(!b(M)||O(M))return M;var F,U=w(M,P);if(U){if(R===void 0&&(R="default"),F=l(U,M,R),!b(F)||O(F))return F;throw A("Can't convert object to primitive value")}return R===void 0&&(R="number"),_(M,R)}},function(c,p,a){var f=a(15),l=a(34),b=a(39),O=a(132).indexOf,w=a(69),_=f([].push);c.exports=function(S,A){var P,M=b(S),R=0,F=[];for(P in M)!l(w,P)&&l(M,P)&&_(F,P);for(;A.length>R;)l(M,P=A[R++])&&(~O(F,P)||_(F,P));return F}},function(c,p,a){var f=a(39),l=a(67),b=a(43),O=function(w){return function(_,S,A){var P,M=f(_),R=b(M),F=l(A,R);if(w&&S!=S){for(;R>F;)if((P=M[F++])!=P)return!0}else for(;R>F;F++)if((w||F in M)&&M[F]===S)return w||F||0;return!w&&-1}};c.exports={includes:O(!0),indexOf:O(!1)}},function(c,p,a){var f=a(46);c.exports=f("document","documentElement")},function(c,p,a){var f=a(34),l=a(135),b=a(51),O=a(37);c.exports=function(w,_){for(var S=l(_),A=O.f,P=b.f,M=0;M<S.length;M++){var R=S[M];f(w,R)||A(w,R,P(_,R))}}},function(c,p,a){var f=a(46),l=a(15),b=a(72),O=a(112),w=a(32),_=l([].concat);c.exports=f("Reflect","ownKeys")||function(S){var A=b.f(w(S)),P=O.f;return P?_(A,P(S)):A}},function(c,p,a){var f,l,b,O=a(18),w=a(28),_=a(54),S=a(95),A=a(44),P=a(27),M=a(64),R=P("iterator"),F=!1;[].keys&&("next"in(b=[].keys())?(l=S(S(b)))!==Object.prototype&&(f=l):F=!0),f==null||O(function(){var U={};return f[R].call(U)!==U})?f={}:M&&(f=_(f)),w(f[R])||A(f,R,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:F}},function(c,p,a){var f=a(18);c.exports=!f(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(c,p,a){var f=a(16),l=a(15),b=a(69),O=a(33),w=a(34),_=a(37).f,S=a(72),A=a(139),P=a(173),M=a(84),R=a(175),F=!1,U=M("meta"),B=0,Y=function(V){_(V,U,{value:{objectID:"O"+B++,weakData:{}}})},q=c.exports={enable:function(){q.enable=function(){},F=!0;var V=S.f,C=l([].splice),z={};z[U]=1,V(z).length&&(S.f=function(k){for(var L=V(k),H=0,ee=L.length;H<ee;H++)if(L[H]===U){C(L,H,1);break}return L},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(V,C){if(!O(V))return typeof V=="symbol"?V:(typeof V=="string"?"S":"P")+V;if(!w(V,U)){if(!P(V))return"F";if(!C)return"E";Y(V)}return V[U].objectID},getWeakData:function(V,C){if(!w(V,U)){if(!P(V))return!0;if(!C)return!1;Y(V)}return V[U].weakData},onFreeze:function(V){return R&&F&&P(V)&&!w(V,U)&&Y(V),V}};b[U]=!0},function(c,p,a){var f=a(50),l=a(39),b=a(72).f,O=a(113),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(_){return w&&f(_)=="Window"?function(S){try{return b(S)}catch{return O(w)}}(_):b(l(_))}},function(c,p,a){var f=a(27),l=a(70),b=f("iterator"),O=Array.prototype;c.exports=function(w){return w!==void 0&&(l.Array===w||O[b]===w)}},function(c,p,a){var f=a(7),l=a(35),b=a(55),O=a(32),w=a(88),_=a(115),S=f.TypeError;c.exports=function(A,P){var M=arguments.length<2?_(A):P;if(b(M))return O(l(M,A));throw S(w(A)+" is not iterable")}},function(c,p,a){var f=a(35),l=a(32),b=a(59);c.exports=function(O,w,_){var S,A;l(O);try{if(!(S=b(O,"return"))){if(w==="throw")throw _;return _}S=f(S,O)}catch(P){A=!0,S=P}if(w==="throw")throw _;if(A)throw S;return l(S),_}},function(c,p,a){var f=a(28),l=a(33),b=a(96);c.exports=function(O,w,_){var S,A;return b&&f(S=w.constructor)&&S!==_&&l(A=S.prototype)&&A!==_.prototype&&b(O,A),O}},function(c,p,a){var f=a(44);c.exports=function(l,b,O){for(var w in b)f(l,w,b[w],O);return l}},function(c,p,a){var f=a(46),l=a(37),b=a(27),O=a(36),w=b("species");c.exports=function(_){var S=f(_),A=l.f;O&&S&&!S[w]&&A(S,w,{configurable:!0,get:function(){return this}})}},function(c,p,a){var f=a(15),l=a(68),b=a(40),O=a(45),w=f("".charAt),_=f("".charCodeAt),S=f("".slice),A=function(P){return function(M,R){var F,U,B=b(O(M)),Y=l(R),q=B.length;return Y<0||Y>=q?P?"":void 0:(F=_(B,Y))<55296||F>56319||Y+1===q||(U=_(B,Y+1))<56320||U>57343?P?w(B,Y):F:P?S(B,Y,Y+2):U-56320+(F-55296<<10)+65536}};c.exports={codeAt:A(!1),charAt:A(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,a){var f=a(85)("span").classList,l=f&&f.constructor&&f.constructor.prototype;c.exports=l===Object.prototype?void 0:l},function(c,p,a){var f=a(27);p.f=f},function(c,p,a){var f=a(180),l=a(34),b=a(149),O=a(37).f;c.exports=function(w){var _=f.Symbol||(f.Symbol={});l(_,w)||O(_,w,{value:b.f(w)})}},function(c,p,a){var f=a(18),l=a(7).RegExp,b=f(function(){var _=l("a","y");return _.lastIndex=2,_.exec("abcd")!=null}),O=b||f(function(){return!l("a","y").sticky}),w=b||f(function(){var _=l("^r","gy");return _.lastIndex=2,_.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:O,UNSUPPORTED_Y:b}},function(c,p,a){var f=a(16),l=a(132).includes,b=a(82);f({target:"Array",proto:!0},{includes:function(O){return l(this,O,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(c,p,a){var f=a(16),l=a(15),b=a(192),O=a(45),w=a(40),_=a(193),S=l("".indexOf);f({target:"String",proto:!0,forced:!_("includes")},{includes:function(A){return!!~S(w(O(this)),w(b(A)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(33),l=a(50),b=a(27)("match");c.exports=function(O){var w;return f(O)&&((w=O[b])!==void 0?!!w:l(O)=="RegExp")}},function(c,p){var a,f,l=c.exports={};function b(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function w(B){if(a===setTimeout)return setTimeout(B,0);if((a===b||!a)&&setTimeout)return a=setTimeout,setTimeout(B,0);try{return a(B,0)}catch{try{return a.call(null,B,0)}catch{return a.call(this,B,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:b}catch{a=b}try{f=typeof clearTimeout=="function"?clearTimeout:O}catch{f=O}})();var _,S=[],A=!1,P=-1;function M(){A&&_&&(A=!1,_.length?S=_.concat(S):P=-1,S.length&&R())}function R(){if(!A){var B=w(M);A=!0;for(var Y=S.length;Y;){for(_=S,S=[];++P<Y;)_&&_[P].run();P=-1,Y=S.length}_=null,A=!1,function(q){if(f===clearTimeout)return clearTimeout(q);if((f===O||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(q);try{f(q)}catch{try{return f.call(null,q)}catch{return f.call(this,q)}}}(B)}}function F(B,Y){this.fun=B,this.array=Y}function U(){}l.nextTick=function(B){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)Y[q-1]=arguments[q];S.push(new F(B,Y)),S.length!==1||A||w(R)},F.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=U,l.addListener=U,l.once=U,l.off=U,l.removeListener=U,l.removeAllListeners=U,l.emit=U,l.prependListener=U,l.prependOnceListener=U,l.listeners=function(B){return[]},l.binding=function(B){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(B){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(c,p,a){var f=a(32),l=a(157),b=a(27)("species");c.exports=function(O,w){var _,S=f(O).constructor;return S===void 0||(_=f(S)[b])==null?w:l(_)}},function(c,p,a){var f=a(7),l=a(99),b=a(88),O=f.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not a constructor")}},function(c,p,a){var f=a(15),l=a(45),b=a(40),O=a(159),w=f("".replace),_="["+O+"]",S=RegExp("^"+_+_+"*"),A=RegExp(_+_+"*$"),P=function(M){return function(R){var F=b(l(R));return 1&M&&(F=w(F,S,"")),2&M&&(F=w(F,A,"")),F}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,a){var f=a(35),l=a(122),b=a(32),O=a(89),w=a(40),_=a(45),S=a(59),A=a(123),P=a(124);l("match",function(M,R,F){return[function(U){var B=_(this),Y=U==null?void 0:S(U,M);return Y?f(Y,U,B):new RegExp(U)[M](w(B))},function(U){var B=b(this),Y=w(U),q=F(R,B,Y);if(q.done)return q.value;if(!B.global)return P(B,Y);var V=B.unicode;B.lastIndex=0;for(var C,z=[],k=0;(C=P(B,Y))!==null;){var L=w(C[0]);z[k]=L,L===""&&(B.lastIndex=A(Y,O(B.lastIndex),V)),k++}return k===0?null:z}]})},function(c,p,a){var f,l,b,O,w=a(7),_=a(76),S=a(62),A=a(28),P=a(34),M=a(18),R=a(133),F=a(100),U=a(85),B=a(162),Y=a(126),q=w.setImmediate,V=w.clearImmediate,C=w.process,z=w.Dispatch,k=w.Function,L=w.MessageChannel,H=w.String,ee=0,K={};try{f=w.location}catch{}var ue=function(he){if(P(K,he)){var pe=K[he];delete K[he],pe()}},be=function(he){return function(){ue(he)}},me=function(he){ue(he.data)},de=function(he){w.postMessage(H(he),f.protocol+"//"+f.host)};q&&V||(q=function(he){var pe=F(arguments,1);return K[++ee]=function(){_(A(he)?he:k(he),void 0,pe)},l(ee),ee},V=function(he){delete K[he]},Y?l=function(he){C.nextTick(be(he))}:z&&z.now?l=function(he){z.now(be(he))}:L&&!B?(O=(b=new L).port2,b.port1.onmessage=me,l=S(O.postMessage,O)):w.addEventListener&&A(w.postMessage)&&!w.importScripts&&f&&f.protocol!=="file:"&&!M(de)?(l=de,w.addEventListener("message",me,!1)):l="onreadystatechange"in U("script")?function(he){R.appendChild(U("script")).onreadystatechange=function(){R.removeChild(this),ue(he)}}:function(he){setTimeout(be(he),0)}),c.exports={set:q,clear:V}},function(c,p,a){var f=a(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,a){var f=a(55),l=function(b){var O,w;this.promise=new b(function(_,S){if(O!==void 0||w!==void 0)throw TypeError("Bad Promise constructor");O=_,w=S}),this.resolve=f(O),this.reject=f(w)};c.exports.f=function(b){return new l(b)}},function(c,p,a){p.a=function(){return!1}},function(c,p,a){(function(f){a.d(p,"a",function(){return Y});var l=a(0);function b(C){throw new Error("[mobx-utils] "+C)}function O(C,z){z===void 0&&(z="Illegal state"),C||b(z)}var w=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(w(Object.getPrototypeOf(C))||[])},_=function(C){return function(z){var k=w(z);return k.filter(function(L,H){return k.indexOf(L)===H})}(C).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function S(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function A(C,z){if(O(arguments.length<=2,"fromPromise expects up to two arguments"),O(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var k=C;C.then(Object(l.k)("observableFromPromise-resolve",function(H){k.value=H,k.state="fulfilled"}),Object(l.k)("observableFromPromise-reject",function(H){k.value=H,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=S;var L=z&&z.state==="fulfilled"?z.value:void 0;return Object(l.q)(k,{value:L,state:"pending"},{},{deep:!1}),k}(function(C){C.reject=Object(l.k)("fromPromise.reject",function(z){var k=C(Promise.reject(z));return k.state="rejected",k.value=z,k}),C.resolve=Object(l.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var k=C(Promise.resolve(z));return k.state="fulfilled",k.value=z,k})})(A||(A={}));var P=function(C,z,k,L){var H,ee=arguments.length,K=ee<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(C,z,k,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(K=(ee<3?H(K):ee>3?H(z,k,K):H(z,k))||K);return ee>3&&K&&Object.defineProperty(z,k,K),K};(function(){function C(z,k){var L=this;Object(l.G)(function(){L.current=k,L.subscription=z.subscribe(L)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(z){this.current=z},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(z){this.current=z,this.dispose()},P([l.C.ref],C.prototype,"current",void 0),P([l.k.bound],C.prototype,"next",null),P([l.k.bound],C.prototype,"complete",null),P([l.k.bound],C.prototype,"error",null)})();var M=function(){return(M=Object.assign||function(C){for(var z,k=1,L=arguments.length;k<L;k++)for(var H in z=arguments[k])Object.prototype.hasOwnProperty.call(z,H)&&(C[H]=z[H]);return C}).apply(this,arguments)},R=function(C,z,k,L){var H,ee=arguments.length,K=ee<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(C,z,k,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(K=(ee<3?H(K):ee>3?H(z,k,K):H(z,k))||K);return ee>3&&K&&Object.defineProperty(z,k,K),K},F=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(z){var k=this;this.model=z,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(L){return k.localValues.has(L)},O(Object(l.A)(z),"createViewModel expects an observable object"),_(z).forEach(function(L){if(L!==l.a&&L!=="__mobxDidRunLazyInitializers"){if(O(F.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(l.w)(z,L)){var H=Object(l.h)(z,L).derivation;k.localComputedValues.set(L,Object(l.m)(H.bind(k)))}var ee=Object.getOwnPropertyDescriptor(z,L),K=ee?{enumerable:ee.enumerable}:{};Object.defineProperty(k,L,M(M({},K),{configurable:!0,get:function(){return Object(l.w)(z,L)?k.localComputedValues.get(L).get():k.isPropertyDirty(L)?k.localValues.get(L):k.model[L]},set:Object(l.k)(function(ue){ue!==k.model[L]?k.localValues.set(L,ue):k.localValues.delete(L)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var z=this;Object(l.B)(this.localValues).forEach(function(k){var L=z.localValues.get(k),H=z.model[k];Object(l.y)(H)?H.replace(L):Object(l.z)(H)?(H.clear(),H.merge(L)):Object(l.v)(L)||(z.model[k]=L)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(z){this.localValues.delete(z)},R([l.m],C.prototype,"isDirty",null),R([l.m],C.prototype,"changedValues",null),R([l.k.bound],C.prototype,"submit",null),R([l.k.bound],C.prototype,"reset",null),R([l.k.bound],C.prototype,"resetProperty",null)})();function U(C){if(!C)return"ROOT";for(var z=[];C.parent;)z.push(C.path),C=C.parent;return z.reverse().join("/")}function B(C){return Object(l.A)(C)||Object(l.y)(C)||Object(l.z)(C)}function Y(C,z){var k=new WeakMap;function L(K){var ue=k.get(K.object);(function(be,me){switch(be.type){case"add":H(be.newValue,me,be.name);break;case"update":ee(be.oldValue),H(be.newValue,me,be.name||""+be.index);break;case"remove":case"delete":ee(be.oldValue);break;case"splice":be.removed.map(ee),be.added.forEach(function(pe,se){return H(pe,me,""+(be.index+se))});for(var de=be.index+be.addedCount;de<be.object.length;de++)if(B(be.object[de])){var he=k.get(be.object[de]);he&&(he.path=""+de)}}})(K,ue),z(K,U(ue),C)}function H(K,ue,be){if(B(K)){var me=k.get(K);if(me){if(me.parent!==ue||me.path!==be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+U(ue)+"/"+be+"', but it already exists at '"+U(me.parent)+"/"+me.path+"'")}else{var de={parent:ue,path:be,dispose:Object(l.D)(K,L)};k.set(K,de),Object(l.p)(K).forEach(function(he){var pe=he[0];return H(he[1],de,pe)})}}}function ee(K){if(B(K)){var ue=k.get(K);if(!ue)return;k.delete(K),ue.dispose(),Object(l.L)(K).forEach(ee)}}return H(C,void 0,""),function(){ee(C)}}var q,V=(q=function(C,z){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var H in L)L.hasOwnProperty(H)&&(k[H]=L[H])})(C,z)},function(C,z){function k(){this.constructor=C}q(C,z),C.prototype=z===null?Object.create(z):(k.prototype=z.prototype,new k)});(function(C){function z(k,L,H){var ee=H===void 0?{}:H,K=ee.name,ue=K===void 0?"ogm"+(1e3*Math.random()|0):K,be=ee.keyToName,me=be===void 0?function(pe){return""+pe}:be,de=C.call(this)||this;de._keyToName=me,de._groupBy=L,de._ogmInfoKey=Symbol("ogmInfo"+ue),de._base=k;for(var he=0;he<k.length;he++)de._addItem(k[he]);return de._disposeBaseObserver=Object(l.D)(de._base,function(pe){if(pe.type==="splice")Object(l.J)(function(){for(var se=0,_e=pe.removed;se<_e.length;se++){var xe=_e[se];de._removeItem(xe)}for(var ke=0,Re=pe.added;ke<Re.length;ke++){var Ge=Re[ke];de._addItem(Ge)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(l.J)(function(){de._removeItem(pe.oldValue),de._addItem(pe.newValue)})}}),de}V(z,C),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(k){throw new Error("not supported")},z.prototype.set=function(k,L){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var L=this._base[k];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},z.prototype._getGroupArr=function(k){var L=C.prototype.get.call(this,k);return L===void 0&&(L=Object(l.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),C.prototype.set.call(this,k,L)),L},z.prototype._removeFromGroupArr=function(k,L){var H=C.prototype.get.call(this,k);H.length===1?C.prototype.delete.call(this,k):(L===H.length-1||(H[L]=H[H.length-1],H[L][this._ogmInfoKey].groupArrIndex=L),H.length--)},z.prototype._addItem=function(k){var L=this,H=this._groupBy(k),ee=this._getGroupArr(H),K={groupByValue:H,groupArrIndex:ee.length,reaction:Object(l.F)(function(){return L._groupBy(k)},function(ue,be){var me=k[L._ogmInfoKey];L._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var de=L._getGroupArr(ue),he=de.length;de.push(k),me.groupByValue=ue,me.groupArrIndex=he})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:K}),ee.push(k)},z.prototype._removeItem=function(k){var L=k[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete k[this._ogmInfoKey]}})(l.b),function(){function C(z,k){this.base=z,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=z,H=0;H<this.args.length-1&&(L=L.get(k[H]));H++)this.closest=L;this.closestIdx=H}return C.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(z){this.assertNotDisposed();for(var k=this.args.length,L=this.closest,H=this.closestIdx;H<k-1;H++){var ee=new Map;L.set(this.args[H],ee),L=ee}this.closestIdx=k-1,this.closest=L,L.set(this.args[k-1],z)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var k=this.root,L=[k],H=0;H<z-1;H++)k=k.get(this.args[H]),L.push(k);for(H=L.length-1;H>0;H--)L[H].size===0&&L[H-1].delete(this.args[H-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,a(155))},function(c,p,a){var f;(function(l,b,O){if(l){for(var w,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M=1;M<20;++M)_[111+M]="f"+M;for(M=0;M<=9;++M)_[M+96]=M.toString();q.prototype.bind=function(V,C,z){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,C,z),this},q.prototype.unbind=function(V,C){return this.bind.call(this,V,function(){},C)},q.prototype.trigger=function(V,C){return this._directMap[V+":"+C]&&this._directMap[V+":"+C]({},V),this},q.prototype.reset=function(){return this._callbacks={},this._directMap={},this},q.prototype.stopCallback=function(V,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function k(L,H){return L!==null&&L!==b&&(L===H||k(L.parentNode,H))}(C,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var z=V.composedPath()[0];z!==V.target&&(C=z)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},q.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},q.addKeycodes=function(V){for(var C in V)V.hasOwnProperty(C)&&(_[C]=V[C]);w=null},q.init=function(){var V=q(b);for(var C in V)C.charAt(0)!=="_"&&(q[C]=function(z){return function(){return V[z].apply(V,arguments)}}(C))},q.init(),l.Mousetrap=q,c.exports&&(c.exports=q),(f=function(){return q}.call(p,a,p,c))===void 0||(c.exports=f)}function R(V,C,z){V.addEventListener?V.addEventListener(C,z,!1):V.attachEvent("on"+C,z)}function F(V){if(V.type=="keypress"){var C=String.fromCharCode(V.which);return V.shiftKey||(C=C.toLowerCase()),C}return _[V.which]?_[V.which]:S[V.which]?S[V.which]:String.fromCharCode(V.which).toLowerCase()}function U(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function B(V,C,z){return z||(z=function(){if(!w)for(var k in w={},_)k>95&&k<112||_.hasOwnProperty(k)&&(w[_[k]]=k);return w}()[V]?"keydown":"keypress"),z=="keypress"&&C.length&&(z="keydown"),z}function Y(V,C){var z,k,L,H=[];for(z=function(ee){return ee==="+"?["+"]:(ee=ee.replace(/\+{2}/g,"+plus")).split("+")}(V),L=0;L<z.length;++L)k=z[L],P[k]&&(k=P[k]),C&&C!="keypress"&&A[k]&&(k=A[k],H.push("shift")),U(k)&&H.push(k);return{key:k,modifiers:H,action:C=B(k,H,C)}}function q(V){var C=this;if(V=V||b,!(C instanceof q))return new q(V);C.target=V,C._callbacks={},C._directMap={};var z,k={},L=!1,H=!1,ee=!1;function K(pe){pe=pe||{};var se,_e=!1;for(se in k)pe[se]?_e=!0:k[se]=0;_e||(ee=!1)}function ue(pe,se,_e,xe,ke,Re){var Ge,Ae,Ye,st,Z=[],J=_e.type;if(!C._callbacks[pe])return[];for(J=="keyup"&&U(pe)&&(se=[pe]),Ge=0;Ge<C._callbacks[pe].length;++Ge)if(Ae=C._callbacks[pe][Ge],(xe||!Ae.seq||k[Ae.seq]==Ae.level)&&J==Ae.action&&(J=="keypress"&&!_e.metaKey&&!_e.ctrlKey||(Ye=se,st=Ae.modifiers,Ye.sort().join(",")===st.sort().join(",")))){var ae=!xe&&Ae.combo==ke,ve=xe&&Ae.seq==xe&&Ae.level==Re;(ae||ve)&&C._callbacks[pe].splice(Ge,1),Z.push(Ae)}return Z}function be(pe,se,_e,xe){C.stopCallback(se,se.target||se.srcElement,_e,xe)||pe(se,_e)===!1&&(function(ke){ke.preventDefault?ke.preventDefault():ke.returnValue=!1}(se),function(ke){ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0}(se))}function me(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var se=F(pe);se&&(pe.type!="keyup"||L!==se?C.handleKey(se,function(_e){var xe=[];return _e.shiftKey&&xe.push("shift"),_e.altKey&&xe.push("alt"),_e.ctrlKey&&xe.push("ctrl"),_e.metaKey&&xe.push("meta"),xe}(pe),pe):L=!1)}function de(pe,se,_e,xe){function ke(Ye){return function(){ee=Ye,++k[pe],clearTimeout(z),z=setTimeout(K,1e3)}}function Re(Ye){be(_e,Ye,pe),xe!=="keyup"&&(L=F(Ye)),setTimeout(K,10)}k[pe]=0;for(var Ge=0;Ge<se.length;++Ge){var Ae=Ge+1===se.length?Re:ke(xe||Y(se[Ge+1]).action);he(se[Ge],Ae,xe,pe,Ge)}}function he(pe,se,_e,xe,ke){C._directMap[pe+":"+_e]=se;var Re,Ge=(pe=pe.replace(/\s+/g," ")).split(" ");Ge.length>1?de(pe,Ge,se,_e):(Re=Y(pe,_e),C._callbacks[Re.key]=C._callbacks[Re.key]||[],ue(Re.key,Re.modifiers,{type:Re.action},xe,pe,ke),C._callbacks[Re.key][xe?"unshift":"push"]({callback:se,modifiers:Re.modifiers,action:Re.action,seq:xe,level:ke,combo:pe}))}C._handleKey=function(pe,se,_e){var xe,ke=ue(pe,se,_e),Re={},Ge=0,Ae=!1;for(xe=0;xe<ke.length;++xe)ke[xe].seq&&(Ge=Math.max(Ge,ke[xe].level));for(xe=0;xe<ke.length;++xe)if(ke[xe].seq){if(ke[xe].level!=Ge)continue;Ae=!0,Re[ke[xe].seq]=1,be(ke[xe].callback,_e,ke[xe].combo,ke[xe].seq)}else Ae||be(ke[xe].callback,_e,ke[xe].combo);var Ye=_e.type=="keypress"&&H;_e.type!=ee||U(pe)||Ye||K(Re),H=Ae&&_e.type=="keydown"},C._bindMultiple=function(pe,se,_e){for(var xe=0;xe<pe.length;++xe)he(pe[xe],se,_e)},R(V,"keypress",me),R(V,"keydown",me),R(V,"keyup",me)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,a){var f=a(36),l=a(37),b=a(32),O=a(39),w=a(66);c.exports=f?Object.defineProperties:function(_,S){b(_);for(var A,P=O(S),M=w(S),R=M.length,F=0;R>F;)l.f(_,A=M[F++],P[A]);return _}},function(c,p,a){var f=a(7),l=a(35),b=a(28),O=a(33),w=f.TypeError;c.exports=function(_,S){var A,P;if(S==="string"&&b(A=_.toString)&&!O(P=l(A,_))||b(A=_.valueOf)&&!O(P=l(A,_))||S!=="string"&&b(A=_.toString)&&!O(P=l(A,_)))return P;throw w("Can't convert object to primitive value")}},function(c,p,a){var f=a(7),l=a(28),b=a(91),O=f.WeakMap;c.exports=l(O)&&/native code/.test(b(O))},function(c,p,a){var f=a(136).IteratorPrototype,l=a(54),b=a(71),O=a(73),w=a(70),_=function(){return this};c.exports=function(S,A,P,M){var R=A+" Iterator";return S.prototype=l(f,{next:b(+!M,P)}),O(S,R,!1,!0),w[R]=_,S}},function(c,p,a){var f=a(7),l=a(28),b=f.String,O=f.TypeError;c.exports=function(w){if(typeof w=="object"||l(w))return w;throw O("Can't set "+b(w)+" as a prototype")}},function(c,p,a){var f=a(16),l=a(7),b=a(15),O=a(94),w=a(44),_=a(138),S=a(114),A=a(117),P=a(28),M=a(33),R=a(18),F=a(118),U=a(73),B=a(143);c.exports=function(Y,q,V){var C=Y.indexOf("Map")!==-1,z=Y.indexOf("Weak")!==-1,k=C?"set":"add",L=l[Y],H=L&&L.prototype,ee=L,K={},ue=function(se){var _e=b(H[se]);w(H,se,se=="add"?function(xe){return _e(this,xe===0?0:xe),this}:se=="delete"?function(xe){return!(z&&!M(xe))&&_e(this,xe===0?0:xe)}:se=="get"?function(xe){return z&&!M(xe)?void 0:_e(this,xe===0?0:xe)}:se=="has"?function(xe){return!(z&&!M(xe))&&_e(this,xe===0?0:xe)}:function(xe,ke){return _e(this,xe===0?0:xe,ke),this})};if(O(Y,!P(L)||!(z||H.forEach&&!R(function(){new L().entries().next()}))))ee=V.getConstructor(q,Y,C,k),_.enable();else if(O(Y,!0)){var be=new ee,me=be[k](z?{}:-0,1)!=be,de=R(function(){be.has(1)}),he=F(function(se){new L(se)}),pe=!z&&R(function(){for(var se=new L,_e=5;_e--;)se[k](_e,_e);return!se.has(-0)});he||((ee=q(function(se,_e){A(se,H);var xe=B(new L,se,ee);return _e!=null&&S(_e,xe[k],{that:xe,AS_ENTRIES:C}),xe})).prototype=H,H.constructor=ee),(de||pe)&&(ue("delete"),ue("has"),C&&ue("get")),(pe||me)&&ue(k),z&&H.clear&&delete H.clear}return K[Y]=ee,f({global:!0,forced:ee!=L},K),U(ee,Y),z||V.setStrong(ee,Y,C),ee}},function(c,p,a){var f=a(18),l=a(33),b=a(50),O=a(174),w=Object.isExtensible,_=f(function(){});c.exports=_||O?function(S){return!!l(S)&&(!O||b(S)!="ArrayBuffer")&&(!w||w(S))}:w},function(c,p,a){var f=a(18);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(c,p,a){var f=a(18);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,a){var f=a(37).f,l=a(54),b=a(144),O=a(62),w=a(117),_=a(114),S=a(111),A=a(145),P=a(36),M=a(138).fastKey,R=a(56),F=R.set,U=R.getterFor;c.exports={getConstructor:function(B,Y,q,V){var C=B(function(ee,K){w(ee,z),F(ee,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),P||(ee.size=0),K!=null&&_(K,ee[V],{that:ee,AS_ENTRIES:q})}),z=C.prototype,k=U(Y),L=function(ee,K,ue){var be,me,de=k(ee),he=H(ee,K);return he?he.value=ue:(de.last=he={index:me=M(K,!0),key:K,value:ue,previous:be=de.last,next:void 0,removed:!1},de.first||(de.first=he),be&&(be.next=he),P?de.size++:ee.size++,me!=="F"&&(de.index[me]=he)),ee},H=function(ee,K){var ue,be=k(ee),me=M(K);if(me!=="F")return be.index[me];for(ue=be.first;ue;ue=ue.next)if(ue.key==K)return ue};return b(z,{clear:function(){for(var ee=k(this),K=ee.index,ue=ee.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete K[ue.index],ue=ue.next;ee.first=ee.last=void 0,P?ee.size=0:this.size=0},delete:function(ee){var K=k(this),ue=H(this,ee);if(ue){var be=ue.next,me=ue.previous;delete K.index[ue.index],ue.removed=!0,me&&(me.next=be),be&&(be.previous=me),K.first==ue&&(K.first=be),K.last==ue&&(K.last=me),P?K.size--:this.size--}return!!ue},forEach:function(ee){for(var K,ue=k(this),be=O(ee,arguments.length>1?arguments[1]:void 0);K=K?K.next:ue.first;)for(be(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(ee){return!!H(this,ee)}}),b(z,q?{get:function(ee){var K=H(this,ee);return K&&K.value},set:function(ee,K){return L(this,ee===0?0:ee,K)}}:{add:function(ee){return L(this,ee=ee===0?0:ee,ee)}}),P&&f(z,"size",{get:function(){return k(this).size}}),C},setStrong:function(B,Y,q){var V=Y+" Iterator",C=U(Y),z=U(V);S(B,Y,function(k,L){F(this,{type:V,target:k,state:C(k),kind:L,last:void 0})},function(){for(var k=z(this),L=k.kind,H=k.last;H&&H.removed;)H=H.previous;return k.target&&(k.last=H=H?H.next:k.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},q?"entries":"values",!q,!0),A(Y)}}},function(c,p,a){var f=a(116),l=a(97);c.exports=f?{}.toString:function(){return"[object "+l(this)+"]"}},function(c,p,a){var f=a(74).forEach,l=a(120)("forEach");c.exports=l?[].forEach:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}},function(c,p,a){var f=a(7),l=a(98),b=a(99),O=a(33),w=a(27)("species"),_=f.Array;c.exports=function(S){var A;return l(S)&&(A=S.constructor,(b(A)&&(A===_||l(A.prototype))||O(A)&&(A=A[w])===null)&&(A=void 0)),A===void 0?_:A}},function(c,p,a){var f=a(7);c.exports=f},function(c,p,a){var f=a(7),l=a(62),b=a(35),O=a(38),w=a(182),_=a(140),S=a(99),A=a(43),P=a(61),M=a(141),R=a(115),F=f.Array;c.exports=function(U){var B=O(U),Y=S(this),q=arguments.length,V=q>1?arguments[1]:void 0,C=V!==void 0;C&&(V=l(V,q>2?arguments[2]:void 0));var z,k,L,H,ee,K,ue=R(B),be=0;if(!ue||this==F&&_(ue))for(z=A(B),k=Y?new this(z):F(z);z>be;be++)K=C?V(B[be],be):B[be],P(k,be,K);else for(ee=(H=M(B,ue)).next,k=Y?new this:[];!(L=b(ee,H)).done;be++)K=C?w(H,V,[L.value,be],!0):L.value,P(k,be,K);return k.length=be,k}},function(c,p,a){var f=a(32),l=a(142);c.exports=function(b,O,w,_){try{return _?O(f(w)[0],w[1]):O(w)}catch(S){l(b,"throw",S)}}},function(c,p,a){var f=a(32);c.exports=function(){var l=f(this),b="";return l.global&&(b+="g"),l.ignoreCase&&(b+="i"),l.multiline&&(b+="m"),l.dotAll&&(b+="s"),l.unicode&&(b+="u"),l.sticky&&(b+="y"),b}},function(c,p,a){var f=a(18),l=a(7).RegExp;c.exports=f(function(){var b=l(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(c,p,a){var f=a(18),l=a(7).RegExp;c.exports=f(function(){var b=l("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(c,p,a){var f=a(16),l=a(15),b=a(55),O=a(38),w=a(43),_=a(40),S=a(18),A=a(187),P=a(120),M=a(188),R=a(189),F=a(65),U=a(190),B=[],Y=l(B.sort),q=l(B.push),V=S(function(){B.sort(void 0)}),C=S(function(){B.sort(null)}),z=P("sort"),k=!S(function(){if(F)return F<70;if(!(M&&M>3)){if(R)return!0;if(U)return U<603;var L,H,ee,K,ue="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:ee=3;break;case 68:case 71:ee=4;break;default:ee=2}for(K=0;K<47;K++)B.push({k:H+K,v:ee})}for(B.sort(function(be,me){return me.v-be.v}),K=0;K<B.length;K++)H=B[K].k.charAt(0),ue.charAt(ue.length-1)!==H&&(ue+=H);return ue!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:V||!C||!z||!k},{sort:function(L){L!==void 0&&b(L);var H=O(this);if(k)return L===void 0?Y(H):Y(H,L);var ee,K,ue=[],be=w(H);for(K=0;K<be;K++)K in H&&q(ue,H[K]);for(A(ue,function(me){return function(de,he){return he===void 0?-1:de===void 0?1:me!==void 0?+me(de,he)||0:_(de)>_(he)?1:-1}}(L)),ee=ue.length,K=0;K<ee;)H[K]=ue[K++];for(;K<be;)delete H[K++];return H}})},function(c,p,a){var f=a(113),l=Math.floor,b=function(_,S){var A=_.length,P=l(A/2);return A<8?O(_,S):w(_,b(f(_,0,P),S),b(f(_,P),S),S)},O=function(_,S){for(var A,P,M=_.length,R=1;R<M;){for(P=R,A=_[R];P&&S(_[P-1],A)>0;)_[P]=_[--P];P!==R++&&(_[P]=A)}return _},w=function(_,S,A,P){for(var M=S.length,R=A.length,F=0,U=0;F<M||U<R;)_[F+U]=F<M&&U<R?P(S[F],A[U])<=0?S[F++]:A[U++]:F<M?S[F++]:A[U++];return _};c.exports=b},function(c,p,a){var f=a(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,a){var f=a(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(16),l=a(74).find,b=a(82),O=!0;"find"in[]&&Array(1).find(function(){O=!1}),f({target:"Array",proto:!0,forced:O},{find:function(w){return l(this,w,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(c,p,a){var f=a(7),l=a(154),b=f.TypeError;c.exports=function(O){if(l(O))throw b("The method doesn't accept regular expressions");return O}},function(c,p,a){var f=a(27)("match");c.exports=function(l){var b=/./;try{"/./"[l](b)}catch{try{return b[f]=!1,"/./"[l](b)}catch{}}return!1}},function(c,p,a){var f=a(16),l=a(158).trim;f({target:"String",proto:!0,forced:a(195)("trim")},{trim:function(){return l(this)}})},function(c,p,a){var f=a(93).PROPER,l=a(18),b=a(159);c.exports=function(O){return l(function(){return!!b[O]()||"\u200B\x85\u180E"[O]()!=="\u200B\x85\u180E"||f&&b[O].name!==O})}},function(c,p,a){var f=a(15);c.exports=f(1 .valueOf)},function(c,p,a){var f=a(15),l=a(38),b=Math.floor,O=f("".charAt),w=f("".replace),_=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,M,R,F,U,B){var Y=R+P.length,q=F.length,V=A;return U!==void 0&&(U=l(U),V=S),w(B,V,function(C,z){var k;switch(O(z,0)){case"$":return"$";case"&":return P;case"`":return _(M,0,R);case"'":return _(M,Y);case"<":k=U[_(z,1,-1)];break;default:var L=+z;if(L===0)return C;if(L>q){var H=b(L/10);return H===0?C:H<=q?F[H-1]===void 0?O(z,1):F[H-1]+O(z,1):C}k=F[L-1]}return k===void 0?"":k})}},function(c,p,a){var f=a(7),l=a(15),b=a(55),O=a(33),w=a(34),_=a(100),S=f.Function,A=l([].concat),P=l([].join),M={},R=function(F,U,B){if(!w(M,U)){for(var Y=[],q=0;q<U;q++)Y[q]="a["+q+"]";M[U]=S("C,a","return new C("+P(Y,",")+")")}return M[U](F,B)};c.exports=S.bind||function(F){var U=b(this),B=U.prototype,Y=_(arguments,1),q=function(){var V=A(Y,_(arguments));return this instanceof q?R(U,V.length,V):U.apply(F,V)};return O(B)&&(q.prototype=B),q}},function(c,p,a){var f=a(34);c.exports=function(l){return l!==void 0&&(f(l,"value")||f(l,"writable"))}},function(c,p,a){var f=a(36),l=a(15),b=a(35),O=a(18),w=a(66),_=a(112),S=a(92),A=a(38),P=a(80),M=Object.assign,R=Object.defineProperty,F=l([].concat);c.exports=!M||O(function(){if(f&&M({b:1},M(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},Y=Symbol();return U[Y]=7,"abcdefghijklmnopqrst".split("").forEach(function(q){B[q]=q}),M({},U)[Y]!=7||w(M({},B)).join("")!="abcdefghijklmnopqrst"})?function(U,B){for(var Y=A(U),q=arguments.length,V=1,C=_.f,z=S.f;q>V;)for(var k,L=P(arguments[V++]),H=C?F(w(L),C(L)):w(L),ee=H.length,K=0;ee>K;)k=H[K++],f&&!b(z,L,k)||(Y[k]=L[k]);return Y}:M},function(c,p,a){var f=a(15),l=a(45),b=a(40),O=/"/g,w=f("".replace);c.exports=function(_,S,A,P){var M=b(l(_)),R="<"+S;return A!==""&&(R+=" "+A+'="'+w(b(P),O,"&quot;")+'"'),R+">"+M+"</"+S+">"}},function(c,p,a){var f=a(18);c.exports=function(l){return f(function(){var b=""[l]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(c,p,a){var f=a(16),l=Math.hypot,b=Math.abs,O=Math.sqrt;f({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(w,_){for(var S,A,P=0,M=0,R=arguments.length,F=0;M<R;)F<(S=b(arguments[M++]))?(P=P*(A=F/S)*A+1,F=S):P+=S>0?(A=S/F)*A:S;return F===1/0?1/0:F*O(P)}})},function(c,p,a){var f,l,b,O,w=a(16),_=a(64),S=a(7),A=a(46),P=a(35),M=a(205),R=a(44),F=a(144),U=a(96),B=a(73),Y=a(145),q=a(55),V=a(28),C=a(33),z=a(117),k=a(91),L=a(114),H=a(118),ee=a(156),K=a(161).set,ue=a(206),be=a(209),me=a(210),de=a(163),he=a(211),pe=a(56),se=a(94),_e=a(27),xe=a(212),ke=a(126),Re=a(65),Ge=_e("species"),Ae="Promise",Ye=pe.getterFor(Ae),st=pe.set,Z=pe.getterFor(Ae),J=M&&M.prototype,ae=M,ve=J,Te=S.TypeError,we=S.document,We=S.process,Xe=de.f,et=Xe,qe=!!(we&&we.createEvent&&S.dispatchEvent),ye=V(S.PromiseRejectionEvent),$=!1,ze=se(Ae,function(){var ne=k(ae),je=ne!==String(ae);if(!je&&Re===66||_&&!ve.finally)return!0;if(Re>=51&&/native code/.test(ne))return!1;var Se=new ae(function(Ue){Ue(1)}),Ne=function(Ue){Ue(function(){},function(){})};return(Se.constructor={})[Ge]=Ne,!($=Se.then(function(){})instanceof Ne)||!je&&xe&&!ye}),Fe=ze||!H(function(ne){ae.all(ne).catch(function(){})}),Ke=function(ne){var je;return!(!C(ne)||!V(je=ne.then))&&je},At=function(ne,je){if(!ne.notified){ne.notified=!0;var Se=ne.reactions;ue(function(){for(var Ne=ne.value,Ue=ne.state==1,gt=0;Se.length>gt;){var wt,Yt,Zt,ut=Se[gt++],Me=Ue?ut.ok:ut.fail,Ve=ut.resolve,Ze=ut.reject,nt=ut.domain;try{Me?(Ue||(ne.rejection===2&&Rt(ne),ne.rejection=1),Me===!0?wt=Ne:(nt&&nt.enter(),wt=Me(Ne),nt&&(nt.exit(),Zt=!0)),wt===ut.promise?Ze(Te("Promise-chain cycle")):(Yt=Ke(wt))?P(Yt,wt,Ve,Ze):Ve(wt)):Ze(Ne)}catch(xt){nt&&!Zt&&nt.exit(),Ze(xt)}}ne.reactions=[],ne.notified=!1,je&&!ne.rejection&&lt(ne)})}},at=function(ne,je,Se){var Ne,Ue;qe?((Ne=we.createEvent("Event")).promise=je,Ne.reason=Se,Ne.initEvent(ne,!1,!0),S.dispatchEvent(Ne)):Ne={promise:je,reason:Se},!ye&&(Ue=S["on"+ne])?Ue(Ne):ne==="unhandledrejection"&&me("Unhandled promise rejection",Se)},lt=function(ne){P(K,S,function(){var je,Se=ne.facade,Ne=ne.value;if(yt(ne)&&(je=he(function(){ke?We.emit("unhandledRejection",Ne,Se):at("unhandledrejection",Se,Ne)}),ne.rejection=ke||yt(ne)?2:1,je.error))throw je.value})},yt=function(ne){return ne.rejection!==1&&!ne.parent},Rt=function(ne){P(K,S,function(){var je=ne.facade;ke?We.emit("rejectionHandled",je):at("rejectionhandled",je,ne.value)})},G=function(ne,je,Se){return function(Ne){ne(je,Ne,Se)}},te=function(ne,je,Se){ne.done||(ne.done=!0,Se&&(ne=Se),ne.value=je,ne.state=2,At(ne,!0))},fe=function(ne,je,Se){if(!ne.done){ne.done=!0,Se&&(ne=Se);try{if(ne.facade===je)throw Te("Promise can't be resolved itself");var Ne=Ke(je);Ne?ue(function(){var Ue={done:!1};try{P(Ne,je,G(fe,Ue,ne),G(te,Ue,ne))}catch(gt){te(Ue,gt,ne)}}):(ne.value=je,ne.state=1,At(ne,!1))}catch(Ue){te({done:!1},Ue,ne)}}};if(ze&&(ve=(ae=function(ne){z(this,ve),q(ne),P(f,this);var je=Ye(this);try{ne(G(fe,je),G(te,je))}catch(Se){te(je,Se)}}).prototype,(f=function(ne){st(this,{type:Ae,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=F(ve,{then:function(ne,je){var Se=Z(this),Ne=Se.reactions,Ue=Xe(ee(this,ae));return Ue.ok=!V(ne)||ne,Ue.fail=V(je)&&je,Ue.domain=ke?We.domain:void 0,Se.parent=!0,Ne[Ne.length]=Ue,Se.state!=0&&At(Se,!1),Ue.promise},catch:function(ne){return this.then(void 0,ne)}}),l=function(){var ne=new f,je=Ye(ne);this.promise=ne,this.resolve=G(fe,je),this.reject=G(te,je)},de.f=Xe=function(ne){return ne===ae||ne===b?new l(ne):et(ne)},!_&&V(M)&&J!==Object.prototype)){O=J.then,$||(R(J,"then",function(ne,je){var Se=this;return new ae(function(Ne,Ue){P(O,Se,Ne,Ue)}).then(ne,je)},{unsafe:!0}),R(J,"catch",ve.catch,{unsafe:!0}));try{delete J.constructor}catch{}U&&U(J,ve)}w({global:!0,wrap:!0,forced:ze},{Promise:ae}),B(ae,Ae,!1,!0),Y(Ae),b=A(Ae),w({target:Ae,stat:!0,forced:ze},{reject:function(ne){var je=Xe(this);return P(je.reject,void 0,ne),je.promise}}),w({target:Ae,stat:!0,forced:_||ze},{resolve:function(ne){return be(_&&this===b?ae:this,ne)}}),w({target:Ae,stat:!0,forced:Fe},{all:function(ne){var je=this,Se=Xe(je),Ne=Se.resolve,Ue=Se.reject,gt=he(function(){var wt=q(je.resolve),Yt=[],Zt=0,ut=1;L(ne,function(Me){var Ve=Zt++,Ze=!1;ut++,P(wt,je,Me).then(function(nt){Ze||(Ze=!0,Yt[Ve]=nt,--ut||Ne(Yt))},Ue)}),--ut||Ne(Yt)});return gt.error&&Ue(gt.value),Se.promise},race:function(ne){var je=this,Se=Xe(je),Ne=Se.reject,Ue=he(function(){var gt=q(je.resolve);L(ne,function(wt){P(gt,je,wt).then(Se.resolve,Ne)})});return Ue.error&&Ne(Ue.value),Se.promise}})},function(c,p,a){var f=a(7);c.exports=f.Promise},function(c,p,a){var f,l,b,O,w,_,S,A,P=a(7),M=a(62),R=a(51).f,F=a(161).set,U=a(162),B=a(207),Y=a(208),q=a(126),V=P.MutationObserver||P.WebKitMutationObserver,C=P.document,z=P.process,k=P.Promise,L=R(P,"queueMicrotask"),H=L&&L.value;H||(f=function(){var ee,K;for(q&&(ee=z.domain)&&ee.exit();l;){K=l.fn,l=l.next;try{K()}catch(ue){throw l?O():b=void 0,ue}}b=void 0,ee&&ee.enter()},U||q||Y||!V||!C?!B&&k&&k.resolve?((S=k.resolve(void 0)).constructor=k,A=M(S.then,S),O=function(){A(f)}):q?O=function(){z.nextTick(f)}:(F=M(F,P),O=function(){F(f)}):(w=!0,_=C.createTextNode(""),new V(f).observe(_,{characterData:!0}),O=function(){_.data=w=!w})),c.exports=H||function(ee){var K={fn:ee,next:void 0};b&&(b.next=K),l||(l=K,O()),b=K}},function(c,p,a){var f=a(53),l=a(7);c.exports=/ipad|iphone|ipod/i.test(f)&&l.Pebble!==void 0},function(c,p,a){var f=a(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,a){var f=a(32),l=a(33),b=a(163);c.exports=function(O,w){if(f(O),l(w)&&w.constructor===O)return w;var _=b.f(O);return(0,_.resolve)(w),_.promise}},function(c,p,a){var f=a(7);c.exports=function(l,b){var O=f.console;O&&O.error&&(arguments.length==1?O.error(l):O.error(l,b))}},function(c,p){c.exports=function(a){try{return{error:!1,value:a()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,a){var f=a(36),l=a(15),b=a(66),O=a(39),w=l(a(92).f),_=l([].push),S=function(A){return function(P){for(var M,R=O(P),F=b(R),U=F.length,B=0,Y=[];U>B;)M=F[B++],f&&!w(R,M)||_(Y,A?[M,R[M]]:R[M]);return Y}};c.exports={entries:S(!0),values:S(!1)}},function(c,p,a){var f=a(38),l=a(67),b=a(43);c.exports=function(O){for(var w=f(this),_=b(w),S=arguments.length,A=l(S>1?arguments[1]:void 0,_),P=S>2?arguments[2]:void 0,M=P===void 0?_:l(P,_);M>A;)w[A++]=O;return w}},function(c,p,a){a.r(p),a.d(p,"observer",function(){return Bn}),a.d(p,"LogicFlow",function(){return Kc}),a.d(p,"h",function(){return $.g}),a.d(p,"LogicFlowUtil",function(){return f}),a.d(p,"BaseNode",function(){return yr}),a.d(p,"RectNode",function(){return fc}),a.d(p,"CircleNode",function(){return dc}),a.d(p,"PolygonNode",function(){return yc}),a.d(p,"DiamondNode",function(){return gc}),a.d(p,"EllipseNode",function(){return mc}),a.d(p,"TextNode",function(){return _c}),a.d(p,"HtmlNode",function(){return xc}),a.d(p,"BaseEdge",function(){return bi}),a.d(p,"LineEdge",function(){return Mc}),a.d(p,"PolylineEdge",function(){return Ic}),a.d(p,"BezierEdge",function(){return Bc}),a.d(p,"Arrow",function(){return Wh}),a.d(p,"BaseEdgeModel",function(){return Eu}),a.d(p,"BezierEdgeModel",function(){return Ku}),a.d(p,"LineEdgeModel",function(){return Su}),a.d(p,"PolylineEdgeModel",function(){return Au}),a.d(p,"BaseNodeModel",function(){return dr}),a.d(p,"CircleNodeModel",function(){return qu}),a.d(p,"DiamondNodeModel",function(){return Ju}),a.d(p,"EllipseNodeModel",function(){return Qu}),a.d(p,"PolygonNodeModel",function(){return tc}),a.d(p,"RectNodeModel",function(){return nc}),a.d(p,"TextNodeModel",function(){return rc}),a.d(p,"HtmlNodeModel",function(){return ic}),a.d(p,"EditConfigModel",function(){return Cs}),a.d(p,"GraphModel",function(){return Ef}),a.d(p,"SnaplineModel",function(){return qd}),a.d(p,"Keyboard",function(){return Ly}),a.d(p,"get",function(){return bp}),a.d(p,"defaults",function(){return Op});var f={};a.r(f),a.d(f,"createUuid",function(){return $r}),a.d(f,"refreshGraphId",function(){return fb}),a.d(f,"createDrag",function(){return Cu}),a.d(f,"StepDrag",function(){return Zr});var l=a(0),b=a(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var O=a(42),w=Object(O.b)("observerBatching");function _(e){e()}var S=!1;function A(){return S}function P(e){return Object(l.t)(e)}var M,R=1e4,F=new Set;function U(){M===void 0&&(M=setTimeout(B,1e4))}function B(){M=void 0;var e=Date.now();F.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,F.delete(t))}),F.size>0&&U()}var Y=!1,q=[],V={};function C(e){return"observer"+e}function z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=V),A();var r,i=function(m){return function(){Y?q.push(m):m()}}((n.useForceUpdate||O.d)()),o=b.d.useRef(null);if(!o.current){var u=new l.c(C(t),function(){s.mounted?i():(u.dispose(),o.current=null)}),s=function(m){return{cleanAt:Date.now()+R,reaction:m}}(u);o.current=s,r=o,F.add(r),U()}var d=o.current.reaction;return b.d.useDebugValue(d,P),b.d.useEffect(function(){var m;return m=o,F.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new l.c(C(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){Y=!0,q=[];try{var x=m();Y=!1;var j=q.length>0?q:void 0;return b.d.useLayoutEffect(function(){j&&j.forEach(function(T){return T()})},[j]),x}finally{Y=!1}}(function(){var m,x;if(d.track(function(){try{m=e()}catch(j){x=j}}),x)throw x;return m})}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function L(e,t){var n,r,i,o=k({forwardRef:!1},t),u=e.displayName||e.name,s=function(d,m){return z(function(){return e(d,m)},u)};return s.displayName=u,n=o.forwardRef?Object(b.f)(Object(b.e)(s)):Object(b.f)(s),r=e,i=n,Object.keys(r).forEach(function(d){H[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function ee(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:z(r)}function K(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",s=typeof e[o]=="function";return u&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}ee.propTypes={children:K,render:K},ee.displayName="Observer";var ue;(ue=b.g)||(ue=_),Object(l.n)({reactionScheduler:ue}),Object(O.a)()[w]=!0;var be=0,me={};function de(e){return me[e]||(me[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+be+")";return be++,n}(e)),me[e]}function he(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!pe(e[n[i]],t[n[i]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _e=de("patchMixins"),xe=de("patchedDefinition");function ke(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(s){s.apply(n,i)})}}function Re(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];ke.call.apply(ke,[this,e,t].concat(r))}}function Ge(e,t,n){var r=function(s,d){var m=s[_e]=s[_e]||{},x=m[d]=m[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[xe]){var o=e[t],u=function s(d,m,x,j,T){var I,W=Re(T,j);return(I={})[xe]=!0,I.get=function(){return W},I.set=function(Q){if(this===d)W=Re(Q,j);else{var ie=s(this,m,x,j,Q);Object.defineProperty(this,m,ie)}},I.configurable=!0,I.enumerable=x,I}(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Ae=l.a||"$mobx",Ye=de("isMobXReactObserver"),st=de("isUnmounted"),Z=de("skipRender"),J=de("isForcingUpdate");function ae(e){var t=e.prototype;if(e[Ye]){var n=ve(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ye]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return Te.call(this,r)},Ge(t,"componentWillUnmount",function(){var i;if((i=this.render[Ae])===null||i===void 0||i.dispose(),this[st]=!0,!this.render[Ae]){var o=ve(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Te(e){var t=this;se(this,Z,!1),se(this,J,!1);var n=ve(this),r=e.bind(this),i=!1,o=new l.c(n+".render()",function(){if(!i&&(i=!0,t[st]!==!0)){var s=!0;try{se(t,J,!0),t[Z]||b.a.prototype.forceUpdate.call(t),s=!1}finally{se(t,J,!1),s&&o.dispose()}}});function u(){i=!1;var s=void 0,d=void 0;if(o.track(function(){try{d=Object(l.d)(!1,r)}catch(m){s=m}}),s)throw s;return d}return o.reactComponent=this,u[Ae]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!he(this.props,e)}function We(e,t){var n=de("reactProp_"+t+"_valueHolder"),r=de("reactProp_"+t+"_atomHolder");function i(){return this[r]||se(this,r,Object(l.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return l.f&&l.e&&(o=Object(l.f)(!0)),i.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(o),this[n]},set:function(o){this[J]||he(this[n],o)?se(this,n,o):(se(this,n,o),se(this,Z,!0),i.call(this).reportChanged(),se(this,Z,!1))}})}var Xe=typeof Symbol=="function"&&Symbol.for,et=Xe?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,qe=Xe?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function ye(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),qe&&e.$$typeof===qe)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(et&&e.$$typeof===et){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(ee,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?ae(e):L(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var $=a(1);a(3),a(60),a(2),a(6),a(4),a(11),a(41),a(24),a(20),a(5),a(22),a(21),a(23),a(8),a(9),a(17),a(25),a(19),a(29),a(186),a(191),a(102),a(152),a(153);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Fe=function(){this.__data__=[],this.size=0},Ke=function(e,t){return e===t||e!=e&&t!=t},At=function(e,t){for(var n=e.length;n--;)if(Ke(e[n][0],t))return n;return-1},at=Array.prototype.splice,lt=function(e){var t=this.__data__,n=At(t,e);return!(n<0)&&(n==t.length-1?t.pop():at.call(t,n,1),--this.size,!0)},yt=function(e){var t=this.__data__,n=At(t,e);return n<0?void 0:t[n][1]},Rt=function(e){return At(this.__data__,e)>-1},G=function(e,t){var n=this.__data__,r=At(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function te(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}te.prototype.clear=Fe,te.prototype.delete=lt,te.prototype.get=yt,te.prototype.has=Rt,te.prototype.set=G;var fe=te,ne=function(){this.__data__=new fe,this.size=0},je=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se=function(e){return this.__data__.get(e)},Ne=function(e){return this.__data__.has(e)},Ue=a(30),gt=Ue.a.Symbol,wt=Object.prototype,Yt=wt.hasOwnProperty,Zt=wt.toString,ut=gt?gt.toStringTag:void 0,Me=function(e){var t=Yt.call(e,ut),n=e[ut];try{e[ut]=void 0;var r=!0}catch{}var i=Zt.call(e);return r&&(t?e[ut]=n:delete e[ut]),i},Ve=Object.prototype.toString,Ze=function(e){return Ve.call(e)},nt=gt?gt.toStringTag:void 0,xt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":nt&&nt in Object(e)?Me(e):Ze(e)},Nt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Jt,zo=function(e){if(!Nt(e))return!1;var t=xt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Fn=Ue.a["__core-js_shared__"],ir=(Jt=/[^.]+$/.exec(Fn&&Fn.keys&&Fn.keys.IE_PROTO||""))?"Symbol(src)_1."+Jt:"",co=function(e){return!!ir&&ir in e},Wa=Function.prototype.toString,Pn=function(e){if(e!=null){try{return Wa.call(e)}catch{}try{return e+""}catch{}}return""},so=/^\[object .+?Constructor\]$/,Ti=Function.prototype,Le=Object.prototype,Ka=Ti.toString,Ni=Le.hasOwnProperty,Di=RegExp("^"+Ka.call(Ni).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=function(e){return!(!Nt(e)||co(e))&&(zo(e)?Di:so).test(Pn(e))},hn=function(e,t){return e==null?void 0:e[t]},Hn=function(e,t){var n=hn(e,t);return dn(n)?n:void 0},_r=Hn(Ue.a,"Map"),An=Hn(Object,"create"),Bo=function(){this.__data__=An?An(null):{},this.size=0},Mi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$a=Object.prototype.hasOwnProperty,lo=function(e){var t=this.__data__;if(An){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return $a.call(t,e)?t[e]:void 0},qa=Object.prototype.hasOwnProperty,Ci=function(e){var t=this.__data__;return An?t[e]!==void 0:qa.call(t,e)},Za=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===void 0?"__lodash_hash_undefined__":t,this};function ar(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ar.prototype.clear=Bo,ar.prototype.delete=Mi,ar.prototype.get=lo,ar.prototype.has=Ci,ar.prototype.set=Za;var Ri=ar,Un=function(){this.size=0,this.__data__={hash:new Ri,map:new(_r||fe),string:new Ri}},Ja=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},fo=function(e,t){var n=e.__data__;return Ja(t)?n[typeof t=="string"?"string":"hash"]:n.map},Fo=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Ho=function(e){return fo(this,e).get(e)},Qa=function(e){return fo(this,e).has(e)},Ii=function(e,t){var n=fo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function wr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wr.prototype.clear=Un,wr.prototype.delete=Fo,wr.prototype.get=Ho,wr.prototype.has=Qa,wr.prototype.set=Ii;var xr=wr,Li=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!_r||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xr(r)}return n.set(e,t),this.size=n.size,this};function Er(e){var t=this.__data__=new fe(e);this.size=t.size}Er.prototype.clear=ne,Er.prototype.delete=je,Er.prototype.get=Se,Er.prototype.has=Ne,Er.prototype.set=Li;var Gn=Er,zi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Bi=function(e){return this.__data__.has(e)};function Lr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xr;++t<n;)this.add(e[t])}Lr.prototype.add=Lr.prototype.push=zi,Lr.prototype.has=Bi;var Fi=Lr,eu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Hi=function(e,t){return e.has(t)},Ui=function(e,t,n,r,i,o){var u=1&n,s=e.length,d=t.length;if(s!=d&&!(u&&d>s))return!1;var m=o.get(e),x=o.get(t);if(m&&x)return m==t&&x==e;var j=-1,T=!0,I=2&n?new Fi:void 0;for(o.set(e,t),o.set(t,e);++j<s;){var W=e[j],Q=t[j];if(r)var ie=u?r(Q,W,j,t,e,o):r(W,Q,j,e,t,o);if(ie!==void 0){if(ie)continue;T=!1;break}if(I){if(!eu(t,function(oe,ce){if(!Hi(I,ce)&&(W===oe||i(W,oe,n,r,o)))return I.push(ce)})){T=!1;break}}else if(W!==Q&&!i(W,Q,n,r,o)){T=!1;break}}return o.delete(e),o.delete(t),T},zr=Ue.a.Uint8Array,Gi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},tu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Xi=gt?gt.prototype:void 0,Uo=Xi?Xi.valueOf:void 0,Br=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new zr(e),new zr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Gi;case"[object Set]":var d=1&r;if(s||(s=tu),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var x=Ui(s(e),s(t),r,i,o,u);return u.delete(e),x;case"[object Symbol]":if(Uo)return Uo.call(e)==Uo.call(t)}return!1},Xn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ut=Array.isArray,Vi=function(e,t,n){var r=t(e);return Ut(e)?r:Xn(r,n(e))},nu=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Yi=function(){return[]},jr=Object.prototype.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,Go=Wi?function(e){return e==null?[]:(e=Object(e),nu(Wi(e),function(t){return jr.call(e,t)}))}:Yi,On=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_n=function(e){return e!=null&&typeof e=="object"},Xo=function(e){return _n(e)&&xt(e)=="[object Arguments]"},Ki=Object.prototype,po=Ki.hasOwnProperty,ho=Ki.propertyIsEnumerable,Fr=Xo(function(){return arguments}())?Xo:function(e){return _n(e)&&po.call(e,"callee")&&!ho.call(e,"callee")},Hr=a(48),wn=/^(?:0|[1-9]\d*)$/,Vn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&wn.test(e))&&e>-1&&e%1==0&&e<t},cn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var Ur=function(e){return _n(e)&&cn(e.length)&&!!ft[xt(e)]},Qt=function(e){return function(t){return e(t)}},Sr=a(49),$i=Sr.a&&Sr.a.isTypedArray,yo=$i?Qt($i):Ur,kn=Object.prototype.hasOwnProperty,Vo=function(e,t){var n=Ut(e),r=!n&&Fr(e),i=!n&&!r&&Object(Hr.a)(e),o=!n&&!r&&!i&&yo(e),u=n||r||i||o,s=u?On(e.length,String):[],d=s.length;for(var m in e)!t&&!kn.call(e,m)||u&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Vn(m,d))||s.push(m);return s},ru=Object.prototype,sn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||ru)},Yo=function(e,t){return function(n){return e(t(n))}},ou=Yo(Object.keys,Object),Wo=Object.prototype.hasOwnProperty,en=function(e){if(!sn(e))return ou(e);var t=[];for(var n in Object(e))Wo.call(e,n)&&n!="constructor"&&t.push(n);return t},ur=function(e){return e!=null&&cn(e.length)&&!zo(e)},cr=function(e){return ur(e)?Vo(e):en(e)},Wt=function(e){return Vi(e,cr,Go)},qi=Object.prototype.hasOwnProperty,Ko=function(e,t,n,r,i,o){var u=1&n,s=Wt(e),d=s.length;if(d!=Wt(t).length&&!u)return!1;for(var m=d;m--;){var x=s[m];if(!(u?x in t:qi.call(t,x)))return!1}var j=o.get(e),T=o.get(t);if(j&&T)return j==t&&T==e;var I=!0;o.set(e,t),o.set(t,e);for(var W=u;++m<d;){var Q=e[x=s[m]],ie=t[x];if(r)var oe=u?r(ie,Q,x,t,e,o):r(Q,ie,x,e,t,o);if(!(oe===void 0?Q===ie||i(Q,ie,n,r,o):oe)){I=!1;break}W||(W=x=="constructor")}if(I&&!W){var ce=e.constructor,ge=t.constructor;ce==ge||!("constructor"in e)||!("constructor"in t)||typeof ce=="function"&&ce instanceof ce&&typeof ge=="function"&&ge instanceof ge||(I=!1)}return o.delete(e),o.delete(t),I},vo=Hn(Ue.a,"DataView"),go=Hn(Ue.a,"Promise"),bo=Hn(Ue.a,"Set"),$o=Hn(Ue.a,"WeakMap"),yn=Pn(vo),xn=Pn(_r),Gr=Pn(go),Zi=Pn(bo),qo=Pn($o),Yn=xt;(vo&&Yn(new vo(new ArrayBuffer(1)))!="[object DataView]"||_r&&Yn(new _r)!="[object Map]"||go&&Yn(go.resolve())!="[object Promise]"||bo&&Yn(new bo)!="[object Set]"||$o&&Yn(new $o)!="[object WeakMap]")&&(Yn=function(e){var t=xt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Pn(n):"";if(r)switch(r){case yn:return"[object DataView]";case xn:return"[object Map]";case Gr:return"[object Promise]";case Zi:return"[object Set]";case qo:return"[object WeakMap]"}return t});var Xr=Yn,Vr=Object.prototype.hasOwnProperty,iu=function(e,t,n,r,i,o){var u=Ut(e),s=Ut(t),d=u?"[object Array]":Xr(e),m=s?"[object Array]":Xr(t),x=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",j=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",T=d==m;if(T&&Object(Hr.a)(e)){if(!Object(Hr.a)(t))return!1;u=!0,x=!1}if(T&&!x)return o||(o=new Gn),u||yo(e)?Ui(e,t,n,r,i,o):Br(e,t,d,n,r,i,o);if(!(1&n)){var I=x&&Vr.call(e,"__wrapped__"),W=j&&Vr.call(t,"__wrapped__");if(I||W){var Q=I?e.value():e,ie=W?t.value():t;return o||(o=new Gn),i(Q,ie,n,r,o)}}return!!T&&(o||(o=new Gn),Ko(e,t,n,r,i,o))},v=function e(t,n,r,i,o){return t===n||(t==null||n==null||!_n(t)&&!_n(n)?t!=t&&n!=n:iu(t,n,r,i,e,o))},g=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var d=(s=n[i])[0],m=e[d],x=s[1];if(u&&s[2]){if(m===void 0&&!(d in e))return!1}else{var j=new Gn;if(r)var T=r(m,x,d,e,t,j);if(!(T===void 0?v(x,m,3,r,j):T))return!1}}return!0},E=function(e){return e==e&&!Nt(e)},N=function(e){for(var t=cr(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,E(i)]}return t},D=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},X=function(e){var t=N(e);return t.length==1&&t[0][2]?D(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},re=function(e){return typeof e=="symbol"||_n(e)&&xt(e)=="[object Symbol]"},Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,it=function(e,t){if(Ut(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!re(e))||Ce.test(e)||!Oe.test(e)||t!=null&&e in Object(t)};function rt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(rt.Cache||xr),n}rt.Cache=xr;var Et=rt,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,Pt=function(e){var t=Et(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(n,r,i,o){t.push(i?o.replace(vt,"$1"):r||n)}),t}),jt=gt?gt.prototype:void 0,mt=jt?jt.toString:void 0,Tn=function e(t){if(typeof t=="string")return t;if(Ut(t))return ze(t,e)+"";if(re(t))return mt?mt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},au=function(e){return e==null?"":Tn(e)},Yr=function(e,t){return Ut(e)?e:it(e,t)?[e]:Pt(au(e))},Pr=function(e){if(typeof e=="string"||re(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Wr=function(e,t){for(var n=0,r=(t=Yr(t,e)).length;e!=null&&n<r;)e=e[Pr(t[n++])];return n&&n==r?e:void 0},Zo=function(e,t,n){var r=e==null?void 0:Wr(e,t);return r===void 0?n:r},tn=function(e,t){return e!=null&&t in Object(e)},Ji=function(e,t,n){for(var r=-1,i=(t=Yr(t,e)).length,o=!1;++r<i;){var u=Pr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&cn(i)&&Vn(u,i)&&(Ut(e)||Fr(e))},Jo=function(e,t){return e!=null&&Ji(e,t,tn)},tg=function(e,t){return it(e)&&E(t)?D(Pr(e),t):function(n){var r=Zo(n,e);return r===void 0&&r===t?Jo(n,e):v(t,r,3)}},uu=function(e){return e},ng=function(e){return function(t){return t==null?void 0:t[e]}},rg=function(e){return function(t){return Wr(t,e)}},og=function(e){return it(e)?ng(Pr(e)):rg(e)},ig=function(e){return typeof e=="function"?e:e==null?uu:typeof e=="object"?Ut(e)?tg(e[0],e[1]):X(e):og(e)},ls=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),s=u.length;s--;){var d=u[e?s:++i];if(n(o[d],d,o)===!1)break}return t}}(),ag=function(e,t){return function(n,r){if(n==null)return n;if(!ur(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ls(e,t,cr)}),ug=function(e,t){var n=-1,r=ur(e)?Array(e.length):[];return ag(e,function(i,o,u){r[++n]=t(i,o,u)}),r},Qi=function(e,t){return(Ut(e)?ze:ug)(e,ig(t))},ea=function(){try{var e=Hn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cu=function(e,t,n){t=="__proto__"&&ea?ea(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},cg=Object.prototype.hasOwnProperty,ta=function(e,t,n){var r=e[t];cg.call(e,t)&&Ke(r,n)&&(n!==void 0||t in e)||cu(e,t,n)},mo=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],d=r?r(n[s],e[s],s,n,e):void 0;d===void 0&&(d=e[s]),i?cu(n,s,d):ta(n,s,d)}return n},sg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},fs=Math.max,ps=function(e,t,n){return t=fs(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=fs(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(u),sg(e,this,s)}},lg=function(e){return function(){return e}},fg=ea?function(e,t){return ea(e,"toString",{configurable:!0,enumerable:!1,value:lg(t),writable:!0})}:uu,pg=Date.now,ds=function(e){var t=0,n=0;return function(){var r=pg(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fg),dg=function(e,t){return ds(ps(e,t,uu),e+"")},hg=function(e,t,n){if(!Nt(n))return!1;var r=typeof t;return!!(r=="number"?ur(n)&&Vn(t,n.length):r=="string"&&t in n)&&Ke(n[t],e)},hs=function(e){return dg(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&hg(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})},yg=Object.prototype.hasOwnProperty,nn=hs(function(e,t){if(sn(t)||ur(t))mo(t,cr(t),e);else for(var n in t)yg.call(t,n)&&ta(e,n,t[n])}),vg=function(e,t,n,r){if(!Nt(e))return e;for(var i=-1,o=(t=Yr(t,e)).length,u=o-1,s=e;s!=null&&++i<o;){var d=Pr(t[i]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var x=s[d];(m=r?r(x,d,s):void 0)===void 0&&(m=Nt(x)?x:Vn(t[i+1])?[]:{})}ta(s,d,m),s=s[d]}return e},gg=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],s=Wr(e,u);n(s,u)&&vg(o,Yr(u,e),s)}return o},bg=function(e,t){return gg(e,t,function(n,r){return Jo(e,r)})},ys=gt?gt.isConcatSpreadable:void 0,mg=function(e){return Ut(e)||Fr(e)||!!(ys&&e&&e[ys])},Og=function e(t,n,r,i,o){var u=-1,s=t.length;for(r||(r=mg),o||(o=[]);++u<s;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):Xn(o,d):i||(o[o.length]=d)}return o},_g=function(e){return(e==null?0:e.length)?Og(e,1):[]},It,vs,gs,bs,ms,Os,_s,ws,xs,Es,js,Ss,Ps,As,ks,Ts,Ns,Qo=function(e){return ds(ps(e,void 0,_g),e+"")}(function(e,t){return e==null?{}:bg(e,t)});function Kt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var St,Ms,pt,Ft,tt,Tt,xg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},su=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Cs=(vs=Gt((It=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Kt(this,"isSilentMode",vs,this),Kt(this,"stopZoomGraph",gs,this),Kt(this,"stopScrollGraph",bs,this),Kt(this,"stopMoveGraph",ms,this),Kt(this,"adjustEdge",Os,this),Kt(this,"adjustEdgeMiddle",_s,this),Kt(this,"adjustEdgeStartAndEnd",ws,this),Kt(this,"adjustNodePosition",xs,this),Kt(this,"hideAnchors",Es,this),Kt(this,"hoverOutline",js,this),Kt(this,"nodeSelectedOutline",Ss,this),Kt(this,"edgeSelectedOutline",Ps,this),Kt(this,"nodeTextEdit",As,this),Kt(this,"edgeTextEdit",ks,this),Kt(this,"nodeTextDraggable",Ts,this),Kt(this,"edgeTextDraggable",Ns,this),Ds(this,"multipleSelectKey",""),Ds(this,"defaultConfig",{}),nn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);nn(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&nn(u,this.defaultConfig),i===!0){var s=Qo(xg,su);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},nn(u,s)}o===!1&&nn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Qo(r,su);return nn(u,d)}},{key:"getConfig",value:function(){return Qo(this,su)}}])&&wg(t.prototype,n),e}()).prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Gt(It.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Gt(It.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Gt(It.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Gt(It.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Gt(It.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Gt(It.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=Gt(It.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Es=Gt(It.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Gt(It.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Gt(It.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Gt(It.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Gt(It.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Gt(It.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ts=Gt(It.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ns=Gt(It.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gt(It.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);a(103),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ms||(Ms={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(pt||(pt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ft||(Ft={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(tt||(tt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Tt||(Tt={}));var vn,Lt,Rs,Is,Ls,zs,Bs,Fs,Hs;function na(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Us(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Us(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(vn||(vn={}));var jg=(Rs=Nn((Lt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),lu(this,"MINI_SCALE_SIZE",.2),lu(this,"MAX_SCALE_SIZE",16),Kr(this,"SCALE_X",Rs,this),Kr(this,"SKEW_Y",Is,this),Kr(this,"SKEW_X",Ls,this),Kr(this,"SCALE_Y",zs,this),Kr(this,"TRANSLATE_X",Bs,this),Kr(this,"TRANSLATE_Y",Fs,this),Kr(this,"ZOOM_SIZE",Hs,this),lu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=na(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=na(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=na(r,2),s=u[0],d=u[1];return[s+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(tt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var s=na(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-s[0],m=u/2-s[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&Eg(t.prototype,n),e}()).prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Is=Nn(Lt.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=Nn(Lt.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zs=Nn(Lt.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bs=Nn(Lt.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=Nn(Lt.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=Nn(Lt.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Nn(Lt.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Nn(Lt.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Nn(Lt.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Nn(Lt.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt),Sg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Pg=function(e,t){return e&&mo(t,cr(t),e)},Ag=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},kg=Object.prototype.hasOwnProperty,Tg=function(e){if(!Nt(e))return Ag(e);var t=sn(e),n=[];for(var r in e)(r!="constructor"||!t&&kg.call(e,r))&&n.push(r);return n},ei=function(e){return ur(e)?Vo(e,!0):Tg(e)},Ng=function(e,t){return e&&mo(t,ei(t),e)},Gs=a(106),Xs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Dg=function(e,t){return mo(e,Go(e),t)},fu=Yo(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xn(t,Go(e)),e=fu(e);return t}:Yi,Mg=function(e,t){return mo(e,Vs(e),t)},Cg=function(e){return Vi(e,ei,Vs)},Rg=Object.prototype.hasOwnProperty,Ig=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Rg.call(e,"index")&&(n.index=e.index,n.input=e.input),n},pu=function(e){var t=new e.constructor(e.byteLength);return new zr(t).set(new zr(e)),t},Lg=function(e,t){var n=t?pu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},zg=/\w*$/,Bg=function(e){var t=new e.constructor(e.source,zg.exec(e));return t.lastIndex=e.lastIndex,t},Ys=gt?gt.prototype:void 0,Ws=Ys?Ys.valueOf:void 0,Fg=function(e){return Ws?Object(Ws.call(e)):{}},Ks=function(e,t){var n=t?pu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Hg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Lg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ks(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Bg(e);case"[object Set]":return new r;case"[object Symbol]":return Fg(e)}},$s=Object.create,Ug=function(){function e(){}return function(t){if(!Nt(t))return{};if($s)return $s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qs=function(e){return typeof e.constructor!="function"||sn(e)?{}:Ug(fu(e))},Gg=function(e){return _n(e)&&Xr(e)=="[object Map]"},Zs=Sr.a&&Sr.a.isMap,Xg=Zs?Qt(Zs):Gg,Vg=function(e){return _n(e)&&Xr(e)=="[object Set]"},Js=Sr.a&&Sr.a.isSet,Yg=Js?Qt(Js):Vg,kt={};kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object DataView]"]=kt["[object Boolean]"]=kt["[object Date]"]=kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object Symbol]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Error]"]=kt["[object Function]"]=kt["[object WeakMap]"]=!1;var Wg=function e(t,n,r,i,o,u){var s,d=1&n,m=2&n,x=4&n;if(r&&(s=o?r(t,i,o,u):r(t)),s!==void 0)return s;if(!Nt(t))return t;var j=Ut(t);if(j){if(s=Ig(t),!d)return Xs(t,s)}else{var T=Xr(t),I=T=="[object Function]"||T=="[object GeneratorFunction]";if(Object(Hr.a)(t))return Object(Gs.a)(t,d);if(T=="[object Object]"||T=="[object Arguments]"||I&&!o){if(s=m||I?{}:qs(t),!d)return m?Mg(t,Ng(s,t)):Dg(t,Pg(s,t))}else{if(!kt[T])return o?t:{};s=Hg(t,T,d)}}u||(u=new Gn);var W=u.get(t);if(W)return W;u.set(t,s),Yg(t)?t.forEach(function(ie){s.add(e(ie,n,r,ie,t,u))}):Xg(t)&&t.forEach(function(ie,oe){s.set(oe,e(ie,n,r,oe,t,u))});var Q=j?void 0:(x?m?Cg:Wt:m?ei:cr)(t);return Sg(Q||t,function(ie,oe){Q&&(ie=t[oe=ie]),ta(s,oe,e(ie,n,r,oe,t,u))}),s},Dt=function(e){return Wg(e,5)},du=function(e,t,n){(n!==void 0&&!Ke(e[t],n)||n===void 0&&!(t in e))&&cu(e,t,n)},Kg=function(e){return _n(e)&&ur(e)},$g=Function.prototype,qg=Object.prototype,Qs=$g.toString,Zg=qg.hasOwnProperty,Jg=Qs.call(Object),Qg=function(e){if(!_n(e)||xt(e)!="[object Object]")return!1;var t=fu(e);if(t===null)return!0;var n=Zg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qs.call(n)==Jg},hu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},eb=function(e){return mo(e,ei(e))},tb=function(e,t,n,r,i,o,u){var s=hu(e,n),d=hu(t,n),m=u.get(d);if(m)du(e,n,m);else{var x=o?o(s,d,n+"",e,t,u):void 0,j=x===void 0;if(j){var T=Ut(d),I=!T&&Object(Hr.a)(d),W=!T&&!I&&yo(d);x=d,T||I||W?Ut(s)?x=s:Kg(s)?x=Xs(s):I?(j=!1,x=Object(Gs.a)(d,!0)):W?(j=!1,x=Ks(d,!0)):x=[]:Qg(d)||Fr(d)?(x=s,Fr(s)?x=eb(s):Nt(s)&&!zo(s)||(x=qs(d))):j=!1}j&&(u.set(d,x),i(x,d,r,o,u),u.delete(d)),du(e,n,x)}},nb=function e(t,n,r,i,o){t!==n&&ls(n,function(u,s){if(o||(o=new Gn),Nt(u))tb(t,n,s,r,e,i,o);else{var d=i?i(hu(t,s),u,s+"",t,n,o):void 0;d===void 0&&(d=u),du(t,s,d)}},ei)},el=hs(function(e,t,n){nb(e,t,n)}),rb={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},tl=function(e){var t=Dt(rb);return e&&(t=el(t,e)),t};a(77),a(194);function ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ib=function(){function e(){var r,i,o;(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(s){s=s.trim(),u._events[s]||(u._events[s]=[]),u._events[s].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var s=o._events[u]||[],d=o._events["*"]||[],m=function(x){for(var j=x.length,T=0;T<j;T++)if(x[T]){var I=x[T],W=I.callback;I.once&&(x.splice(T,1),x.length===0&&delete o._events[u],j--,T--),W.apply(o,[i])}};m(s),m(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var s=o._events[u]||[],d=s.length,m=0;m<d;m++)s[m].callback===i&&(s.splice(m,1),d--,m--);s.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&ob(t.prototype,n),e}();function Oo(e,t){return t*Math.round(e/t)||e}function nl(e,t){return e%t}function yu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return rl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vu,gu=function(e,t,n){var r=yu(e,2),i=r[0],o=r[1],u=yu(t,2),s=u[0],d=u[1],m=yu(n,2),x=m[0],j=m[1];return i>s&&i<x&&o>d&&o<j},ol=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},ab=(a(78),a(160),a(125),a(79),a(12),a(13),a(14),a(47),a(31),new Uint8Array(16));function ub(){if(!vu&&!(vu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vu(ab)}for(var cb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sb=function(e){return typeof e=="string"&&cb.test(e)},Xt=[],bu=0;bu<256;++bu)Xt.push((bu+256).toString(16).substr(1));var lb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Xt[e[t+0]]+Xt[e[t+1]]+Xt[e[t+2]]+Xt[e[t+3]]+"-"+Xt[e[t+4]]+Xt[e[t+5]]+"-"+Xt[e[t+6]]+Xt[e[t+7]]+"-"+Xt[e[t+8]]+Xt[e[t+9]]+"-"+Xt[e[t+10]]+Xt[e[t+11]]+Xt[e[t+12]]+Xt[e[t+13]]+Xt[e[t+14]]+Xt[e[t+15]]).toLowerCase();if(!sb(n))throw TypeError("Stringified UUID is invalid");return n},mu=function(e,t,n){var r=(e=e||{}).random||(e.rng||ub)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return lb(r)},$r=function(){return mu()},fb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+mu(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+mu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},ti=(a(104),a(203),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function il(e){return(il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?al(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,Ol,_l,wl,xl,Ou=function(e){return e.anchors},ra=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(yb(e,o)){var u=hb(e,o);if(u){var s={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!db(o,n.node,t)||(n=s)}}}return n},db=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},hb=function(e,t){for(var n,r=Ou(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Wn(e.x,e.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:ul(ul({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Wn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Ar=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},yb=function(e,t){var n=!1,r=gn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},gn=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},El=function(e,t,n){var r,i=function(u){var s=u,d=s.x,m=s.y,x=s.width,j=s.height,T=s.radius;return[{x:d-x/2+T,y:m-j/2+T,r:T},{x:d+x/2-T,y:m-j/2+T,r:T},{x:d-x/2+T,y:m+j/2-T,r:T},{x:d+x/2-T,y:m+j/2-T,r:T}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var s=Wn(e.x,e.y,u.x,u.y);s<o&&(o=s,r=u)}),_u(e,t,r)},_u=function(e,t,n){var r,i=n,o=i.x,u=i.y,s=i.r;if(t===Tt.HORIZONTAL){var d=o-Math.sqrt(s*s-(e.y-u)*(e.y-u)),m=o+Math.sqrt(s*s-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===Tt.VERTICAL){var x=u-Math.sqrt(s*s-(e.x-o)*(e.x-o)),j=u+Math.sqrt(s*s-(e.x-o)*(e.x-o)),T=Math.abs(x-e.y)<Math.abs(j-e.y)?x:j;r={x:e.x,y:T}}return r},jl=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,d=n.x,m=n.y,x=n.width,j=n.height;return e.y===m+j/2||e.y===m-j/2?r=e.x>i&&e.x<o:e.x!==d+x/2&&e.x!==d-x/2||(r=e.y>u&&e.y<s),r},Sl=function(e,t,n){var r,i=n,o=i.x,u=i.y,s=i.rx,d=i.ry;if(t===Tt.HORIZONTAL){var m=o-Math.sqrt(s*s-(e.y-u)*(e.y-u)*s*s/(d*d)),x=o+Math.sqrt(s*s-(e.y-u)*(e.y-u)*s*s/(d*d));r={x:Math.abs(m-e.x)<Math.abs(x-e.x)?m:x,y:e.y}}else if(t===Tt.VERTICAL){var j=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(s*s)),T=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(s*s)),I=Math.abs(j-e.y)<Math.abs(T-e.y)?j:T;r={x:e.x,y:I}}return r},Pl=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],s=0;s<i.length;s++)u.push({start:i[s],end:i[(s+1)%i.length]});return u.forEach(function(d){var m=d.start,x=d.end,j=m,T=x;m.x>x.x&&(j=x,T=m);var I={x:e.x,y:e.y};if(j.x===T.x&&t===Tt.HORIZONTAL&&(I={x:j.x,y:e.y}),j.y===T.y&&t===Tt.VERTICAL&&(I={x:e.x,y:j.y}),j.x!==T.x&&j.y!==T.y){var W=(T.y-j.y)/(T.x-j.x),Q=(j.x*T.y-T.x*j.y)/(j.x-T.x);t===Tt.HORIZONTAL?I={x:(e.y-Q)/W,y:e.y}:t===Tt.VERTICAL&&(I={x:e.x,y:W*e.x+Q})}if(ti(I,m,x)){var ie=Wn(I.x,I.y,e.x,e.y);ie<o&&(o=ie,r=I)}}),r},Al=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},kl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(s){var d=document.createElement("div");d.textContent=s,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},wu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=rf(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},oa=function(e){return il(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Tl={node:!1,edge:!1},vb={node:!0,edge:!0},gb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Kn=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},bb=1e3,mb=999,xu=function(){return++bb};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){Dn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $t(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Eu=(cl=ct((Pe=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Dn(this,"id",$r()),$t(this,"type",cl,this),$t(this,"sourceNodeId",sl,this),$t(this,"targetNodeId",ll,this),$t(this,"startPoint",fl,this),$t(this,"endPoint",pl,this),$t(this,"text",dl,this),$t(this,"properties",hl,this),$t(this,"points",yl,this),$t(this,"pointsList",vl,this),$t(this,"isSelected",gl,this),$t(this,"isHovered",bl,this),$t(this,"isHitable",ml,this),$t(this,"draggable",Ol,this),$t(this,"visible",_l,this),Dn(this,"graphModel",void 0),$t(this,"zIndex",wl,this),Dn(this,"BaseType",Ft.EDGE),Dn(this,"modelType",pt.EDGE),$t(this,"state",xl,this),Dn(this,"additionStateData",void 0),Dn(this,"sourceAnchorId",""),Dn(this,"targetAnchorId",""),Dn(this,"menu",void 0),Dn(this,"customTextPosition",!1),Dn(this,"animationData",gb),this.graphModel=i,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}nn(this,zb(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||xu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Dt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return Ou(r).forEach(function(s){var d=uf(s,i);u?d<u&&(u=d,o=s):(u=d,o=s)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return Ou(r).forEach(function(s){var d=uf(s,u.startPoint);o?d<o&&(o=d,i=s):(o=d,i=s)}),i}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return u&&(s.text={x:i,y:o,value:u}),this.graphModel.overlapMode===vn.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,i){this.properties[r]=Kn(i),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ia(ia({},this.properties),Kn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,s=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,draggable:m,x:u+r,y:s+i,editable:x}}}},{key:"setText",value:function(r){r&&nn(this.text,r)}},{key:"updateText",value:function(r){this.text=ia(ia({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,i){this.startPoint.x+=r,this.startPoint.y+=i}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,i){this.endPoint.x+=r,this.endPoint.y+=i}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){nn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&Ob(t.prototype,n),e}()).prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=ct(Pe.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=ct(Pe.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fl=ct(Pe.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=ct(Pe.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=ct(Pe.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),hl=ct(Pe.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yl=ct(Pe.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vl=ct(Pe.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gl=ct(Pe.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=ct(Pe.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=ct(Pe.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=ct(Pe.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=ct(Pe.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wl=ct(Pe.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=ct(Pe.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ct(Pe.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(Pe.prototype,"sourceNode"),Pe.prototype),ct(Pe.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(Pe.prototype,"targetNode"),Pe.prototype),ct(Pe.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(Pe.prototype,"textPosition"),Pe.prototype),ct(Pe.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperty"),Pe.prototype),ct(Pe.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperties"),Pe.prototype),ct(Pe.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"formatText"),Pe.prototype),ct(Pe.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"resetTextPosition"),Pe.prototype),ct(Pe.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveText"),Pe.prototype),ct(Pe.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setText"),Pe.prototype),ct(Pe.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateText"),Pe.prototype),ct(Pe.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setAnchors"),Pe.prototype),ct(Pe.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setSelected"),Pe.prototype),ct(Pe.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHovered"),Pe.prototype),ct(Pe.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHitable"),Pe.prototype),ct(Pe.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setElementState"),Pe.prototype),ct(Pe.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateStartPoint"),Pe.prototype),ct(Pe.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveStartPoint"),Pe.prototype),ct(Pe.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateEndPoint"),Pe.prototype),ct(Pe.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveEndPoint"),Pe.prototype),ct(Pe.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setZIndex"),Pe.prototype),ct(Pe.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"initPoints"),Pe.prototype),ct(Pe.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAttributes"),Pe.prototype),ct(Pe.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustStart"),Pe.prototype),ct(Pe.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustEnd"),Pe.prototype),ct(Pe.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAfterAdjustStartAndEnd"),Pe.prototype),Pe),ju=Eu;function Dl(e){return(Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ml(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(){return(Rl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ni(e))!==null;);return e}function Il(e,t){return(Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Eb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ni(e);if(t){var i=ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}function Ll(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot,Bl,Su=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Il(o,u)})(i,e);var t,n,r=Eb(i);function i(){var o;_b(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return zl(Ll(o=r.call.apply(r,[this].concat(s))),"modelType",pt.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Cl(Cl({},Rl(ni(i.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&wb(t.prototype,n),i}(ju);function Fl(e){return(Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ul(Object(n),!0).forEach(function(r){Pu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(){return(aa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Tb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Tb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qr(e))!==null;);return e}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Nb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qr(e);if(t){var i=qr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Au=(Bl=rn((ot=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xl(o,u)})(i,e);var t,n,r=Nb(i);function i(){var o;Ab(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Pu(ri(o=r.call.apply(r,[this].concat(s))),"modelType",pt.POLYLINE_EDGE),Pu(ri(o),"draginngPointList",void 0),Pb(ri(o),"dbClickPosition",Bl,ri(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,aa(qr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Gl(Gl({},aa(qr(i.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var d=_o(this.points),m=Sb(Ib(d),2),x=m[0],j=m[1];return{x:(x.x+j.x)/2,y:(x.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,u,s){var d,m;return s.forEach(function(x){var j;o===Tt.HORIZONTAL?j=Math.abs(u.y-x.y):o===Tt.VERTICAL&&(j=Math.abs(u.x-x.x)),(!m||m>j)&&(m=j,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,s){var d;return o===Tt.HORIZONTAL?d={x:s.x,y:u.y}:o===Tt.VERTICAL&&(d={x:u.x,y:s.y}),d}},{key:"removeCrossPoints",value:function(o,u,s){var d=s.map(function(oe){return oe});if(o===1){var m=d[o],x=d[u],j=d[o-1];if(Ql(j,m,this.sourceNode)){if(ef(m,x,this.sourceNode)){var T=tf(m,x,this.sourceNode);T&&(d[o]=T,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===j.x&&oe.x===m.x||oe.y===j.y&&oe.y===m.y)&&Wn(oe.x,oe.y,m.x,m.y)<Wn(j.x,j.y,m.x,m.y)&&(d[o-1]=oe)})}if(u===s.length-2){var I=d[o],W=d[u],Q=d[u+1];if(Ql(W,Q,this.targetNode)){if(ef(I,W,this.targetNode)){var ie=tf(I,W,this.targetNode);ie&&(d[u]=ie,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===Q.x&&oe.x===W.x||oe.y===Q.y&&oe.y===W.y)&&Wn(oe.x,oe.y,W.x,W.y)<Wn(Q.x,Q.y,W.x,W.y)&&(d[u+1]=oe)})}return d}},{key:"getDragingPoints",value:function(o,u,s,d,m){var x=m.map(function(I){return I}),j=this.getAfterAnchor(o,s,d),T=this.getCorssPoint(o,s,j);return u==="start"?(x.unshift(T),x.unshift(j)):(x.push(T),x.push(j)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(ge){return ge}),s=o[0],d=o[1],m=o[u.length-2],x=o[u.length-1],j=this.sourceNode,T=this.targetNode,I=j.modelType,W=T.modelType,Q=pa(s,d),ie=u[0];switch(I){case pt.RECT_NODE:j.radius!==0&&(jl(s,j)||(ie=El(s,Q,j)));break;case pt.CIRCLE_NODE:ie=_u(s,Q,j);break;case pt.ELLIPSE_NODE:ie=Sl(s,Q,j);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ie=Pl(s,Q,j)}u[0]=ie;var oe=pa(m,x),ce=u[u.length-1];switch(W){case pt.RECT_NODE:T.radius!==0&&(jl(x,T)||(ce=El(x,oe,T)));break;case pt.CIRCLE_NODE:ce=_u(x,oe,T);break;case pt.ELLIPSE_NODE:ce=Sl(x,oe,T);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ce=Pl(x,oe,T)}return u[u.length-1]=ce,u}},{key:"getData",value:function(){var o=aa(qr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var s=o.start,d=o.end,m=o.startIndex,x=o.endIndex,j=o.direction,T=this.pointsList,I=T;return j===Tt.HORIZONTAL?(T[m]={x:s.x,y:s.y+u.y},T[x]={x:d.x,y:d.y+u.y},I=this.pointsList.map(function(W){return W})):j===Tt.VERTICAL&&(T[m]={x:s.x+u.x,y:s.y},T[x]={x:d.x+u.x,y:d.y},I=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(I),this.draginngPointList=I,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[m]),end:Object.assign({},T[x]),startIndex:m,endIndex:x,direction:j}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var s=o.start,d=o.end,m=o.startIndex,x=o.endIndex,j=o.direction,T=this.pointsList;if(j===Tt.HORIZONTAL){T[m]={x:s.x,y:s.y+u.y},T[x]={x:d.x,y:d.y+u.y};var I=this.pointsList.map(function(Be){return Be});if(m!==0&&x!==this.pointsList.length-1&&(I=this.removeCrossPoints(m,x,I)),m===0){var W={x:s.x,y:s.y+u.y};if(!Ar(W,this.sourceNode)){var Q=this.sourceNode.anchors;I=this.getDragingPoints(j,"start",W,Q,I)}}if(x===this.pointsList.length-1){var ie={x:d.x,y:d.y+u.y};if(!Ar(ie,this.targetNode)){var oe=this.targetNode.anchors;I=this.getDragingPoints(j,"end",ie,oe,I)}}I=Mu(I),this.updatePointsAfterDrage(I),this.draginngPointList=I}else if(j===Tt.VERTICAL){T[m]={x:s.x+u.x,y:s.y},T[x]={x:d.x+u.x,y:d.y};var ce=this.pointsList.map(function(Be){return Be});if(m!==0&&x!==this.pointsList.length-1&&(ce=this.removeCrossPoints(m,x,ce)),m===0){var ge={x:s.x+u.x,y:s.y};if(!Ar(ge,this.sourceNode)){var De=this.sourceNode.anchors;ce=this.getDragingPoints(j,"start",ge,De,ce)}}if(x===this.pointsList.length-1){var Ee={x:d.x+u.x,y:d.y};if(!Ar(Ee,this.targetNode)){var Ie=this.targetNode.anchors;ce=this.getDragingPoints(j,"end",Ee,Ie,ce)}}ce=Mu(ce),this.updatePointsAfterDrage(ce),this.draginngPointList=ce}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},T[m]),end:Object.assign({},T[x]),startIndex:m,endIndex:x,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=_o(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,s=o.endPoint,d=o.sourceNode,m=o.targetNode,x=Jl({x:u.x,y:u.y},{x:s.x,y:s.y},d,m,this.offset||0);this.pointsList=x,this.initPoints()}}])&&kb(t.prototype,n),i}(ju)).prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn(ot.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"initPoints"),ot.prototype),rn(ot.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"updatePoints"),ot.prototype),rn(ot.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateStartPoint"),ot.prototype),rn(ot.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"moveStartPoint"),ot.prototype),rn(ot.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateEndPoint"),ot.prototype),rn(ot.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"moveEndPoint"),ot.prototype),rn(ot.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendStart"),ot.prototype),rn(ot.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendSimple"),ot.prototype),rn(ot.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppend"),ot.prototype),rn(ot.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendEnd"),ot.prototype),rn(ot.prototype,"updatePointsAfterDrage",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"updatePointsAfterDrage"),ot.prototype),rn(ot.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"getAdjustStart"),ot.prototype),rn(ot.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"getAdjustEnd"),ot.prototype),rn(ot.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateAfterAdjustStartAndEnd"),ot.prototype),ot),oi=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),m=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(s+d),u.leftY=t.y-m*Math.cos(s+d),u.rightX=t.x-m*Math.sin(s-d),u.rightY=t.y+m*Math.cos(s-d)):(u.leftX=t.x-m*Math.sin(s+d),u.leftY=t.y+m*Math.cos(s+d),u.rightX=t.x+m*Math.sin(s-d),u.rightY=t.y-m*Math.cos(s-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(s-d),u.leftY=n.y-m*Math.cos(s-d),u.rightX=n.x-m*Math.sin(s+d),u.rightY=n.y+m*Math.cos(s+d)):(u.leftX=n.x-m*Math.sin(s-d),u.leftY=n.y+m*Math.cos(s-d),u.rightX=n.x+m*Math.sin(s+d),u.rightY=n.y-m*Math.cos(s+d))),u};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(r){Mb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cb(e){return function(t){if(Array.isArray(t))return Tu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Wl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yl(e){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ku(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||Wl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wl(e,t){if(e){if(typeof e=="string")return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(e,t):void 0}}function Tu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nu=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},ca=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},sa=function(e,t){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?Tt.HORIZONTAL:Tt.VERTICAL}(t,e)===Tt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Kl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},ii=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(x){n.push(x.x),r.push(x.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),s=Math.max.apply(Math,r),d=o-i,m=s-u;return t&&(d+=t,m+=t),{centerX:(i+o)/2,centerY:(u+s)/2,maxX:o,maxY:s,minX:i,minY:u,x:(i+o)/2,y:(u+s)/2,height:m,width:d}},la=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},fa=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Du=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},$l=function(e,t,n,r,i){return Du(e,t)+Du(e,n)+function(o,u){var s=0;return u.forEach(function(d){d&&(o.x===d.x&&(s+=-2),o.y===d.y&&(s+=-2))}),s}(e,[t,n,r,i])},ai=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,s=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*s),m=(u*(e.y-n.y)-s*(e.x-n.x))/(-u*o+i*s);return d>=0&&d<=1&&m>=0&&m<=1},ql=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=ku(la(n),4),i=r[0],o=r[1],u=r[2],s=r[3];return ai(e,t,i,o)||ai(e,t,i,s)||ai(e,t,o,u)||ai(e,t,u,s)},Rb=function(e,t,n,r,i,o,u){var s=[],d=[t],m={},x={},j={};x[t.id]=0,j[t.id]=$l(t,n,t);var T={};e.forEach(function(Q){T[Q.id]=Q});for(var I=function(){var Q,ie,oe,ce=void 0,ge=1/0;if(d.forEach(function(Ee){j[Ee.id]<ge&&(ge=j[Ee.id],ce=Ee)}),ce===n){var De=[];return function Ee(Ie,Be,Qe,dt,ht){ht||(ht=0),Ie.unshift(Be[dt]),Qe[dt]&&Qe[dt]!==dt&&ht<=100&&Ee(Ie,Be,Qe,Qe[dt],ht+1)}(De,T,m,n.id),{v:De}}ie=ce,(oe=(Q=d).indexOf(ie))>-1&&Q.splice(oe,1),s.push(ce),function(Ee,Ie,Be,Qe){var dt=[];return Ee.forEach(function(ht){ht!==Ie&&(ht.x!==Ie.x&&ht.y!==Ie.y||ql(ht,Ie,Be)||ql(ht,Ie,Qe)||dt.push(ht))}),Nu(dt)}(e,ce,r,i).forEach(function(Ee){if(s.indexOf(Ee)===-1){d.indexOf(Ee)===-1&&d.push(Ee);var Ie=j[ce.id]+Du(ce,Ee);x[Ee.id]&&Ie>=x[Ee.id]||(m[Ee.id]=ce.id,x[Ee.id]=Ie,j[Ee.id]=x[Ee.id]+$l(Ee,n,t,o,u))}})};d.length;){var W=I();if(Yl(W)==="object")return W.v}return[t,n]},Zl=function(e){return gn(e)},Mu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},Jl=function(e,t,n,r,i){var o,u,s=Zl(n),d=Zl(r),m=ca(s,i),x=ca(d,i),j=sa(m,e),T=sa(x,t);if(o=m,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var I=Lb(e,t,j,T);return[e,j].concat(Cb(I),[T,t])}var W=ii([j,T]),Q=Kl(m,W),ie=Kl(x,W),oe=[];oe=(oe=oe.concat(la(Q))).concat(la(ie));var ce={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,Q,ie].forEach(function(De){oe=oe.concat(function(Ee,Ie){return function(Be,Qe){return Qe<Be.minX||Qe>Be.maxX?[]:[{x:Qe,y:Be.minY},{x:Qe,y:Be.maxY}]}(Ee,Ie.x).concat(function(Be,Qe){return Qe<Be.minY||Qe>Be.maxY?[]:[{x:Be.minX,y:Qe},{x:Be.maxX,y:Qe}]}(Ee,Ie.y))}(De,ce).filter(function(Ee){return fa(Ee,m)&&fa(Ee,x)}))}),[{x:j.x,y:T.y},{x:T.x,y:j.y}].forEach(function(De){fa(De,m)&&fa(De,x)&&oe.push(De)}),oe.unshift(j),oe.push(T),oe=Nu(oe);var ge=Rb(oe,j,T,s,d,e,t);return ge.unshift(e),ge.push(t),ge.length>2&&(ge=Mu(ge)),Nu(ge)},Ib=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Wn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],s=e[o+1],d=Wn(u.x,u.y,s.x,s.y);d>i&&(i=d,n=u,r=s)}t=[n,r]}return t},Ql=function(e,t,n){var r=Ar(e,n),i=Ar(t,n);return r&&i},ef=function(e,t,n){var r=Ar(e,n),i=Ar(t,n);return!(r&&i)&&(r||i)},tf=function(e,t,n){for(var r,i,o=gn(n),u=la(o),s=0;s<u.length;s++)ai(e,t,u[s],u[(s+1)%u.length])&&(i=[u[s],u[(s+1)%u.length]]);return i&&(r=function(d,m,x,j){var T=(m.y-d.y)*(j.x-x.x)-(d.x-m.x)*(x.y-j.y);if(T===0)return!1;var I=((m.x-d.x)*(j.x-x.x)*(x.y-d.y)+(m.y-d.y)*(j.x-x.x)*d.x-(j.y-x.y)*(m.x-d.x)*x.x)/T,W=-((m.y-d.y)*(j.y-x.y)*(x.x-d.x)+(m.x-d.x)*(j.y-x.y)*d.y-(j.x-x.x)*(m.y-d.y)*x.y)/T;return(I-d.x)*(I-m.x)<=0&&(W-d.y)*(W-m.y)<=0&&(I-x.x)*(I-j.x)<=0&&(W-x.y)*(W-j.y)<=0&&{x:I,y:W}}(e,t,i[0],i[1])),r},pa=function(e,t){var n;return e.x===t.x?n=Tt.VERTICAL:e.y===t.y&&(n=Tt.HORIZONTAL),n},_o=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=ku(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},Lb=function(e,t,n,r){var i=[];if(pa(e,n)===pa(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=ti(o,e,n),s=ti(o,t,r);if(u||s)o={x:r.x,y:n.y};else{var d=nf(o,e,n),m=nf(o,t,r);d&&m&&(o={x:r.x,y:n.y})}i.push(o)}return i},nf=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},rf=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},of=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=gn(r),s=gn(i),d=ca(u,o),m=ca(s,o);return{sNext:sa(d,t),ePre:sa(m,n)}},da=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[ha(t[0]),ha(t[1]),ha(t[2]),ha(t[3])]},ha=function(e){var t=ku(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},af=function(e,t){for(var n,r=e.x,i=e.y,o=_o(t),u=Number.MAX_SAFE_INTEGER,s=[],d=0;d<o.length;d++)s.push({start:o[d],end:o[(d+1)%o.length]});if(s.forEach(function(T){var I=T.start,W=T.end;if(I.x===W.x){var Q={x:I.x,y:i};if(ti(Q,I,W)){var ie=Math.abs(I.x-r);ie<u&&(u=ie,n=Q)}}else if(I.y===W.y){var oe={x:r,y:I.y};if(ti(oe,I,W)){var ce=Math.abs(I.y-i);ce<u&&(u=ce,n=oe)}}}),!n){var m=s[0],x=m.start,j=m.end;n={x:x.x+(j.x-x.x)/2,y:x.y+(j.y-x.y)/2}}return n},zb=function(e){return Qo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},uf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};a(204);var wo=function(){};function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=window.document;function Cu(e){var t=e.onDragStart,n=t===void 0?wo:t,r=e.onDraging,i=r===void 0?wo:r,o=e.onDragEnd,u=o===void 0?wo:o,s=e.step,d=s===void 0?1:s,m=e.isStopPropagation,x=m===void 0||m,j=!1,T=!1,I=0,W=0,Q=0,ie=0;function oe(ge){if(x&&ge.stopPropagation(),T&&(j=!0,Q+=ge.clientX-I,ie+=ge.clientY-W,I=ge.clientX,W=ge.clientY,Math.abs(Q)>d||Math.abs(ie)>d)){var De=Q%d,Ee=ie%d,Ie=Q-De,Be=ie-Ee;Q=De,ie=Ee,i({deltaX:Ie,deltaY:Be,event:ge})}}function ce(ge){if(x&&ge.stopPropagation(),T=!1,$n.removeEventListener("mousemove",oe,!1),$n.removeEventListener("mouseup",ce,!1),j)return j=!1,u({event:ge})}return function(ge){if(ge.button===0)return x&&ge.stopPropagation(),T=!0,I=ge.clientX,W=ge.clientY,$n.addEventListener("mousemove",oe,!1),$n.addEventListener("mouseup",ce,!1),n({event:ge})}}var le,cf,sf,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,Zr=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?wo:o,s=r.onDraging,d=s===void 0?wo:s,m=r.onDragEnd,x=m===void 0?wo:m,j=r.eventType,T=j===void 0?"":j,I=r.eventCenter,W=I===void 0?null:I,Q=r.step,ie=Q===void 0?1:Q,oe=r.isStopPropagation,ce=oe===void 0||oe,ge=r.model,De=ge===void 0?null:ge;(function(Ee,Ie){if(!(Ee instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(Ee){var Ie,Be;if(Ee.button===0){i.isStopPropagation&&Ee.stopPropagation(),i.isStartDraging=!0,i.startX=Ee.clientX,i.startY=Ee.clientY,$n.addEventListener("mousemove",i.handleMouseMove,!1),$n.addEventListener("mouseup",i.handleMouseUp,!1);var Qe=(Ie=i.model)===null||Ie===void 0?void 0:Ie.getData();(Be=i.eventCenter)===null||Be===void 0||Be.emit(tt["".concat(i.eventType,"_MOUSEDOWN")],{e:Ee,data:Qe}),i.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(Ee){if(i.isStopPropagation&&Ee.stopPropagation(),i.isStartDraging&&(i.sumDeltaX+=Ee.clientX-i.startX,i.sumDeltaY+=Ee.clientY-i.startY,i.startX=Ee.clientX,i.startY=Ee.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Ie,Be=i.sumDeltaX%i.step,Qe=i.sumDeltaY%i.step,dt=i.sumDeltaX-Be,ht=i.sumDeltaY-Qe;i.sumDeltaX=Be,i.sumDeltaY=Qe;var Ct,Ht=(Ie=i.model)===null||Ie===void 0?void 0:Ie.getData();i.isDraging||((Ct=i.eventCenter)===null||Ct===void 0||Ct.emit(tt["".concat(i.eventType,"_DRAGSTART")],{e:Ee,data:Ht}),i.onDragStart({event:Ee})),i.isDraging=!0,Promise.resolve().then(function(){var un,ln;i.onDraging({deltaX:dt,deltaY:ht,event:Ee}),(un=i.eventCenter)===null||un===void 0||un.emit(tt["".concat(i.eventType,"_MOUSEMOVE")],{e:Ee,data:Ht}),(ln=i.eventCenter)===null||ln===void 0||ln.emit(tt["".concat(i.eventType,"_DRAG")],{e:Ee,data:Ht})})}}),zt(this,"handleMouseUp",function(Ee){i.isStartDraging=!1,i.isStopPropagation&&Ee.stopPropagation(),Promise.resolve().then(function(){var Ie,Be,Qe;$n.removeEventListener("mousemove",i.handleMouseMove,!1),$n.removeEventListener("mouseup",i.handleMouseUp,!1);var dt=(Ie=i.model)===null||Ie===void 0?void 0:Ie.getData();(Be=i.eventCenter)===null||Be===void 0||Be.emit(tt["".concat(i.eventType,"_MOUSEUP")],{e:Ee,data:dt}),i.isDraging&&(i.isDraging=!1,i.onDragEnd({event:Ee}),(Qe=i.eventCenter)===null||Qe===void 0||Qe.emit(tt["".concat(i.eventType,"_DROP")],{e:Ee,data:dt}))})}),zt(this,"cancelDrag",function(){$n.removeEventListener("mousemove",i.handleMouseMove,!1),$n.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=ie,this.isStopPropagation=ce,this.eventType=T,this.eventCenter=W,this.model=De}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Bb(t.prototype,n),e}();function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Of(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _f(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||wf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xo(e){return function(t){if(Array.isArray(t))return Ru(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wf(e,t){if(e){if(typeof e=="string")return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(e,t):void 0}}function Ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iu(e){return(Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function En(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xf,Ef=(cf=Je((le=function(){function e(r){(function(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")})(this,e),sr(this,"rootEl",void 0),En(this,"width",cf,this),En(this,"height",sf,this),sr(this,"theme",void 0),sr(this,"eventCenter",void 0),sr(this,"modelMap",new Map),sr(this,"topElement",void 0),sr(this,"animation",void 0),sr(this,"idGenerator",void 0),sr(this,"nodeMoveRules",[]),En(this,"edgeType",lf,this),En(this,"nodes",ff,this),En(this,"edges",pf,this),En(this,"overlapMode",df,this),En(this,"background",hf,this),En(this,"transformModel",yf,this),En(this,"editConfigModel",vf,this),En(this,"gridSize",gf,this),En(this,"partial",bf,this),En(this,"fakerNode",mf,this);var i,o=r.container,u=r.background,s=u===void 0?{}:u,d=r.grid,m=r.idGenerator,x=r.animation;this.background=s,Iu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Cs(r),this.eventCenter=new ib,this.transformModel=new jg(this.eventCenter),this.theme=tl(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(i=x)&&typeof i!="boolean"?el(Dt(Tl),i):Dt(i===!0?vb:Tl),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=m}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(xo(this.nodes),xo(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,T){return j.zIndex-T.zIndex});for(var i=[],o=-1,u=[-200,-200],s=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,u,s,!1,!1))&&(m.zIndex===9999&&(o=i.length),i.push(m))}if(o!==-1){var x=i[i.length-1];i[i.length-1]=i[o],i[o]=x}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===St.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===St.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=[],d=[];this.nodes.forEach(function(j){return d.push(j)}),this.edges.forEach(function(j){return d.push(j)});for(var m=0;m<d.length;m++){var x=d[m];this.isElementInArea(x,r,i,o,u)&&s.push(x)}return s}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),s={x:i-u.left,y:o-u.top},d=_f(this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ft.NODE){for(var d=gn(r=r),m=d.minX,x=d.minY,j=d.maxX,T=d.maxY,I=[{x:m,y:x},{x:j,y:x},{x:j,y:T},{x:m,y:T}],W=s,Q=0;Q<I.length;Q++){var ie=I[Q],oe=ie.x,ce=ie.y,ge=this.transformModel.CanvasPointToHtmlPoint([oe,ce]),De=_f(ge,2);if(oe=De[0],ce=De[1],gu([oe,ce],i,o)!==s){W=!s;break}}return W}if(r.BaseType===Ft.EDGE){var Ee=r=r,Ie=Ee.startPoint,Be=Ee.endPoint,Qe=this.transformModel.CanvasPointToHtmlPoint([Ie.x,Ie.y]),dt=this.transformModel.CanvasPointToHtmlPoint([Be.x,Be.y]),ht=gu(Qe,i,o),Ct=gu(dt,i,o);return u?ht&&Ct:ht||Ct}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=Qi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,d=o.y;return s&&d&&(o.x=Oo(s,i.gridSize),o.y=Oo(d,i.gridSize),Iu(o.text)==="object"&&(o.text.x-=nl(s,i.gridSize),o.text.y-=nl(d,i.gridSize))),new u(o,i)}),this.edges=Qi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getHistoryData())}if(r)return!1;for(var s=!1,d=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){s=!0;break}d.push(x.getHistoryData())}return!s&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],s=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(s||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Ft.NODE&&o.nodes.push(u.getData()),u.BaseType===Ft.EDGE){var s=u.getData(),d=i.get(s.sourceNodeId)&&i.get(s.targetNodeId);(r||d)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=$r()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,i){return i||(i=$r()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,s=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);s&&(this.overlapMode===vn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),s.setZIndex(9999),this.topElement=s),this.overlapMode===vn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,s,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(s=i),i==="top"&&(s=xu()),i==="bottom"&&(s=--mb),d.setZIndex(s))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(tt.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=Kn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var s=u.getData();return this.eventCenter.emit(tt.NODE_ADD,{data:s}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var d=s.model,m=d.move(i,o,u);m&&this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var d=s.model,m=d.x,x=d.y,j=i-m,T=o-x;this.moveNode(r,j,T,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=Kn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new u(ya(ya({},i),{},{type:o}),this),d=s.getData();return this.edges.push(s),this.eventCenter.emit(tt.EDGE_ADD,{data:d}),s}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var s,d=this.edges[u],m=d.textPosition,x=m.x,j=m.y,T=this.edges[u].sourceNodeId===r,I=this.edges[u].targetNodeId===r;if(T&&d.moveStartPoint(i,o),I&&d.moveEndPoint(i,o),T||I)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===pt.POLYLINE_EDGE&&(s=d.text)!==null&&s!==void 0&&s.value){var W=d.text,Q=af(W,d.points);d.moveText(Q.x-W.x,Q.y-W.y)}else{var ie=d.textPosition,oe=ie.x,ce=ie.y;d.moveText(oe-x,ce-j)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(tt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(St.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===vn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){var u=this,s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,s)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new s(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var x=Al(d,m.startPoint,d.width,d.height);m.updateStartPoint(x)}if(m.targetNodeId===r){var j=Al(d,m.endPoint,d.width,d.height);m.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o){if(o.type!==i){var u=o.getData();u.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new s(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=tl(ya(ya({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r!=null?r:this.width,this.height=i!=null?i:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,i=[],o=[];r.forEach(function(j){var T=j.x,I=j.y,W=j.width,Q=j.height,ie=j.getNodeStyle().strokeWidth,oe=ie===void 0?0:ie;i=i.concat([T+W/2+oe,T-W/2-oe]),o=o.concat([I+Q/2+oe,I-Q/2-oe])});var u=Math.min.apply(Math,xo(i)),s=Math.max.apply(Math,xo(i)),d=Math.min.apply(Math,xo(o)),m=s-u||0,x=Math.max.apply(Math,xo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:x,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+x/2}}},{key:"translateCenter",value:function(){var r=this.nodes,i=this.width,o=this.height,u=this.rootEl,s=this.transformModel;if(r.length){var d=i||u.clientWidth,m=o||u.clientHeight,x=this.getVirtualRectSize(),j=x.virtualRectCenterPositionX,T=x.virtualRectCenterPositionY;s.focusOn(j,T,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,i=this.nodes,o=this.width,u=this.height,s=this.rootEl,d=this.transformModel;if(i.length){var m=o||s.clientWidth,x=u||s.clientHeight,j=this.getVirtualRectSize(),T=j.virtualRectWidth,I=j.virtualRectHeight,W=j.virtualRectCenterPositionX,Q=j.virtualRectCenterPositionY,ie=(T+r)/m,oe=(I+r)/x,ce=0;ce=1/Math.max(ie,oe);var ge=[m/2,x/2];d.zoom(ce,ge),d.focusOn(W,Q,m,x)}}}])&&Fb(t.prototype,n),e}()).prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=Je(le.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=Je(le.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=Je(le.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pf=Je(le.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),df=Je(le.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vn.DEFAULT}}),hf=Je(le.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=Je(le.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=Je(le.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=Je(le.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bf=Je(le.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=Je(le.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(le.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),Je(le.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),Je(le.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),Je(le.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),Je(le.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),Je(le.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),Je(le.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),Je(le.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),Je(le.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),Je(le.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),Je(le.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),Je(le.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),Je(le.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),Je(le.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),Je(le.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),Je(le.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),Je(le.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),Je(le.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),Je(le.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),Je(le.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),Je(le.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),Je(le.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),Je(le.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),Je(le.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),Je(le.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),Je(le.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),Je(le.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),Je(le.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),Je(le.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),Je(le.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),Je(le.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),Je(le.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),Je(le.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),Je(le.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),Je(le.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),Je(le.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),Je(le.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),Je(le.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),Je(le.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),Je(le.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),Je(le.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),Je(le.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),le),Hb=Ef;function jf(e){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sf(){return(Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lu(e);if(t){var i=Lu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xb(this,n)}}function Xb(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af,Vb=Bn(xf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(i,e);var t,n,r=Gb(i);function i(o){var u;(function(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")})(this,i),lr(qn(u=r.call(this)),"stepDrag",void 0),lr(qn(u),"stepScrollX",0),lr(qn(u),"stepScrollY",0),lr(qn(u),"onDraging",function(x){var j=x.deltaX,T=x.deltaY;u.setState({isDraging:!0});var I=u.props.graphModel,W=I.transformModel;I.editConfigModel.stopMoveGraph||W.translate(j,T)}),lr(qn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),lr(qn(u),"zoomHandler",function(x){var j=u.props,T=j.graphModel,I=T.editConfigModel,W=T.transformModel,Q=T.gridSize,ie=j.graphModel,oe=x.deltaX,ce=x.deltaY;if(I.stopScrollGraph||x.ctrlKey===!0){if(!I.stopZoomGraph){x.preventDefault();var ge=ie.getPointByClient({x:x.clientX,y:x.clientY}).canvasOverlayPosition,De=ge.x,Ee=ge.y;W.zoom(x.deltaY<0,[De,Ee])}}else{if(x.preventDefault(),u.stepScrollX+=oe,u.stepScrollY+=ce,Math.abs(u.stepScrollX)>=Q){var Ie=u.stepScrollX%Q,Be=u.stepScrollX-Ie;W.translate(-Be*W.SCALE_X,0),u.stepScrollX=Ie}if(Math.abs(u.stepScrollY)>=Q){var Qe=u.stepScrollY%Q,dt=u.stepScrollY-Qe;W.translate(0,-dt*W.SCALE_Y),u.stepScrollY=Qe}}}),lr(qn(u),"clickHandler",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){var j=u.props.graphModel;j.selectElements.size>0&&j.clearSelectElements(),j.eventCenter.emit(tt.BLANK_CLICK,{e:x})}}),lr(qn(u),"handleContextMenu",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){x.preventDefault();var j=u.props.graphModel,T=j.getPointByClient({x:x.clientX,y:x.clientY});j.eventCenter.emit(tt.BLANK_CONTEXTMENU,{e:x,position:T})}}),lr(qn(u),"mouseDownHandler",function(x){var j=u.props.graphModel,T=j.eventCenter,I=j.editConfigModel,W=j.transformModel.SCALE_X,Q=j.gridSize,ie=x.target,oe=!I.adjustEdge&&!I.adjustNodePosition;(ie.getAttribute("name")==="canvas-overlay"||oe)&&(I.stopMoveGraph?T.emit(tt.BLANK_MOUSEDOWN,{e:x}):(u.stepDrag.setStep(Q*W),u.stepDrag.handleMouseDown(x)),u.clickHandler(x))});var s=o.graphModel,d=s.gridSize,m=s.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,s=u.children,d=u.dnd,m=this.state.isDraging;return Object($.g)("svg",Sf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object($.g)("g",{transform:o},s))}}])&&Ub(t.prototype,n),i}($.a))||xf;function kf(e){return(kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Kb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zu(e);if(t){var i=zu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nf(e)}function Nf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zb=Bn(Af=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Tf(o,u)})(i,e);var t,n,r=Kb(i);function i(){var o;Yb(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return qb(Nf(o=r.call.apply(r,[this].concat(s))),"setToolOverlayRef",function(m){var x=o.props.tool.getInstance();x.components.forEach(function(j){return j(x,m)}),x.components=[]}),o}return t=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,s=o.graphModel,d=u.getTools().map(function(m){return Object($.g)(m,{graphModel:s,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object($.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Wb(t.prototype,n),i}($.a))||Af;function Df(e){return(Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function em(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bu(e);if(t){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tm(this,n)}}function tm(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf,nm=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mf(o,u)})(i,e);var t,n,r=em(i);function i(){return Jb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object($.g)("div",{className:"lf-background"},Object($.g)("div",{style:o,className:"lf-background-area"}))}}])&&Qb(t.prototype,n),i}($.a);function Rf(e){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fu(e);if(t){var i=Fu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lf(e)}function Lf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zf=Bn(Cf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&If(o,u)})(i,e);var t,n,r=im(i);function i(){var o;rm(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return um(Lf(o=r.call.apply(r,[this].concat(s))),"id",$r()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,s=u.color,d=u.thickness,m=d===void 0?2:d,x=o.size,j=o.visible,T=Math.min(Math.max(2,m),x/2),I=1;return j||(I=0),Object($.g)("rect",{width:T,height:T,rx:T/2,ry:T/2,fill:s,opacity:I})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,s=u.color,d=u.thickness,m=d===void 0?1:d,x=o.size,j=o.visible,T=Math.min(Math.max(1,m),x/2),I="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),W=1;return j||(W=0),Object($.g)("path",{d:I,stroke:s,strokeWidth:T,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,s=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(m,")");return Object($.g)("div",{className:"lf-grid"},Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object($.g)("defs",null,Object($.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:s,height:s},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object($.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&om(t.prototype,n),i}($.a))||Cf;zf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(52);function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ff(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ff(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hf,Jr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=cm(n,2),i=r[0],o=r[1];Bf(o)!=="object"&&(t[i]=o)}),Object($.g)("line",t)};function Uf(e){return(Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gf(Object(n),!0).forEach(function(r){sm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return(Xf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hu(e);if(t){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Vf,hm=Bn(Hf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xf(o,u)})(i,e);var t,n,r=pm(i);function i(){return lm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,s=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),x=u.x,j=x===void 0?0:x,T=u.y,I=T===void 0?0:T,W=va(va({x1:-1e5,y1:I,x2:1e5,y2:I},m),{},{stroke:s?m.stroke:"none"}),Q=va(va({x1:j,y1:-1e5,x2:j,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object($.g)("g",{className:"lf-snapline"},Object($.g)(Jr,W),Object($.g)(Jr,Q))}}])&&fm(t.prototype,n),i}($.a))||Hf;function Yf(e){return(Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Wf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,s=t-r/2,d=n-i/2,m={};return Object.entries(e).forEach(function(x){var j=ym(x,2),T=j[0],I=j[1];Yf(I)!=="object"&&(m[T]=I)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=s,m.y=d,Object($.g)("rect",m)}function Kf(e){return(Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ui(){return(ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$f(Object(n),!0).forEach(function(r){vm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zf(e,t){return(Zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function mm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uu(e);if(t){var i=Uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}kr.defaultProps={className:"",radius:""};var Jf,_m=Bn(Vf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zf(o,u)})(i,e);var t,n,r=mm(i);function i(){return gm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,s=o.editConfigModel,d=s.hoverOutline,m=s.nodeSelectedOutline,x=[];return u.forEach(function(j){if(j.isHovered||j.isSelected){var T=j.isHovered,I=j.isSelected,W=j.x,Q=j.y,ie=j.width,oe=j.height;if(m&&I||d&&T){var ce=j.getOutlineStyle(),ge={};if(Object.keys(ce).forEach(function(Ee){Ee!=="hover"&&(ge[Ee]=ce[Ee])}),T){var De=ce.hover;ge=qf(qf({},ge),De)}x.push(Object($.g)(kr,ui({className:"lf-outline-node",x:W,y:Q,width:ie+10,height:oe+10},ge)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,s=o.editConfigModel,d=s.edgeSelectedOutline,m=s.hoverOutline,x=[],j=0;j<u.length;j++){var T=u[j];(d&&T.isSelected||m&&T.isHovered)&&(T.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(T)):T.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(T)):T.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(T)))}return x}},{key:"getLineOutline",value:function(o){var u=o.startPoint,s=o.endPoint,d=(u.x+s.x)/2,m=(u.y+s.y)/2,x=Math.abs(u.x-s.x)+10,j=Math.abs(u.y-s.y)+10,T=o.getOutlineStyle();return Object($.g)(kr,ui({className:"lf-outline-edge",x:d,y:m,width:x,height:j},T))}},{key:"getPolylineOutline",value:function(o){var u=o.points,s=_o(u),d=ii(s,8),m=d.x,x=d.y,j=d.width,T=d.height,I=o.getOutlineStyle();return Object($.g)(kr,ui({className:"lf-outline",x:m,y:x,width:j,height:T},I))}},{key:"getBezierOutline",value:function(o){var u=o.path,s=da(u),d=ii(s,8),m=d.x,x=d.y,j=d.width,T=d.height,I=o.getOutlineStyle();return Object($.g)(kr,ui({className:"lf-outline",x:m,y:x,width:j,height:T},I))}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&bm(t.prototype,n),i}($.a))||Vf;function Qf(e){return(Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ep(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u=o===void 0?4:o,s=e.className,d={cx:n,cy:i,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var x=wm(m,2),j=x[0],T=x[1];Qf(T)!=="object"&&(d[j]=T)}),d.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object($.g)("circle",d)}function tp(e){return(tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return np(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return np(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t,n){return t&&op(e.prototype,t),n&&op(e,n),e}function ap(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}function up(e,t){return(up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function cp(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gu(e);if(t){var i=Gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}function ba(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp,lp=function(e){ap(n,e);var t=cp(n);function n(){var r;return rp(this,n),Xu(ba(r=t.call(this)),"dragHandler",void 0),Xu(ba(r),"onDraging",function(i){var o=i.event,u=r.props,s=u.graphModel,d=u.bezierModel,m=u.type,x=s.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,j=x.x,T=x.y;d.updateAdjustAnchor({x:j,y:T},m)}),Xu(ba(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zr({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return ip(n,[{key:"render",value:function(){var r=this,i=this.props.position,o=i.x,u=i.y,s=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object($.g)(ci,ga({className:"lf-bezier-adjust-anchor",x:o,y:u},s,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}($.a),jm=Bn(Jf=function(e){ap(n,e);var t=cp(n);function n(){return rp(this,n),t.apply(this,arguments)}return ip(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,s=xm(da(o),4),d=s[0],m=s[1],x=s[2],j=s[3],T=r.getEdgeStyle().adjustLine,I=[];return I.push(Object($.g)(Jr,ga({x1:d.x,y1:d.y,x2:m.x,y2:m.y},T))),I.push(Object($.g)(lp,{position:m,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),I.push(Object($.g)(Jr,ga({x1:j.x,y1:j.y,x2:x.x,y2:x.y},T))),I.push(Object($.g)(lp,{position:x,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var s=i[u];s.isSelected&&s.modelType===pt.BEZIER_EDGE&&s.draggable&&o.push(this.getBezierAdjust(s,r))}return o}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}($.a))||Jf;function fp(e){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t){return(pp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vu(e);if(t){var i=Vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return km(this,n)}}function km(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dp,Tm=Bn(sp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pp(o,u)})(i,e);var t,n,r=Am(i);function i(){return Sm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object($.g)("g",{transform:o},u))}}])&&Pm(t.prototype,n),i}($.a))||sp;function hp(e){return(hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Mm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yu(e);if(t){var i=Yu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Rm=Bn(dp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(i,e);var t,n,r=Mm(i);function i(){return Nm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(o,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object($.g)(m,{key:o.id,model:o,graphModel:u,overlay:s})}},{key:"render",value:function(){var o=this,u=this.props,s=u.graphModel,d=u.tool,m=u.options,x=u.dnd,j=u.snaplineModel,T={};m.width&&(T.width="".concat(s.width,"px")),m.height&&(T.height="".concat(s.height,"px"));var I=s.fakerNode,W=s.editConfigModel.adjustEdge;return Object($.g)("div",{className:"lf-graph",style:T},Object($.g)(Vb,{graphModel:s,dnd:x},Object($.g)("g",{className:"lf-base"},Qi(s.sortElements,function(Q){return o.getComponent(Q,s)})),I?this.getComponent(I,s):""),Object($.g)(Tm,{graphModel:s},Object($.g)(_m,{graphModel:s}),W?Object($.g)(jm,{graphModel:s}):"",m.isSilentMode||m.snapline===!1?"":Object($.g)(hm,{snaplineModel:j})),Object($.g)(Zb,{graphModel:s,tool:d}),m.background&&Object($.g)(nm,{background:m.background}),m.grid&&Object($.g)(zf,yp({},m.grid,{graphModel:s})))}}])&&Dm(t.prototype,n),i}($.a))||dp;function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){fr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm=function(){function e(r){var i=this;(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"nodeConfig",void 0),fr(this,"lf",void 0),fr(this,"fakerNode",void 0),fr(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),fr(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(ma(ma({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),fr(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var s=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=s.x,m=s.y;i.fakerNode.moveTo(d,m);var x=i.fakerNode.getData();i.lf.setNodeSnapLine(x),i.lf.graphModel.eventCenter.emit(tt.NODE_DND_DRAG,{data:x})}return!1}),fr(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),fr(this,"onDrop",function(u){if(i.lf.graphModel&&u&&i.nodeConfig){var s=i.lf.addNode(ma(ma({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=s.getData();i.lf.graphModel.eventCenter.emit(tt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=Zo(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=s.x,m=s.y;return{x:Oo(d,u),y:Oo(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Im(t.prototype,n),e}();function bp(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=nn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),nn({},Op,e)}var Ot,mp,Op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function _p(e){return(_p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Wu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(n),!0).forEach(function(r){jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(){return(_a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Hm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Hm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Qr(e))!==null;);return e}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Um(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qr(e);if(t){var i=Qr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gm(this,n)}}function Gm(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ku=(mp=Mn((Ot=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ep(o,u)})(i,e);var t,n,r=Um(i);function i(){var o;Bm(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return jp(wa(o=r.call.apply(r,[this].concat(s))),"modelType",pt.BEZIER_EDGE),zm(wa(o),"path",mp,wa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,_a(Qr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return Oa(Oa({},_a(Qr(i.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(s){var d=s.x,m=s.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=_a(Qr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Oa(Oa({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return of({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Wu(o,4),s=u[0],d=u[1],m=u[2],x=u[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,s=o.ePre;this.updatePath(u,s)}},{key:"updatePath",value:function(o,u){var s={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[s,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var s=Wu(this.pointsList,3),d=s[1],m=s[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var s=Wu(this.pointsList,3),d=s[1],m=s[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,s=o.endPoint,d=o.sourceNode,m=o.targetNode,x=of({start:u,end:s,sourceNode:d,targetNode:m,offset:this.offset}),j=x.sNext,T=x.ePre;this.pointsList=[u,j,T,s],this.initPoints()}}])&&Fm(t.prototype,n),i}(ju)).prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mn(Ot.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"initPoints"),Ot.prototype),Mn(Ot.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePoints"),Ot.prototype),Mn(Ot.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateStartPoint"),Ot.prototype),Mn(Ot.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEndPoint"),Ot.prototype),Mn(Ot.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveStartPoint"),Ot.prototype),Mn(Ot.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveEndPoint"),Ot.prototype),Mn(Ot.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAdjustAnchor"),Ot.prototype),Mn(Ot.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustStart"),Ot.prototype),Mn(Ot.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustEnd"),Ot.prototype),Mn(Ot.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAfterAdjustStartAndEnd"),Ot.prototype),Ot),He,Sp,Pp,Ap,kp,Tp,Np,Dp,Mp,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Up,Xm=function(e){return e==null};function Gp(e){return(Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vm(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Xp(d,m);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Xp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){s=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(s)throw o}}}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Tr,Yp,dr=(Sp=_t((He=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),jn(this,"id",$r()),Vt(this,"type",Sp,this),Vt(this,"x",Pp,this),Vt(this,"y",Ap,this),Vt(this,"text",kp,this),Vt(this,"properties",Tp,this),Vt(this,"_width",Np,this),Vt(this,"_height",Dp,this),Vt(this,"anchorsOffset",Mp,this),Vt(this,"isSelected",Cp,this),Vt(this,"isHovered",Rp,this),Vt(this,"isDragging",Ip,this),Vt(this,"isHitable",Lp,this),Vt(this,"draggable",zp,this),Vt(this,"visible",Bp,this),jn(this,"graphModel",void 0),Vt(this,"zIndex",Fp,this),Vt(this,"state",Hp,this),Vt(this,"autoToFront",Up,this),jn(this,"BaseType",Ft.NODE),jn(this,"modelType",pt.NODE),jn(this,"additionStateData",void 0),jn(this,"targetRules",[]),jn(this,"sourceRules",[]),jn(this,"moveRules",[]),jn(this,"hasSetTargetRules",!1),jn(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),nn(this,function(s){return Qo(s,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===vn.INCREASE&&(this.zIndex=r.zIndex||xu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,s=this.properties;Object(l.x)(s)&&(s=Object(l.I)(s));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===vn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return pr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return Dt(i)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,this,r,i,o)){d=!1,s=x.message;break}}return{isAllPass:d,msg:s}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,r,this,i,o)){d=!1,s=x.message;break}}return{isAllPass:d,msg:s}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=!0,s=!0,d=Vm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,i);if(!m)return!1;if(Gp(m)==="object"){var x=m;if(x.x===!1&&x.y===!1)return!1;u=u&&x.x,s=s&&x.y}}}catch(j){d.e(j)}finally{d.f()}return{x:u,y:s}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(s,d){return s.length?(s=s,{id:"".concat(i,"_").concat(d),x:o+s[0],y:u+s[1]}):pr(pr({},s=s),{},{x:o+s.x,y:u+s.y,id:s.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Xm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,s=!1;if(o)u=!0,s=!0;else{var d=this.isAllowMoveNode(r,i);typeof d=="boolean"?(u=d,s=d):(u=d.x,s=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(s){var x=this.y+i;this.y=x,this.text&&this.moveText(0,i)}return u||s}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,s=i-this.y;return!(!o&&!this.isAllowMoveNode(u,s)||(this.text&&this.text&&this.moveText(u,s),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,s=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:m,x:u+r,y:s+i}}},{key:"updateText",value:function(r){this.text=pr(pr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=pr(pr({},this.properties),{},jn({},r,Kn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=pr(pr({},this.properties),Kn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){nn(this,r)}}])&&Ym(t.prototype,n),e}()).prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=_t(He.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ap=_t(He.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=_t(He.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tp=_t(He.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Np=_t(He.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Dp=_t(He.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Mp=_t(He.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cp=_t(He.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=_t(He.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=_t(He.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=_t(He.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=_t(He.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bp=_t(He.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fp=_t(He.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=_t(He.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Up=_t(He.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_t(He.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(He.prototype,"incoming"),He.prototype),_t(He.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(He.prototype,"outgoing"),He.prototype),_t(He.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"addNodeMoveRules"),He.prototype),_t(He.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"move"),He.prototype),_t(He.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"moveTo"),He.prototype),_t(He.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),_t(He.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),_t(He.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),_t(He.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),_t(He.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),_t(He.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),_t(He.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),_t(He.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),_t(He.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),_t(He.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),He);function Wp(e){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(n),!0).forEach(function(r){Jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(){return(qp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=qm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function Zp(e,t){return(Zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=si(e);if(t){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jm(this,n)}}function Jm(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var on,Qp,ed,qu=(Yp=$u((Tr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zp(o,u)})(i,e);var t,n,r=Zm(i);function i(){var o;Km(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Jp(xa(o=r.call.apply(r,[this].concat(s))),"modelType",pt.CIRCLE_NODE),Wm(xa(o),"r",Yp,xa(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=qp(si(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return $p($p({},o),Dt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.r;return[{x:o,y:u-s,id:"".concat(this.id,"_0")},{x:o+s,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+s,id:"".concat(this.id,"_2")},{x:o-s,y:u,id:"".concat(this.id,"_3")}]}}])&&$m(t.prototype,n),i}(dr)).prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$u(Tr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Tr.prototype,"width"),Tr.prototype),$u(Tr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Tr.prototype,"height"),Tr.prototype),Tr);a(127);function td(e){return(td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rd(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function id(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(){return(ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=t0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function t0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=li(e))!==null;);return e}function ud(e,t){return(ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function n0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=li(e);if(t){var i=li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return r0(this,n)}}function r0(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var hr,sd,ld,Ju=(Qp=jo((on=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ud(o,u)})(i,e);var t,n,r=n0(i);function i(){var o;Qm(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return cd(Eo(o=r.call.apply(r,[this].concat(s))),"modelType",pt.DIAMOND_NODE),id(Eo(o),"rx",Qp,Eo(o)),id(Eo(o),"ry",ed,Eo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=ad(li(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return od(od({},o),Dt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,s=this.rx,d=this.ry;return[[o,u-d],[o+s,u],[o,u+d],[o-s,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=Zu(s,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=Zu(s,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,s){var d=Zu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(s)}})}}])&&e0(t.prototype,n),i}(dr)).prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ed=jo(on.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),jo(on.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(on.prototype,"points"),on.prototype),jo(on.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(on.prototype,"pointsPosition"),on.prototype),jo(on.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(on.prototype,"width"),on.prototype),jo(on.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(on.prototype,"height"),on.prototype),on);function fd(e){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(){return(yd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=a0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function a0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=fi(e))!==null;);return e}function vd(e,t){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function u0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fi(e);if(t){var i=fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c0(this,n)}}function c0(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Cn,bd,Qu=(sd=Ea((hr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vd(o,u)})(i,e);var t,n,r=u0(i);function i(){var o;o0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return gd(So(o=r.call.apply(r,[this].concat(s))),"modelType",pt.ELLIPSE_NODE),hd(So(o),"rx",sd,So(o)),hd(So(o),"ry",ld,So(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=yd(fi(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return dd(dd({},o),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+s,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-s,y:u,id:"".concat(this.id,"_3")}]}}])&&i0(t.prototype,n),i}(dr)).prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ld=Ea(hr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Ea(hr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(hr.prototype,"width"),hr.prototype),Ea(hr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(hr.prototype,"height"),hr.prototype),hr);function md(e){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ec(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Od(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Od(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Od(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){jd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=p0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function p0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=pi(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function d0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pi(e);if(t){var i=pi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h0(this,n)}}function h0(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Sd,Pd,tc=(bd=Sa((Cn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(i,e);var t,n,r=d0(i);function i(){var o;l0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return jd(ja(o=r.call.apply(r,[this].concat(s))),"modelType",pt.POLYGON_NODE),s0(ja(o),"points",bd,ja(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=xd(pi(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return wd(wd({},o),Dt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-s/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=ec(s,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=ec(s,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,s=this.y,d=this.width,m=this.height;return this.points.map(function(x,j){var T=ec(x,2),I=T[0],W=T[1];return{x:u+I-d/2,y:s+W-m/2,id:"".concat(o.id,"_").concat(j)}})}}])&&f0(t.prototype,n),i}(dr)).prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Sa(Cn.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Cn.prototype,"pointsPosition"),Cn.prototype),Sa(Cn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Cn.prototype,"width"),Cn.prototype),Sa(Cn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Cn.prototype,"height"),Cn.prototype),Cn);function Ad(e){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(r){Md(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nd(){return(Nd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=b0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function b0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=di(e))!==null;);return e}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=di(e);if(t){var i=di(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O0(this,n)}}function O0(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pa(e)}function Pa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo,nc=(Pd=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Sd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dd(o,u)})(i,e);var t,n,r=m0(i);function i(){var o;v0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Md(Pa(o=r.call.apply(r,[this].concat(s))),"modelType",pt.RECT_NODE),y0(Pa(o),"radius",Pd,Pa(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Nd(di(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Td(Td({},o),Dt(u))}}])&&g0(t.prototype,n),i}(dr)).prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sd);function Cd(e){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){Fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(){return(Ld=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=x0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function x0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=hi(e))!==null;);return e}function zd(e,t){return(zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function E0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hi(e);if(t){var i=hi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j0(this,n)}}function j0(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var rc=(Hd((eo=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zd(o,u)})(i,e);var t,n,r=E0(i);function i(){var o;_0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Fd(Bd(o=r.call.apply(r,[this].concat(s))),"modelType",pt.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=Ld(hi(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Id(Id({},o),Dt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return wu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return wu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&w0(t.prototype,n),i}(dr)).prototype,"width",[l.m],Object.getOwnPropertyDescriptor(eo.prototype,"width"),eo.prototype),Hd(eo.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(eo.prototype,"height"),eo.prototype),eo);function Ud(e){return(Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function S0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function A0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oc(e);if(t){var i=oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xd(e)}function Xd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function T0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn,Vd,Yd,Wd,ic=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gd(o,u)})(i,e);var t,n,r=A0(i);function i(){var o;S0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return T0(Xd(o=r.call.apply(r,[this].concat(s))),"modelType",pt.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:u,id:"".concat(this.id,"_3")}]}}])&&P0(t.prototype,n),i}(dr);function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ac(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function N0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qd=(Vd=yi((Zn=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),$d(this,"graphModel",void 0),ac(this,"isShowHorizontal",Vd,this),ac(this,"isShowVertical",Yd,this),ac(this,"position",Wd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Kd(Object(o),!0).forEach(function(u){$d(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Kd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,s=!1,d=!1,m=0;m<i.length;m++){var x=i[m];if(x.id!==r.id&&(o===x.x&&(s=!0),u===x.y&&(d=!0),s&&d))break}return{isShowVertical:s,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,s=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var x=this.graphModel.getNodeModelById(d);u=gn(x)}}for(var j=0;j<i.length;j++){var T=i[j];if(T.id!==r.id){var I=gn(T);if(I.minY===u.minY||I.maxY===u.minY){s=!0,o=u.minY;break}if(I.minY===u.maxY||I.maxY===u.maxY){s=!0,o=u.maxY;break}}}return nn({isShowHorizontal:s,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,s=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=gn(m);else{var x=this.graphModel.getNodeModelById(d);u=gn(x)}}for(var j=0;j<i.length;j++){var T=i[j];if(T.id!==r.id){var I=gn(T);if(I.minX===u.minX||I.maxX===u.minX){s=!0,o=u.minX;break}if(I.minX===u.maxX||I.maxX===u.maxX){s=!0,o=u.maxX;break}}}return nn({isShowVertical:s,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,s=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!s){var m=this.getVerticalSnapline(r,i);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&N0(t.prototype,n),e}()).prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=yi(Zn.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=yi(Zn.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi(Zn.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Zn.prototype,"clearSnapline"),Zn.prototype),yi(Zn.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Zn.prototype,"setNodeSnapLine"),Zn.prototype),Zn);function Zd(e){return(Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jd(Object(n),!0).forEach(function(r){Qn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function C0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uc(e);if(t){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}function Jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&th(o,u)})(i,e);var t,n,r=C0(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),Qn(Jn(o=r.call(this)),"preTargetNode",void 0),Qn(Jn(o),"sourceRuleResults",void 0),Qn(Jn(o),"targetRuleResults",void 0),Qn(Jn(o),"dragHandler",void 0),Qn(Jn(o),"t",void 0),Qn(Jn(o),"onDragStart",function(u){var s=u.event,d=o.props,m=d.anchorData,x=d.nodeModel,j=d.graphModel,T=j.overlapMode;j.selectNodeById(x.id),T!==vn.INCREASE&&x.autoToFront&&j.toFront(x.id),j.eventCenter.emit(tt.ANCHOR_DRAGSTART,{data:m,e:s,nodeModel:x}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),Qn(Jn(o),"onDraging",function(u){var s=u.event,d=o.props,m=d.graphModel,x=d.nodeModel,j=d.anchorData,T=m.transformModel,I=m.eventCenter,W=m.width,Q=m.height,ie=m.editConfigModel,oe=s.clientX,ce=s.clientY,ge=m.getPointByClient({x:oe,y:ce}),De=ge.domOverlayPosition,Ee=De.x,Ie=De.y,Be=ge.canvasOverlayPosition,Qe=Be.x,dt=Be.y;o.t&&clearInterval(o.t);var ht=[];Ee<10?ht=[10,0]:Ee+10>W?ht=[-10,0]:Ie<10?ht=[0,10]:Ie+10>Q&&(ht=[0,-10]),o.setState({endX:Qe,endY:dt,draging:!0}),o.moveAnchorEnd(Qe,dt),ht.length>0&&!ie.stopMoveGraph&&(o.t=setInterval(function(){var Ct=D0(ht,2),Ht=Ct[0],un=Ct[1];T.translate(Ht,un);var ln=o.state,bn=ln.endX,br=ln.endY;o.setState({endX:bn-Ht,endY:br-un}),o.moveAnchorEnd(bn-Ht,br-un)},50)),I.emit(tt.ANCHOR_DRAG,{data:j,e:s,nodeModel:x})}),Qn(Jn(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var s=o.props,d=s.graphModel,m=s.nodeModel,x=s.anchorData;d.eventCenter.emit(tt.ANCHOR_DROP,{data:x,e:u,nodeModel:m})}),Qn(Jn(o),"checkEnd",function(){var u=o.props,s=u.graphModel,d=u.nodeModel,m=u.anchorData,x=m.x,j=m.y,T=m.id,I=s.edgeType,W=o.state,Q=W.endX,ie=W.endY,oe=W.draging,ce=ra({x:Q,y:ie},s);if(o.preTargetNode&&o.preTargetNode.state!==St.DEFAULT&&o.preTargetNode.setElementState(St.DEFAULT),oe&&ce&&ce.node){var ge=ce.node,De=ce.anchor.id,Ee="".concat(d.id,"_").concat(ge.id,"_").concat(De,"_").concat(T),Ie=o.sourceRuleResults.get(Ee)||{},Be=Ie.isAllPass,Qe=Ie.msg,dt=o.targetRuleResults.get(Ee)||{},ht=dt.isAllPass,Ct=dt.msg;if(Be&&ht)ge.setElementState(St.DEFAULT),s.addEdge({type:I,sourceNodeId:d.id,sourceAnchorId:T,startPoint:{x,y:j},targetNodeId:ce.node.id,targetAnchorId:ce.anchor.id,endPoint:{x:ce.anchor.x,y:ce.anchor.y}});else{var Ht=ge.getData();s.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Ht,msg:Ct||Qe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new Zr({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,s=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,x=u.y,j=Qd(Qd({},s),s.hover);return Object($.g)("g",null,Object($.g)(ci,Aa({className:"lf-node-anchor-hover"},j,{x:m,y:x})),Object($.g)(ci,Aa({className:"lf-node-anchor"},s,{x:m,y:x})))}},{key:"moveAnchorEnd",value:function(o,u){var s=this.props,d=s.graphModel,m=s.nodeModel,x=s.anchorData,j=ra({x:o,y:u},d);if(j){var T=j.node,I=j.anchor.id;if(this.preTargetNode&&this.preTargetNode!==j.node&&this.preTargetNode.setElementState(St.DEFAULT),x.id===I)return;this.preTargetNode=T;var W="".concat(m.id,"_").concat(T.id,"_").concat(I,"_").concat(x.id);if(!this.targetRuleResults.has(W)){var Q=j.anchor,ie=m.isAllowConnectedAsSource(T,x,Q),oe=T.isAllowConnectedAsTarget(m,x,Q);this.sourceRuleResults.set(W,oa(ie)),this.targetRuleResults.set(W,oa(oe))}var ce=this.sourceRuleResults.get(W).isAllPass,ge=this.targetRuleResults.get(W).isAllPass;ce&&ge?T.setElementState(St.ALLOW_CONNECT):T.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,s=o.startY,d=o.endX,m=o.endY;return Wn(u,s,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,s=u.startX,d=u.startY,m=u.endX,x=u.endY,j=this.props,T=j.anchorData.edgeAddable,I=j.edgeStyle;return Object($.g)("g",{className:"lf-anchor"},Object($.g)("g",{onMouseDown:function(W){T!==!1&&o.dragHandler.handleMouseDown(W)}},this.getAnchorShape()),this.isShowLine()&&Object($.g)(Jr,Aa({x1:s,y1:d,x2:m,y2:x},I,{"pointer-events":"none"})))}}])&&M0(t.prototype,n),i}($.a);a(63);function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nh(Object(n),!0).forEach(function(r){z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function B0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return oh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ih(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,s=e.fill,d=s===void 0?"currentColor":s,m=e.overflowMode,x=m===void 0?"default":m,j=e.textWidth,T=j===void 0?"":j,I=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(De){var Ee=B0(De,2),Ie=Ee[0],Be=Ee[1];rh(Be)!=="object"&&(W[Ie]=Be)}),o){var Q=String(o).split(/[\r\n]/g),ie=Q.length;if(x!=="default"){var oe=I.BaseType,ce=I.modelType;if(oe===Ft.NODE&&ce!==pt.TEXT_NODE||oe===Ft.EDGE&&T)return function(De){var Ee=De.value,Ie=De.fontSize,Be=De.model,Qe=De.fontFamily,dt=Qe===void 0?"":Qe,ht=De.lineHeight,Ct=De.wrapPadding,Ht=Ct===void 0?"0, 0":Ct,un=De.overflowMode,ln=De.x,bn=De.y,br=Be.width,ro=Be.textHeight,mr=De.textWidth||br,wi=String(Ee).split(/[\r\n]/g),Ma=wi.length,Ca=kl({rows:wi,style:{fontSize:"".concat(Ie,"px"),width:"".concat(mr,"px"),fontFamily:dt,lineHeight:ht,padding:Ht},rowsLength:Ma,className:"lf-get-text-height"}),To=Be.height>Ca?Be.height:Ca;ro&&(To=ro);var No=un==="ellipsis";return Object($.g)("g",null,Object($.g)("foreignObject",{width:mr,height:To,x:ln-mr/2,y:bn-To/2},Object($.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:To,width:mr,padding:Ht}},Object($.g)("div",{className:No?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:L0({},De)},wi.map(function(Mr){return Object($.g)("div",{className:"lf-node-text--auto-wrap-inner"},Mr)})))))}(e)}if(ie>1){var ge=Q.map(function(De,Ee){var Ie=(Ee-(ie-1)/2)*(u+2);return Object($.g)("tspan",{className:"lf-text-tspan",x:n,y:i+Ie},De)});return Object($.g)("text",W,ge)}return Object($.g)("text",W,o)}}function ah(e){return(ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uh(){return(uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(e);if(t){var i=cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sh(o,u)})(i,e);var t,n,r=U0(i);function i(o){var u;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,i),to(Nr(u=r.call(this)),"dragHandler",void 0),to(Nr(u),"sumDeltaX",0),to(Nr(u),"sumDeltaY",0),to(Nr(u),"stepDrag",void 0),to(Nr(u),"onDraging",function(m){var x=m.deltaX,j=m.deltaY,T=u.props,I=T.model,W=F0(T.graphModel.transformModel.fixDeltaXY(x,j),2),Q=W[0],ie=W[1];I.moveText(Q,ie)}),to(Nr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(St.TEXT_EDIT)}),to(Nr(u),"mouseDownHandle",function(m){var x=u.props,j=x.draggable,T=x.graphModel.editConfigModel.nodeTextDraggable;(j||T)&&u.stepDrag.handleMouseDown(m)});var s=o.model,d=o.draggable;return u.stepDrag=new Zr({onDraging:u.onDraging,step:1,model:s,isStopPropagation:d}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.text,m=s.editConfigModel,x=d.value,j=d.x,T=d.y,I=d.editable,W=d.draggable,Q={x:j,y:T,className:"",value:x};I?Q.className="lf-element-text":W||m.nodeTextDraggable?Q.className="lf-text-draggable":Q.className="lf-text-disabled";var ie=u.getTextStyle();return Object($.g)(ih,uh({},Q,ie,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object($.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&H0(t.prototype,n),i}($.a),X0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,vi=new Map,fh=function(e){var t=vi.get(e);t&&(window.cancelAnimationFrame(t),vi.delete(e))};function ph(e){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ka(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function V0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(e);if(t){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y0(this,n)}}function Y0(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function qt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yr=function(e){(function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),s&&yh(u,s)})(o,e);var t,n,r,i=V0(o);function o(u){var s;(function(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),an(qt(s=i.call(this)),"t",void 0),an(qt(s),"moveOffset",void 0),an(qt(s),"stepDrag",void 0),an(qt(s),"contextMenuTime",void 0),an(qt(s),"startTime",void 0),an(qt(s),"clickTimer",void 0),an(qt(s),"onDragStart",function(T){var I=T.event,W=I.clientX,Q=I.clientY,ie=s.props,oe=ie.model,ce=ie.graphModel.getPointByClient({x:W,y:Q}).canvasOverlayPosition,ge=ce.x,De=ce.y;s.moveOffset={x:oe.x-ge,y:oe.y-De}}),an(qt(s),"onDraging",function(T){var I=T.event,W=s.props,Q=W.model,ie=W.graphModel,oe=ie.editConfigModel,ce=ie.transformModel,ge=ie.width,De=ie.height,Ee=ie.gridSize;Q.isDragging=!0;var Ie=I.clientX,Be=I.clientY,Qe=ie.getPointByClient({x:Ie,y:Be}).canvasOverlayPosition,dt=Qe.x,ht=Qe.y,Ct=ka(ce.CanvasPointToHtmlPoint([dt,ht]),2),Ht=Ct[0],un=Ct[1];if(!(Ht<0||un<0||Ht>ge||un>De)){dt+=s.moveOffset.x,ht+=s.moveOffset.y,dt=Oo(dt,Ee),ht=Oo(ht,Ee);var ln,bn,br,ro=ka(ce.CanvasPointToHtmlPoint([dt-Q.width/2,ht-Q.height/2]),2),mr=ro[0],wi=ro[1],Ma=ka(ce.CanvasPointToHtmlPoint([dt+Q.width/2,ht+Q.height/2]),2),Ca=Ma[0],To=Ma[1],No=Math.max(Ee,20),Mr=[];mr<0?Mr=[No,0]:Ca>ie.width?Mr=[-No,0]:wi<0?Mr=[0,No]:To>ie.height&&(Mr=[0,-No]),s.t&&fh(s.t),Mr.length>0&&!oe.stopMoveGraph?s.t=(ln=function(){var Ra=ka(Mr,2),Ia=Ra[0],Gy=Ra[1];ce.translate(Ia,Gy),ie.moveNode(Q.id,-Ia/ce.SCALE_X,-Gy/ce.SCALE_X)},bn=$r(),br=window.requestAnimationFrame(function Ra(){if(ln(),vi.get(bn)){var Ia=window.requestAnimationFrame(Ra);vi.set(bn,Ia)}}),vi.set(bn,br),bn):ie.moveNode2Coordinate(Q.id,dt,ht)}}),an(qt(s),"onDragEnd",function(){s.t&&fh(s.t),s.props.model.isDragging=!1}),an(qt(s),"handleClick",function(T){if(s.startTime&&!(new Date().getTime()-s.startTime>200)){var I=s.props,W=I.model,Q=I.graphModel,ie={data:W.getData(),e:T,position:Q.getPointByClient({x:T.clientX,y:T.clientY})},oe=T.button===2,ce=T.detail===2;if(!oe){var ge=Q.editConfigModel;Q.selectNodeById(W.id,ol(T,ge)),s.toFront(),ce?(ge.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),Q.setElementStateById(W.id,St.TEXT_EDIT)),Q.eventCenter.emit(tt.NODE_DBCLICK,ie)):(Q.eventCenter.emit(tt.ELEMENT_CLICK,ie),Q.eventCenter.emit(tt.NODE_CLICK,ie))}}}),an(qt(s),"handleContextMenu",function(T){T.preventDefault();var I=s.props,W=I.model,Q=I.graphModel,ie=W.getData(),oe=Q.getPointByClient({x:T.clientX,y:T.clientY});Q.setElementStateById(W.id,St.SHOW_MENU,oe.domOverlayPosition),Q.selectNodeById(W.id),Q.eventCenter.emit(tt.NODE_CONTEXTMENU,{data:ie,e:T,position:oe}),s.toFront()}),an(qt(s),"handleMouseDown",function(T){var I=s.props,W=I.model,Q=I.graphModel;s.toFront(),s.startTime=new Date().getTime(),Q.editConfigModel.adjustNodePosition&&W.draggable&&s.stepDrag&&s.stepDrag.handleMouseDown(T)}),an(qt(s),"setHoverON",function(T){if(!s.state.isHovered){s.setState({isHovered:!0});var I=s.props,W=I.model,Q=I.graphModel,ie=W.getData();W.setHovered(!0),Q.eventCenter.emit(tt.NODE_MOUSEENTER,{data:ie,e:T})}}),an(qt(s),"setHoverOFF",function(T){s.setState({isHovered:!1});var I=s.props,W=I.model,Q=I.graphModel,ie=W.getData();W.setHovered(!1),Q.eventCenter.emit(tt.NODE_MOUSELEAVE,{data:ie,e:T})}),an(qt(s),"onMouseOut",function(T){X0&&s.setHoverOFF(T)});var d=u.graphModel,m=d.gridSize,x=d.eventCenter,j=u.model;return s.stepDrag=new Zr({onDragStart:s.onDragStart,onDraging:s.onDraging,onDragEnd:s.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:x,model:j}),s.state={isHovered:!1},s}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,s=this.props,d=s.model,m=s.graphModel,x=d.isSelected,j=d.isHitable,T=d.isDragging,I=this.state.isHovered;if(j&&(x||I)&&!T){var W=d.getAnchorLineStyle();return Qi(d.anchors,function(Q,ie){var oe=d.getAnchorStyle(Q);return Object($.g)(I0,{anchorData:Q,node:u,style:oe,edgeStyle:W,anchorIndex:ie,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,s=u.model,d=u.graphModel;if(s.state===St.TEXT_EDIT)return"";if(s.text){var m=d.editConfigModel,x=!1;return(s.text.draggable||m.nodeTextDraggable)&&(x=!0),Object($.g)(lh,{editable:m.nodeTextEdit&&s.text.editable,model:s,graphModel:d,draggable:x})}}},{key:"getStateClassName",value:function(){var u=this.props.model,s=u.state,d=u.isDraging,m="lf-node";switch(s){case St.ALLOW_CONNECT:m+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return d&&(m+=" lf-isDragging"),m}},{key:"toFront",value:function(){var u=this.props,s=u.model,d=u.graphModel;d.overlapMode!==vn.INCREASE&&s.autoToFront&&d.toFront(s.id)}},{key:"render",value:function(){var u,s=this.props,d=s.model,m=s.graphModel,x=m.editConfigModel,j=x.hideAnchors,T=x.adjustNodePosition,I=m.gridSize,W=m.transformModel.SCALE_X,Q=d.isHitable,ie=d.draggable,oe=Object($.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return Q?(T&&ie&&this.stepDrag.setStep(I*W),u=Object($.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):u=Object($.g)("g",{className:this.getStateClassName()},oe),u}}])&&hh(t.prototype,n),r&&hh(t,r),o}($.a);function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(e);if(t){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q0(this,n)}}function q0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(i,e);var t,n,r=$0(i);function i(){return W0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)(kr,gh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&K0(t.prototype,n),i}(yr);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oh(){return(Oh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Q0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(e);if(t){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eO(this,n)}}function eO(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_h(o,u)})(i,e);var t,n,r=Q0(i);function i(){return Z0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.r,m=o.getNodeStyle();return Object($.g)(ci,Oh({},m,{x:u,y:s,r:d}))}}])&&J0(t.prototype,n),i}(yr);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var o=tO(i,2),u=o[0],s=o[1];wh(s)!=="object"&&(r[u]=s)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(i){return i.join(",")}).join(" "),Object($.g)("polygon",r)}function jh(e){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function oO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(e);if(t){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return iO(this,n)}}function iO(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(i,e);var t,n,r=oO(i);function i(){return nO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.width,m=o.height,x=o.points,j=o.getNodeStyle(),T={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(s-m/2,")")};return Object($.g)("g",T,Object($.g)(Eh,Sh({},j,{points:x,x:u,y:s})))}}])&&rO(t.prototype,n),i}(yr);function Ah(e){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function cO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vc(e);if(t){var i=vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Th(o,u)})(i,e);var t,n,r=cO(i);function i(){return aO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)("g",null,Object($.g)(Eh,kh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&uO(t.prototype,n),i}(yr);function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function lO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fO(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,s=e.ry,d=s===void 0?4:s,m=e.className,x={cx:n,cy:i,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var T=lO(j,2),I=T[0],W=T[1];Nh(W)!=="object"&&(x[I]=W)}),x.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object($.g)("ellipse",x)}function Mh(e){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ch(){return(Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function hO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bc(e);if(t){var i=bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rh(o,u)})(i,e);var t,n,r=hO(i);function i(){return pO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)(fO,Ch({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&dO(t.prototype,n),i}(yr);function Ih(e){return(Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){vO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function mO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oc(e);if(t){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bh(o,u)})(i,e);var t,n,r=mO(i);function i(){return gO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),s=o.text;if(s&&s.value&&u.background&&u.background.fill!=="transparnet"){var d=s.x,m=s.y,x=o.width,j=o.height,T=zh(zh({},u.background),{},{x:d,y:m-1,width:x,height:j});return Object($.g)(kr,T)}}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getBackgroud())}}])&&bO(t.prototype,n),i}(yr);function Fh(e){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function xO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wc(e);if(t){var i=wc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hh(o,u)})(i,e);var t,n,r=xO(i);function i(){var o;_O(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Ta(gi(o=r.call.apply(r,[this].concat(s))),"ref",void 0),Ta(gi(o),"currrentProperties",void 0),Ta(gi(o),"preProperties",void 0),Ta(gi(o),"setRef",function(m){o.ref=m}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object($.g)("foreignObject",{x:u-m/2,y:s-d/2,width:m,height:d,ref:this.setRef})}}])&&wO(t.prototype,n),i}(yr);function Uh(e){return(Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Po=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=jO(n,2),i=r[0],o=r[1];Uh(o)!=="object"&&(t[i]=o)}),Object($.g)("path",t)};function Xh(e){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yh(e,t){return(Yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function kO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ec(e);if(t){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yh(o,u)})(i,e);var t,n,r=kO(i);function i(){return PO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,s=o.style,d=u.start,m=u.end,x={start:d,end:m,offset:s.offset,verticalLength:s.verticalLength,type:"end"},j=oi(x),T=j.leftX,I=j.leftY,W=j.rightX,Q=j.rightY;return function(ie){for(var oe=1;oe<arguments.length;oe++){var ce=arguments[oe]!=null?arguments[oe]:{};oe%2?Vh(Object(ce),!0).forEach(function(ge){SO(ie,ge,ce[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ce)):Vh(Object(ce)).forEach(function(ge){Object.defineProperty(ie,ge,Object.getOwnPropertyDescriptor(ce,ge))})}return ie}({d:"M".concat(T," ").concat(I," L").concat(m.x," ").concat(m.y," L").concat(W," ").concat(Q," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,s=o.strokeWidth,d=o.stroke,m=o.fill;return Object($.g)(Po,{d:u,fill:m,strokeWidth:s,stroke:d})}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-arrow"},this.getShape())}}])&&AO(t.prototype,n),i}($.a);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $h(){return($h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){Pc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zh(e,t){return(Zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function DO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sc(e);if(t){var i=Sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sc(e){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er,CO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zh(o,u)})(i,e);var t,n,r=DO(i);function i(o){var u;return function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),Pc(jc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),Pc(jc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),s=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=no(no({},d),u.hover.background)),s&&s.value&&d.fill!=="transparnet"){var m,x=u.fontSize,j=u.overflowMode,T=u.lineHeight,I=u.wrapPadding,W=u.textWidth,Q=s.value,ie=s.x,oe=s.y,ce=String(Q).split(/[\r\n]/g),ge=ce.length;if(j==="autoWrap"&&W){var De=kl({rows:ce,style:{fontSize:"".concat(x,"px"),width:"".concat(W,"px"),lineHeight:T,padding:I},rowsLength:ge,className:"lf-get-text-height"});m=no(no({},d),{},{x:ie-1,y:oe-1,width:W,height:De})}else{ce&&ce.forEach(function(Qe){rf(Qe)});var Ee=wu({rows:ce,fontSize:x,rowsLength:ge}),Ie=Ee.width,Be=Ee.height;m=no(no({},d),{},{x:ie-1,y:oe-1,width:Ie,height:Be})}return Object($.g)(kr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,s=u.value,d=u.x,m=u.y;if(s){var x=no({x:d,y:m,className:"lf-element-text",value:s},o.getTextStyle());return Object($.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object($.g)(ih,$h({},x,{model:o})))}}}])&&NO(t.prototype,n),i}(lh);function Jh(e){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){In(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ty(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function LO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ac(e);if(t){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zO(this,n)}}function zO(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}function Rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(er||(er={}));var ry=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ny(o,u)})(i,e);var t,n,r=LO(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),In(Rn(o=r.call(this)),"dragHandler",void 0),In(Rn(o),"oldEdge",void 0),In(Rn(o),"preTargetNode",void 0),In(Rn(o),"targetRuleResults",void 0),In(Rn(o),"sourceRuleResults",void 0),In(Rn(o),"onDragStart",function(){var u=o.props,s=u.x,d=u.y,m=u.edgeModel,x=m.startPoint,j=m.endPoint,T=m.pointsList;o.oldEdge={startPoint:x,endPoint:j,pointsList:T},o.setState({endX:s,endY:d,draging:!0}),m.isHitable=!1}),In(Rn(o),"onDraging",function(u){var s=u.deltaX,d=u.deltaY,m=o.state,x=m.endX,j=m.endY,T=o.props,I=T.graphModel,W=T.type,Q=RO(I.transformModel.moveCanvasPointByHtml([x,j],s,d),2),ie=Q[0],oe=Q[1];o.setState({endX:ie,endY:oe,draging:!0});var ce=o.props.edgeModel,ge=ra({x,y:j},I);if(ge&&ge.node&&o.isAllowAdjust(ge)){var De,Ee=ce.startPoint,Ie=ce.endPoint,Be=ce.sourceNode,Qe=ce.targetNode;W===er.SOURCE?De={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Ie.x,y:Ie.y},sourceNode:ge.node,targetNode:Qe}:W===er.TARGET&&(De={startPoint:{x:Ee.x,y:Ee.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Be,targetNode:ge.node}),ce.updateAfterAdjustStartAndEnd(De)}else W===er.SOURCE?ce.updateStartPoint({x:ie,y:oe}):W===er.TARGET&&ce.updateEndPoint({x:ie,y:oe})}),In(Rn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var s=o.props,d=s.graphModel,m=s.edgeModel,x=s.type;m.isHitable=!0;var j=o.state,T=j.endX,I=j.endY,W=j.draging,Q=ra({x:T,y:I},d);if(W){if(Q&&Q.node&&o.isAllowAdjust(Q)){var ie,oe=m.getData(),ce=vr(vr({},oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(oe==null||(ie=oe.text)===null||ie===void 0?void 0:ie.value)||""});x===er.SOURCE?ce=vr(vr({},ce),{},{sourceNodeId:Q.node.id,sourceAnchorId:Q.anchor.id,startPoint:{x:Q.anchor.x,y:Q.anchor.y},targetNodeId:m.targetNodeId,endPoint:vr({},m.endPoint)}):x===er.TARGET&&(ce=vr(vr({},ce),{},{sourceNodeId:m.sourceNodeId,startPoint:vr({},m.startPoint),targetNodeId:Q.node.id,targetAnchorId:Q.anchor.id,endPoint:{x:Q.anchor.x,y:Q.anchor.y}})),d.deleteEdgeById(m.id);var ge=d.addEdge(vr({},ce));d.eventCenter.emit(tt.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(St.DEFAULT)}}),In(Rn(o),"recoveryEdge",function(){var u=o.props.edgeModel,s=o.oldEdge,d=s.startPoint,m=s.endPoint,x=s.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==pt.LINE_EDGE&&(u.pointsList=x,u.initPoints())}),In(Rn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Cu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,s=u.edgeModel,d=(s.id,s.sourceNode),m=s.targetNode,x=s.sourceAnchorId,j=s.targetAnchorId,T=u.type,I=null,W=null,Q=null,ie=null;if(T===er.SOURCE?(I=o.node,W=m,Q=o.anchor,ie=m.getAnchorInfo(j)):(I=d,W=o.node,ie=o.anchor,Q=d.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=o.node,ie.id===Q.id)return!1;var oe="".concat(I.id,"_").concat(W.id,"_").concat(Q.id,"_").concat(ie.id);if(!this.targetRuleResults.has(oe)){var ce=I.isAllowConnectedAsSource(W,Q,ie),ge=W.isAllowConnectedAsTarget(I,Q,ie);this.sourceRuleResults.set(oe,oa(ce)),this.targetRuleResults.set(oe,oa(ge))}var De=this.sourceRuleResults.get(oe).isAllPass,Ee=this.targetRuleResults.get(oe).isAllPass,Ie=De&&Ee?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return T===er.SOURCE?I.setElementState(Ie):W.setElementState(Ie),De&&Ee}},{key:"render",value:function(){var o=this.props,u=o.x,s=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object($.g)("g",null,Object($.g)(ci,Qh({className:"lf-edge-adjust-point"},m,{x:u,y:s,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&IO(t.prototype,n),i}($.a);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kc(){return(kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iy(Object(n),!0).forEach(function(r){zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function HO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tc(e);if(t){var i=Tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return UO(this,n)}}function UO(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(i,e);var t,n,r=HO(i);function i(){var o;BO(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return zn(Ln(o=r.call.apply(r,[this].concat(s))),"startTime",void 0),zn(Ln(o),"contextMenuTime",void 0),zn(Ln(o),"clickTimer",void 0),zn(Ln(o),"handleHover",function(m,x){var j=o.props,T=j.model,I=j.graphModel.eventCenter;T.setHovered(m);var W=m?tt.EDGE_MOUSEENTER:tt.EDGE_MOUSELEAVE,Q=T.getData();I.emit(W,{data:Q,e:x})}),zn(Ln(o),"setHoverON",function(m){o.handleHover(!0,m)}),zn(Ln(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),zn(Ln(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,j=x.model,T=x.graphModel,I=T.getPointByClient({x:m.clientX,y:m.clientY});T.setElementStateById(j.id,St.SHOW_MENU,I.domOverlayPosition),o.toFront(),T.selectEdgeById(j.id);var W=j==null?void 0:j.getData();T.eventCenter.emit(tt.EDGE_CONTEXTMENU,{data:W,e:m,position:I})}),zn(Ln(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),zn(Ln(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var x=m.detail===2,j=o.props,T=j.model,I=j.graphModel,W=T==null?void 0:T.getData(),Q=I.getPointByClient({x:m.clientX,y:m.clientY});if(x){var ie=I.editConfigModel,oe=I.textEditElement;if(oe&&oe.id===T.id&&I.setElementStateById(T.id,St.DEFAULT),ie.edgeTextEdit&&T.text.editable&&I.setElementStateById(T.id,St.TEXT_EDIT),T.modelType===pt.POLYLINE_EDGE){var ce=T,ge=I.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,De=ge.x,Ee=ge.y,Ie=af({x:De,y:Ee},ce.points);ce.dbClickPosition=Ie}I.eventCenter.emit(tt.EDGE_DBCLICK,{data:W,e:m,position:Q})}else I.eventCenter.emit(tt.ELEMENT_CLICK,{data:W,e:m,position:Q}),I.eventCenter.emit(tt.EDGE_CLICK,{data:W,e:m,position:Q});var Be=I.editConfigModel;I.selectEdgeById(T.id,ol(m,Be)),o.toFront()}}),zn(Ln(o),"getIsDraging",function(){return!1}),o}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,s=o.graphModel;if(u.state===St.TEXT_EDIT)return"";var d=!1,m=s.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object($.g)(CO,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:s,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,s=o.endPoint,d=o.isSelected;return{start:u,end:s,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.getEdgeStyle(),m=s.theme.arrow;return ay(ay({},d),{},{fill:d.stroke},m)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,s=o.end;if(u&&s&&(u.x!==s.x||u.y!==s.y)){var d=this.getArrowStyle();return Object($.g)(Wh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object($.g)("g",null,Object($.g)(ry,kc({type:"SOURCE"},d,{edgeModel:u,graphModel:s})),Object($.g)(ry,kc({type:"TARGET"},m,{edgeModel:u,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object($.g)("g",null)}},{key:"getAppend",value:function(){return Object($.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,s=o.model;u.overlapMode!==vn.INCREASE&&u.toFront(s.id)}},{key:"render",value:function(){var o=this.props,u=o.model,s=u.isSelected,d=u.isHitable,m=o.graphModel,x=this.getIsDraging(),j=m.editConfigModel.adjustEdgeStartAndEnd,T=m.animation,I=s&&T.edge&&m.getSelectElements().edges.length===1;return Object($.g)("g",null,Object($.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),I&&this.getAnimation(),this.getText(),this.getArrow()),j&&s&&!x?this.getAdjustPoints():"")}}])&&FO(t.prototype,n),i}($.a);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nc(){return(Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function VO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dc(e);if(t){var i=Dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return YO(this,n)}}function YO(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sy(o,u)})(i,e);var t,n,r=VO(i);function i(){return GO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,s=o.endPoint,d=o.getEdgeStyle();return Object($.g)(Jr,Nc({},d,{x1:u.x,y1:u.y,x2:s.x,y2:s.y}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.startPoint,j=o.endPoint,T=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Jr,Nc({},T,{x1:x.x,y1:x.y,x2:j.x,y2:j.y,className:d,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(T){var I,W=T.start,Q=T.end;if(W.x===Q.x&&W.y===Q.y)I="";else{var ie={start:W,end:Q,offset:10,verticalLength:5},oe=oi(ua(ua({},ie),{},{type:"start"})),ce=oi(ua(ua({},ie),{},{type:"end"}));I="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(ce.rightX," ").concat(ce.rightY,`
    L`).concat(ce.leftX," ").concat(ce.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),s=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,j=u.stroke;return Object($.g)(Po,{d:s,fill:m,strokeWidth:d,stroke:j,strokeDasharray:x})}}])&&XO(t.prototype,n),i}(bi);function ly(e){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function WO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return fy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var py=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=WO(n,2),i=r[0],o=r[1];ly(o)!=="object"&&(t[i]=o)}),Object($.g)("polyline",t)};function dy(e){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(r){nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cc(){return(Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function KO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function qO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rc(e);if(t){var i=Rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ic=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vy(o,u)})(i,e);var t,n,r=qO(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),nr(tr(o=r.call(this)),"drag",void 0),nr(tr(o),"isDraging",void 0),nr(tr(o),"appendInfo",void 0),nr(tr(o),"dragHandler",void 0),nr(tr(o),"onDragStart",function(){o.props.model.dragAppendStart()}),nr(tr(o),"onDraging",function(u){var s=u.deltaX,d=u.deltaY,m=o.props,x=m.model,j=m.graphModel;o.isDraging=!0;var T=j.transformModel,I=j.editConfigModel,W=KO(T.fixDeltaXY(s,d),2),Q=W[0],ie=W[1],oe=x,ce=I.adjustEdgeMiddle;o.appendInfo=ce?oe.dragAppendSimple(o.appendInfo,{x:Q,y:ie}):oe.dragAppend(o.appendInfo,{x:Q,y:ie})}),nr(tr(o),"onDragEnd",function(){var u=o.props,s=u.model,d=u.graphModel.eventCenter,m=s;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(tt.EDGE_ADJUST,{data:m.getData()})}),nr(tr(o),"beforeDragStart",function(u,s){s.dragAble&&o.dragHandler(u),o.appendInfo=s}),nr(tr(o),"getIsDraging",function(){return o.isDraging}),o.drag=Cu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object($.g)(py,Cc({points:o.points},u))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(py,Cc({points:o.points},x,{className:d,strokeDasharray:m,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,s=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:s},m=_o(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,s=o.start,d=o.end;if(s.x===d.x&&s.y===d.y)u="";else{var m={start:s,end:d,offset:10,verticalLength:5},x=oi(Na(Na({},m),{},{type:"start"})),j=oi(Na(Na({},m),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),s=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,j=u.stroke;return Object($.g)(Po,{d:s,fill:m,strokeWidth:d,stroke:j,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,s=u.model,d=u.graphModel,m=s.pointsList,x=s.draggable,j=[],T=m.length,I=function(Q){var ie="lf-polyline-append",oe={start:{x:m[Q].x,y:m[Q].y},end:{x:m[Q+1].x,y:m[Q+1].y},startIndex:Q,endIndex:Q+1,direction:"",dragAble:!0},ce=Object($.g)("g",{className:ie},o.getAppendShape(oe)),ge=d.editConfigModel,De=ge.adjustEdge,Ee=ge.adjustEdgeMiddle;if(De&&x){o.dragHandler=o.drag;var Ie=oe.startIndex,Be=oe.endIndex,Qe=Ee&&(Ie===0||Be===T-1);oe.dragAble=!Qe,oe.start.x===oe.end.x?(oe.dragAble&&(ie+="-ew-resize"),oe.direction=Tt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ie+="-ns-resize"),oe.direction=Tt.HORIZONTAL),ce=Object($.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(dt){return o.beforeDragStart(dt,oe)}},Object($.g)("g",{className:ie},o.getAppendShape(oe)))}else o.dragHandler=function(){};j.push(ce)},W=0;W<T-1;W++)I(W);return Object($.g)("g",null,j)}}])&&$O(t.prototype,n),i}(bi);function gy(e){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function JO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lc(){return(Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function t_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zc(e);if(t){var i=zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function zc(e){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Bc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&my(o,u)})(i,e);var t,n,r=t_(i);function i(){return QO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object($.g)(Po,Lc({d:o.path},u))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Po,Lc({d:o.path},x,{className:d,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object($.g)(Po,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,s=o,d=s.path,m=s.isSelected,x=JO(function(j){var T=da(j);return[T[2],T[3]]}(d),2);return{start:x[0],end:x[1],hover:u,isSelected:m}}}])&&e_(t.prototype,n),i}(bi),Oy=function(e,t){return v(e,t)},r_=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Fc=function(){return Ue.a.Date.now()},o_=/\s/,i_=function(e){for(var t=e.length;t--&&o_.test(e.charAt(t)););return t},a_=/^\s+/,u_=function(e){return e&&e.slice(0,i_(e)+1).replace(a_,"")},c_=/^[-+]0x[0-9a-f]+$/i,s_=/^0b[01]+$/i,l_=/^0o[0-7]+$/i,f_=parseInt,_y=function(e){if(typeof e=="number")return e;if(re(e))return NaN;if(Nt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=u_(e);var n=s_.test(e);return n||l_.test(e)?f_(e.slice(2),n?2:8):c_.test(e)?NaN:+e},p_=Math.max,d_=Math.min,h_=function(e,t,n){var r,i,o,u,s,d,m=0,x=!1,j=!1,T=!0;if(typeof e!="function")throw new TypeError("Expected a function");function I(ge){var De=r,Ee=i;return r=i=void 0,m=ge,u=e.apply(Ee,De)}function W(ge){return m=ge,s=setTimeout(ie,t),x?I(ge):u}function Q(ge){var De=ge-d;return d===void 0||De>=t||De<0||j&&ge-m>=o}function ie(){var ge=Fc();if(Q(ge))return oe(ge);s=setTimeout(ie,function(De){var Ee=t-(De-d);return j?d_(Ee,o-(De-m)):Ee}(ge))}function oe(ge){return s=void 0,T&&r?I(ge):(r=i=void 0,u)}function ce(){var ge=Fc(),De=Q(ge);if(r=arguments,i=this,d=ge,De){if(s===void 0)return W(d);if(j)return clearTimeout(s),s=setTimeout(ie,t),I(d)}return s===void 0&&(s=setTimeout(ie,t)),u}return t=_y(t)||0,Nt(n)&&(x=!!n.leading,o=(j="maxWait"in n)?p_(_y(n.maxWait)||0,t):o,T="trailing"in n?!!n.trailing:T),ce.cancel=function(){s!==void 0&&clearTimeout(s),m=0,r=d=i=s=void 0},ce.flush=function(){return s===void 0?u:oe(Fc())},ce},y_=a(165);function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wy,xy,Ey,g_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Dr(this,"undos",[]),Dr(this,"redos",[]),Dr(this,"callbacks",[]),Dr(this,"stopWatch",null),Dr(this,"curData",null),Dr(this,"maxSize",50),Dr(this,"waitTime",100),Dr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Oy(r_(this.undos),r)||(this.undos.push(r),Oy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Dt(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(y_.a)(r,h_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&v_(t.prototype,n),e}();function jy(e){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Sy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hc(e);if(t){var i=Hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}function mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hc(e){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ty,Ny,Dy,Uc=Bn((Ey=xy=function(e){(function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),s&&ky(u,s)})(o,e);var t,n,r,i=m_(o);function o(){var u;return function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),ko(mi(u=i.call(this)),"ref",Object($.f)()),ko(mi(u),"__prevText",{type:"",text:"",id:""}),ko(mi(u),"keyupHandler",function(s){var d=u.props.graphModel.textEditElement;s.key==="Enter"&&s.altKey&&d.setElementState(0)}),ko(mi(u),"inputHandler",function(s){var d=s.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var s,d=u.graphModel,m=d.transformModel,x=d.theme,j=d.textEditElement;if(j){var T;if((T=j.text)===null||T===void 0||!T.value)if(j.BaseType===Ft.EDGE){var I=(j=j).text,W=j.textPosition,Q=W.x,ie=W.y;I.x=Q,I.y=ie,j.setText(I)}else j=j;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===Ft.EDGE){var ce=x.edgeText,ge=ce.overflowMode,De=ce.lineHeight,Ee=ce.wrapPadding,Ie=ce.textWidth;Ie&&ge==="autoWrap"&&(s=Ao(Ao({},oe),{},{width:Ie,minWidth:Ie,lineHeight:De,padding:Ee}))}else if(j.BaseType===Ft.NODE){var Be=x.nodeText,Qe=Be.overflowMode,dt=Be.lineHeight,ht=Be.wrapPadding,Ct=Be.textWidth,Ht=j,un=Ht.width,ln=Ht.modelType;(ln!==pt.TEXT_NODE&&Qe==="autoWrap"||ln===pt.TEXT_NODE&&Ct)&&(s=Ao(Ao({},oe),{},{width:Ct||un,minWidth:Ct||un,lineHeight:dt,padding:ht}))}var bn=j.text,br=bn.x,ro=bn.y,mr=b_(m.CanvasPointToHtmlPoint([br,ro]),2);return{style:Ao({left:mr[0],top:mr[1]},s)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,s=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,x=d.nodeTextEdit;(m||x)&&s.on("".concat(tt.GRAPH_TRANSFORM,",").concat(tt.NODE_CLICK,",").concat(tt.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(St.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var s=this.__prevText,d=s.text,m=s.id;u.updateText(m,d),u.eventCenter.emit(tt.TEXT_UPDATE,Ao({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var s=document.createRange();s.selectNodeContents(u),s.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(s)}}},{key:"render",value:function(){var u,s=this.props.graphModel.textEditElement,d=this.state.style;return s?Object($.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:s.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},(u=s.text)===null||u===void 0?void 0:u.value):null}}])&&Ay(t.prototype,n),r&&Ay(t,r),o}($.a),ko(xy,"toolName","textEdit"),wy=Ey))||wy,__=function(e){return e.modelType===pt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,s=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-s/2,x1:i+u/2,y1:o+s/2}}(e):e.modelType===pt.POLYLINE_EDGE?function(t){var n=t.points,r=_o(n),i=ii(r,8),o=i.x,u=i.y,s=i.width,d=i.height;return{x:o-s/2,y:u-d/2,x1:o+s/2,y1:u+d/2}}(e):e.modelType===pt.BEZIER_EDGE?function(t){var n=t.path,r=da(n),i=ii(r,8),o=i.x,u=i.y,s=i.width,d=i.height;return{x:o-s/2,y:u-d/2,x1:o+s/2,y1:u+d/2}}(e):void 0};function My(e){return(My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||Ry(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w_(e){return function(t){if(Array.isArray(t))return Gc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ry(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ry(e,t){if(e){if(typeof e=="string")return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,t):void 0}}function Gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return(Iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function E_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j_(this,n)}}function j_(e,t){if(t&&(My(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}function Oi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc=Bn((Dy=Ny=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Iy(o,u)})(i,e);var t,n,r=E_(i);function i(o){var u;(function(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")})(this,i),_i(Oi(u=r.call(this)),"stepDrag",void 0),_i(Oi(u),"handleMouseDown",function(x){u.stepDrag.handleMouseDown(x)}),_i(Oi(u),"onDraging",function(x){var j=x.deltaX,T=x.deltaY,I=u.props.graphModel,W=I.getSelectElements(!0);I.moveNodes(W.nodes.map(function(Q){return Q.id}),j,T)}),_i(Oi(u),"handleContextMenu",function(x){x.preventDefault();var j=u.props,T=j.graphModel,I=j.graphModel,W=I.eventCenter,Q=I.selectElements,ie=T.getPointByClient({x:x.clientX,y:x.clientY}),oe={nodes:[],edges:[]};w_(Q.values()).forEach(function(ce){ce.BaseType===Ft.NODE&&oe.nodes.push(ce.getData()),ce.BaseType===Ft.EDGE&&oe.edges.push(ce.getData())}),W.emit(tt.SELECTION_CONTEXTMENU,{data:oe,e:x,position:ie})});var s=o.graphModel,d=s.gridSize,m=s.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,s=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;u.forEach(function(Q){var ie={x:0,y:0,x1:0,y1:0};Q.BaseType===Ft.NODE&&(ie=function(oe){var ce=oe.x,ge=oe.y,De=oe.width,Ee=oe.height;return{x:ce-De/2,y:ge-Ee/2,x1:ce+De/2,y1:ge+Ee/2}}(Q)),Q.BaseType===Ft.EDGE&&(ie=__(Q)),d=Math.min(d,ie.x),m=Math.min(m,ie.y),x=Math.max(x,ie.x1),j=Math.max(j,ie.y1)});var T=Cy(s.CanvasPointToHtmlPoint([d,m]),2);d=T[0],m=T[1];var I=Cy(s.CanvasPointToHtmlPoint([x,j]),2);x=I[0],j=I[1];var W={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(j-m+20,"px")};return Object($.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&x_(t.prototype,n),i}($.a),_i(Ny,"toolName","multipleSelect"),Ty=Dy))||Ty;function S_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Da(this,"tools",void 0),Da(this,"components",void 0),Da(this,"toolMap",new Map),Da(this,"instance",void 0),this.instance=r,this.isDisabledTool(Uc.toolName)||this.registerTool(Uc.toolName,Uc),this.isDisabledTool(Vc.toolName)||this.registerTool(Vc.toolName,Vc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&S_(t.prototype,n),e}(),A_=a(166),k_=a.n(A_);function T_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Yc(this,"mousetrap",void 0),Yc(this,"options",void 0),Yc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new k_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Ut(i))i.forEach(function(d){var m=d.keys,x=d.callback,j=d.action;return r.on(m,x,j)});else{var o=i.keys,u=i.callback,s=i.action;this.on(o,u,s)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&T_(t.prototype,n),e}(),N_=Ly,gr=null;function zy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function By(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Fy(e){return(Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Mt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kc=function(){function e(i){var o,u,s=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Mt(this,"container",void 0),Mt(this,"width",void 0),Mt(this,"height",void 0),Mt(this,"graphModel",void 0),Mt(this,"history",void 0),Mt(this,"viewMap",new Map),Mt(this,"tool",void 0),Mt(this,"keyboard",void 0),Mt(this,"dnd",void 0),Mt(this,"options",void 0),Mt(this,"snaplineModel",void 0),Mt(this,"components",[]),Mt(this,"plugins",void 0),Mt(this,"extension",{}),Mt(this,"adapterIn",void 0),Mt(this,"adapterOut",void 0),Mt(this,"getView",function(d){return s.viewMap.get(d)}),i=bp(i),this.options=i,this.container=i.container,this.plugins=i.plugins,this.graphModel=new Hb(Wc({},i)),this.tool=new P_(this),this.history=new g_(this.graphModel.eventCenter),this.dnd=new Lm({lf:this}),this.keyboard=new N_({lf:this,keyboard:i.keyboard}),i.isSilentMode||i.snapline===!1||(this.snaplineModel=new qd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var x=d.keyboard,j=x.options.keyboard;x.on(["cmd + c","ctrl + c"],function(){if(j.enabled&&!m.textEditElement){var T=d.options.guards,I=m.getSelectElements(!1);return T&&T.beforeClone&&!T.beforeClone(I)?(gr=null,!1):((gr=I).nodes.forEach(function(W){return zy(W,40)}),gr.edges.forEach(function(W){return By(W,40)}),!1)}}),x.on(["cmd + v","ctrl + v"],function(){if(j.enabled&&!m.textEditElement){if(gr&&(gr.nodes||gr.edges)){d.clearSelectElements();var T=d.addElements(gr);if(!T)return;T.nodes.forEach(function(I){return d.selectElementById(I.id,!0)}),T.edges.forEach(function(I){return d.selectElementById(I.id,!0)}),gr.nodes.forEach(function(I){return zy(I,40)}),gr.edges.forEach(function(I){return By(I,40)})}return!1}}),x.on(["cmd + z","ctrl + z"],function(){if(j.enabled&&!m.textEditElement)return d.undo(),!1}),x.on(["cmd + y","ctrl + y"],function(){if(j.enabled&&!m.textEditElement)return d.redo(),!1}),x.on(["backspace"],function(){if(j.enabled&&!m.textEditElement){var T=m.getSelectElements(!0);return d.clearSelectElements(),T.edges.forEach(function(I){return d.deleteEdge(I.id)}),T.nodes.forEach(function(I){return d.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var s={BaseEdge:bi,BaseEdgeModel:Eu,BaseNode:yr,BaseNodeModel:dr,RectNode:fc,RectNodeModel:nc,CircleNode:dc,CircleNodeModel:qu,PolygonNode:yc,PolygonNodeModel:tc,TextNode:_c,TextNodeModel:rc,LineEdge:Mc,LineEdgeModel:Su,DiamondNode:gc,DiamondNodeModel:Ju,PolylineEdge:Ic,PolylineEdgeModel:Au,BezierEdge:Bc,BezierEdgeModel:Ku,EllipseNode:mc,EllipseNodeModel:Qu,HtmlNode:xc,HtmlNodeModel:ic,h:$.g,type:i};this.viewMap.forEach(function(T){var I=T.extendKey;I&&(s[I]=T)}),this.graphModel.modelMap.forEach(function(T){var I=T.extendKey;I&&(s[I]=T)});var d=o(s),m=d.view,x=d.model,j=m;u&&!j.isObervered&&(j.isObervered=!0,j=ye(j)),this.setView(i,j),this.graphModel.setModel(i,x)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=ye(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:fc,model:nc,type:"rect"}),this.registerElement({type:"circle",view:dc,model:qu}),this.registerElement({type:"polygon",view:yc,model:tc}),this.registerElement({type:"line",view:Mc,model:Su}),this.registerElement({type:"polyline",view:Ic,model:Au}),this.registerElement({type:"bezier",view:Bc,model:Ku}),this.registerElement({type:"text",view:_c,model:rc}),this.registerElement({type:"ellipse",view:mc,model:Qu}),this.registerElement({type:"diamond",view:gc,model:Ju}),this.registerElement({type:"html",view:xc,model:ic})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o),o||this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,s=i.id;if(!u){var d=this.getNodeModelById(s);d&&(u=d.getData());var m=this.getEdgeModelById(s);m&&(u=m.textPosition)}var x=u,j=x.x,T=x.y;o.focusOn(j,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.options.width=i!=null?i:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(i,o)}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,s,d=this.getModelById(i);return!!d&&(u=(s=(Mt(o={},Ft.NODE,this.deleteNode),Mt(o,Ft.EDGE,this.deleteEdge),o)[d.BaseType])===null||s===void 0?void 0:s.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){return this.graphModel.getElement(i).getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),s=this.options.guards,d=!s||!s.beforeDelete||s.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){return this.graphModel.getNodeModelById(i).getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var s=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(s);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,s=i.targetNodeId;if(u&&s){var d=[];return o.forEach(function(j){j.sourceNodeId===u&&j.targetNodeId===s&&d.push(j)}),d}if(u){var m=[];return o.forEach(function(j){j.sourceNodeId===u&&m.push(j)}),m}if(s){var x=[];return o.forEach(function(j){j.targetNodeId===s&&x.push(j)}),x}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(Kn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,s=i.edges,d={},m={nodes:[],edges:[]},x=0;x<u.length;x++){var j=u[x],T=j.id,I=this.addNode(j);if(!I)return;T&&(d[T]=I.id),m.nodes.push(I)}return s.forEach(function(W){var Q=W.sourceNodeId,ie=W.targetNodeId;d[Q]&&(W.sourceNodeId=d[Q]),d[ie]&&(W.targetNodeId=d[ie]);var oe=o.graphModel.addEdge(W);m.edges.push(oe)}),m}},{key:"getAreaElement",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(i,o,u,s).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=Kn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=Kn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(i){this.graphModel.fitView(i)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;s.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(Fy(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var s=i,d=new s({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[s.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(Wc(Wc({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"renderRawData",value:function(i){this.graphModel.graphDataToModel(Kn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object($.j)(Object($.g)(Rm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.renderRawData(i)}}])&&Uy(t.prototype,n),r&&Uy(t,r),e}();function Bn(e){return ye(e)}Mt(Kc,"extensions",new Map),p.default=Kc}])})})($e,$e.exports);var B1=v1($e.exports);function F1(h,y){return y={exports:{}},h(y,y.exports),y.exports}var H1=F1(function(h){var y=h.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(p),f=2;a===1/0;f*=2)a=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var l=a-Math.floor(a),b="",f=0;f<Math.floor(a);f++){var O=Math.floor(Math.random()*p).toString(p);b=O+b}if(l){var w=Math.pow(p,l),O=Math.floor(Math.random()*w).toString(p);b=O+b}var _=parseInt(b,p);return _!==1/0&&_>=Math.pow(2,c)?y(c,p):b};y.rack=function(c,p,a){var f=function(b){var O=0;do{if(O++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var w=y(c,p)}while(Object.hasOwnProperty.call(l,w));return l[w]=b,w},l=f.hats={};return f.get=function(b){return f.hats[b]},f.set=function(b,O){return f.hats[b]=O,f},f.bits=c||128,f.base=p||16,f}});function rr(h){if(!(this instanceof rr))return new rr(h);h=h||[128,36,1],this._seed=h.length?H1.rack(h[0],h[1],h[2]):h}rr.prototype.next=function(h){return this._seed(h||!0)};rr.prototype.nextPrefixed=function(h,y){var c;do c=h+this.next(!0);while(this.assigned(c));return this.claim(c,y),c};rr.prototype.claim=function(h,y){this._seed.set(h,y||!0)};rr.prototype.assigned=function(h){return this._seed.get(h)||!1};rr.prototype.unclaim=function(h){delete this._seed.hats[h]};rr.prototype.clear=function(){var h=this._seed.hats,y;for(y in h)this.unclaim(y)};var U1=new rr([32,32,1]);function Lo(){return U1.next()}var jv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),G1=function(h){jv(y,h);function y(c,p){var a=this;return c.id||(c.id="Event_"+Lo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=h.call(this,c,p)||this,a}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var c=h.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="StartEventModel",y}($e.exports.CircleNodeModel),X1=function(h){jv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}($e.exports.CircleNode),V1={type:"bpmn:startEvent",view:X1,model:G1},Sv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},Ba.apply(this,arguments)},Y1=function(h){Sv(y,h);function y(c,p){var a=this;return c.id||(c.id="Event_"+Lo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=h.call(this,c,p)||this,a}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var c=h.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="EndEventModel",y}($e.exports.CircleNodeModel),W1=function(h){Sv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),a=c.x,f=c.y,l=c.r,b=h.prototype.getShape.call(this);return $e.exports.h("g",{},b,$e.exports.h("circle",Ba(Ba({},p),{cx:a,cy:f,r:l-5})))},y.extendKey="EndEventView",y}($e.exports.CircleNode),K1={type:"bpmn:endEvent",view:W1,model:Y1},Pv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Si=globalThis&&globalThis.__assign||function(){return Si=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},Si.apply(this,arguments)},$1=function(h){Pv(y,h);function y(c,p){var a=this;return c.id||(c.id="Gateway_"+Lo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=h.call(this,c,p)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return y.extendKey="ExclusiveGatewayModel",y}($e.exports.PolygonNodeModel),q1=function(h){Pv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.points,O=c.getNodeStyle();return $e.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(a-l/2)+")"},$e.exports.h("polygon",Si(Si({},O),{x:p,y:a,points:b})),$e.exports.h("path",Si({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},O)))},y.extendKey="ExclusiveGatewayNode",y}($e.exports.PolygonNode),Z1={type:"bpmn:exclusiveGateway",view:q1,model:$1},Av=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},Fa.apply(this,arguments)},J1=function(h){Av(y,h);function y(c,p){var a=this;return c.id||(c.id="Activity_"+Lo()),a=h.call(this,c,p)||this,a}return y.extendKey="UserTaskModel",y}($e.exports.RectNodeModel),Q1=function(h){Av(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.getNodeStyle();return $e.exports.h("svg",{x:p-f/2+5,y:a-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},$e.exports.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.radius,O=c.getNodeStyle();return $e.exports.h("g",{},[$e.exports.h("rect",Fa(Fa({},O),{x:p-f/2,y:a-l/2,rx:b,ry:b,width:f,height:l})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}($e.exports.RectNode),ew={type:"bpmn:userTask",view:Q1,model:J1},kv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ts=globalThis&&globalThis.__assign||function(){return ts=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},ts.apply(this,arguments)},tw=function(h){kv(y,h);function y(c,p){var a=this;return c.id||(c.id="Activity_"+Lo()),a=h.call(this,c,p)||this,a}return y.extendKey="ServiceTaskModel",y}($e.exports.RectNodeModel),nw=function(h){kv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.getNodeStyle();return $e.exports.h("svg",{x:p-f/2+5,y:a-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},$e.exports.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.radius,O=c.getNodeStyle();return $e.exports.h("g",{},[$e.exports.h("rect",ts({x:p-f/2,y:a-l/2,rx:b,ry:b,width:f,height:l},O)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}($e.exports.RectNode),rw={type:"bpmn:serviceTask",view:nw,model:tw},Tv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ow=function(h){Tv(y,h);function y(c,p){var a=this;return c.id||(c.id="Flow_"+Lo()),a=h.call(this,c,p)||this,a}return y.extendKey="SequenceFlowModel",y}($e.exports.PolylineEdgeModel),iw=function(h){Tv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}($e.exports.PolylineEdge),aw={type:"bpmn:sequenceFlow",view:iw,model:ow},qy={width:40,height:40},Zy={width:40,height:40},Jy={width:40,height:40},Qy={width:100,height:80},ev={width:100,height:80},uw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},cw=function(){function h(y){var c=y.lf;c.setTheme(uw),c.register(V1),c.register(K1),c.register(Z1),c.register(ew),c.register(rw),c.options.customBpmnEdge||(c.register(aw),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return h.pluginName="bpmnElement",h}(),sw=new rr([32,32,1]);function tv(){return sw.next()}var pn=function(){};pn.ObjTree=function(){return this};pn.ObjTree.VERSION="0.23";pn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pn.ObjTree.prototype.attr_prefix="-";pn.ObjTree.prototype.parseXML=function(h){var y;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(h,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(h),y=c.documentElement);if(!!y)return this.parseDOM(y)};pn.ObjTree.prototype.parseHTTP=function(h,y,c){var p={};for(var a in y)p[a]=y[a];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,l=c,b=p.onComplete;p.onComplete=function(_){var S;_&&_.responseXML&&_.responseXML.documentElement&&(S=f.parseDOM(_.responseXML.documentElement)),l(S,_),b&&b(_)}}else p.asynchronous=!1;var O;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=h;var w=new HTTP.Request(p);w&&(O=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(h,p);w&&(O=w.transport)}if(c)return O;if(O&&O.responseXML&&O.responseXML.documentElement)return this.parseDOM(O.responseXML.documentElement)};pn.ObjTree.prototype.parseDOM=function(h){if(!!h){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var c=this.parseElement(h);if(this.__force_array[h.nodeName]&&(c=[c]),h.nodeType!=11){var p={};p[h.nodeName]=c,c=p}return c}};pn.ObjTree.prototype.parseElement=function(h){if(h.nodeType!=7){if(h.nodeType==3||h.nodeType==4){var y=h.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:h.nodeValue}var c,p={};if(h.attributes&&h.attributes.length){c={};for(var a=0;a<h.attributes.length;a++){var f=h.attributes[a].nodeName;if(typeof f=="string"){var l=h.attributes[a].nodeValue;!l||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],l))}}}if(h.childNodes&&h.childNodes.length){var b=!0;c&&(b=!1);for(var a=0;a<h.childNodes.length&&b;a++){var O=h.childNodes[a].nodeType;O==3||O==4||(b=!1)}if(b){c||(c="");for(var a=0;a<h.childNodes.length;a++)c+=h.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<h.childNodes.length;a++){var f=h.childNodes[a].nodeName;if(typeof f=="string"){var l=this.parseElement(h.childNodes[a]);!l||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],l))}}}}return c}};pn.ObjTree.prototype.addNode=function(h,y,c,p){this.__force_array[y]?(c==1&&(h[y]=[]),h[y][h[y].length]=p):c==1?h[y]=p:c==2?h[y]=[h[y],p]:h[y][h[y].length]=p};pn.ObjTree.prototype.writeXML=function(h){var y=this.hash_to_xml(null,h);return this.xmlDecl+y};pn.ObjTree.prototype.hash_to_xml=function(h,y){var c=[],p=[];for(var a in y)if(!!y.hasOwnProperty(a)){var f=y[a];a.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+a+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(a,f):typeof f=="object"?c[c.length]=this.hash_to_xml(a,f):c[c.length]=this.scalar_to_xml(a,f):p[p.length]=" "+a.substring(1)+'="'+this.xml_escape(f)+'"'}var l=p.join(""),b=c.join("");return typeof h=="undefined"||h==null||(c.length>0?b.match(/\n/)?b="<"+h+l+`>
`+b+"</"+h+`>
`:b="<"+h+l+">"+b+"</"+h+`>
`:b="<"+h+l+` />
`),b};pn.ObjTree.prototype.array_to_xml=function(h,y){for(var c=[],p=0;p<y.length;p++){var a=y[p];typeof a=="undefined"||a==null?c[c.length]="<"+h+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(h,a):typeof a=="object"?c[c.length]=this.hash_to_xml(h,a):c[c.length]=this.scalar_to_xml(h,a)}return c.join("")};pn.ObjTree.prototype.scalar_to_xml=function(h,y){return h=="#text"?this.xml_escape(y):"<"+h+">"+this.xml_escape(y)+"</"+h+`>
`};pn.ObjTree.prototype.xml_escape=function(h){return h.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Va=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f},or;(function(h){h.START="bpmn:startEvent",h.END="bpmn:endEvent",h.GATEWAY="bpmn:exclusiveGateway",h.USER="bpmn:userTask",h.SYSTEM="bpmn:serviceTask",h.FLOW="bpmn:sequenceFlow"})(or||(or={}));var Nv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ns(h){var y={};return Object.entries(h).forEach(function(c){var p=Va(c,2),a=p[0],f=p[1];typeof f!="object"?a.indexOf("-")===0?y[a]=f:y["-"+a]=f:y[a]=ns(f)}),y}function as(h){var y={};return Object.entries(h).forEach(function(c){var p=Va(c,2),a=p[0],f=p[1];typeof f=="string"?a.indexOf("-")===0?y[a.substr(1)]=f:y[a]=f:typeof f=="object"?y[a]=as(f):y[a]=f}),y}function lw(h,y){var c=new Map;y.nodes.forEach(function(a){var f,l={"-id":a.id};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(l["-name"]=a.text.value),a.properties){var b=ns(a.properties);Object.assign(l,b)}c.set(a.id,l),h[a.type]?Array.isArray(h[a.type])?h[a.type].push(l):h[a.type]=[h[a.type],l]:h[a.type]=l});var p=y.edges.map(function(a){var f,l,b=c.get(a.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(a.id):b["bpmn:incoming"]=[b["bpmn:incoming"],a.id]:b["bpmn:incoming"]=a.id;var O=c.get(a.sourceNodeId);O["bpmn:outgoing"]?Array.isArray(O["bpmn:outgoing"])?O["bpmn:outgoing"].push(a.id):O["bpmn:outgoing"]=[O["bpmn:outgoing"],a.id]:O["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(w["-name"]=(l=a.text)===null||l===void 0?void 0:l.value),a.properties){var _=ns(a.properties);Object.assign(w,_)}return w});h[or.FLOW]=p}function fw(h,y){h["bpmndi:BPMNEdge"]=y.edges.map(function(c){var p,a=c.id,f=c.pointsList.map(function(b){var O=b.x,w=b.y;return{"-x":O,"-y":w}}),l={"-id":a+"_di","-bpmnElement":a,"di:waypoint":f};return((p=c.text)===null||p===void 0?void 0:p.value)&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),l}),h["bpmndi:BPMNShape"]=y.nodes.map(function(c){var p,a=c.id,f=100,l=80,b=c.x,O=c.y,w=uo.shapeConfigMap.get(c.type);w&&(f=w.width,l=w.height),b-=f/2,O-=l/2;var _={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":b,"-y":O,"-width":f,"-height":l}};return((p=c.text)===null||p===void 0?void 0:p.value)&&(_["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),_})}function pw(h){var y=[],c=[],p=h["bpmn:definitions"];if(p){var a=p["bpmn:process"];Object.keys(a).forEach(function(f){if(f.indexOf("bpmn:")===0){var l=a[f];if(f===or.FLOW){var b=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=hw(l,b)}else{var O=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(dw(l,O,f))}}})}return{nodes:y,edges:c}}function dw(h,y,c){var p=[];if(Array.isArray(h))h.forEach(function(l){var b;Array.isArray(y)?b=y.find(function(w){return w["-bpmnElement"]===l["-id"]}):b=y;var O=nv(b,c,l);p.push(O)});else{var a=void 0;Array.isArray(y)?a=y.find(function(l){return l["-bpmnElement"]===h["-id"]}):a=y;var f=nv(a,c,h);p.push(f)}return p}function nv(h,y,c){var p=Number(h["dc:Bounds"]["-x"]),a=Number(h["dc:Bounds"]["-y"]),f=c["-name"],l=uo.shapeConfigMap.get(y);l&&(p+=l.width/2,a+=l.height/2);var b;Object.entries(c).forEach(function(S){var A=Va(S,2),P=A[0],M=A[1];Nv.indexOf(P)===-1&&(b||(b={}),b[P]=M)}),b&&(b=as(b));var O;if(f&&(O={x:p,y:a,value:f},h["bpmndi:BPMNLabel"]&&h["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=h["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(w["-x"])+Number(w["-width"])/2,O.y=Number(w["-y"])+Number(w["-height"])/2}var _={id:h["-bpmnElement"],type:y,x:p,y:a,properties:b};return O&&(_.text=O),_}function hw(h,y){var c=[];if(Array.isArray(h))h.forEach(function(a){var f;Array.isArray(y)?f=y.find(function(l){return l["-bpmnElement"]===a["-id"]}):f=y,c.push(rv(f,a))});else{var p=void 0;Array.isArray(y)?p=y.find(function(a){return a["-bpmnElement"]===h["-id"]}):p=y,c.push(rv(p,h))}return c}function rv(h,y){var c,p=y["-name"];if(p){var a=h["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(O){f<O.length&&(f=O.length)}),c={value:p,x:Number(a["-x"])+f*10/2,y:Number(a["-y"])+7}}var l;Object.entries(y).forEach(function(O){var w=Va(O,2),_=w[0],S=w[1];Nv.indexOf(_)===-1&&(l||(l={}),l[_]=S)}),l&&(l=as(l));var b={id:y["-id"],type:or.FLOW,pointsList:h["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:l};return c&&(b.text=c),b}var uo={pluginName:"bpmn-adapter",install:function(h){h.adapterIn=this.adapterIn,h.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(h,y){this.shapeConfigMap.set(h,y)},adapterOut:function(h){var y={"-id":"Process_"+tv(),"-isExecutable":"false"};lw(y,h);var c={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};fw(c,h);var p={"bpmn:definitions":{"-id":"Definitions_"+tv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(h){if(h)return pw(h)}};uo.shapeConfigMap.set(or.START,{width:qy.width,height:qy.height});uo.shapeConfigMap.set(or.END,{width:Zy.width,height:Zy.height});uo.shapeConfigMap.set(or.GATEWAY,{width:Jy.width,height:Jy.height});uo.shapeConfigMap.set(or.SYSTEM,{width:Qy.width,height:Qy.height});uo.shapeConfigMap.set(or.USER,{width:ev.width,height:ev.height});var ov=globalThis&&globalThis.__assign||function(){return ov=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},ov.apply(this,arguments)},iv;(function(h){h[h.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",h[h.START_EVENT=2]="START_EVENT",h[h.END_EVENT=3]="END_EVENT",h[h.USER_TASK=4]="USER_TASK",h[h.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(iv||(iv={}));var av;(function(h){h.HORIZONTAL="horizontal",h.VERTICAL="vertical"})(av||(av={}));var yw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var vw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var gw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;globalThis&&globalThis.__read;var bw=function(){function h(y){var c=this,p=y.lf;this.lf=p,this.lf.setPatternItems=function(a){c.setPatternItems(a)}}return h.prototype.render=function(y,c){var p=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){p.panelEl.appendChild(p.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c},h.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},h.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},h.prototype.createDndItem=function(y){var c=this,p=document.createElement("div");p.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",y.icon&&(a.style.backgroundImage="url("+y.icon+")"),p.appendChild(a),y.label){var f=document.createElement("div");f.innerText=y.label,f.className="lf-dnd-text",p.appendChild(f)}return p.onmousedown=function(){y.type&&c.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(c.lf,c.domContainer)},p},h.pluginName="dndPanel",h}(),mw=function(){function h(y){var c=this,p=y.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var l=c.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,b=l.x,O=l.y;c.endPoint={x:b,y:O};var w=c.startPoint,_=w.x,S=w.y,A=c.wrapper.style,P=_,M=S,R=b-_,F=O-S;b<_&&(P=b,R=_-b),O<S&&(M=O,F=S-O),A.left=P+"px",A.top=M+"px",A.width=R+"px",A.height=F+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var f=c.startPoint,l=f.x,b=f.y,O=c.endPoint,w=O.x,_=O.y;if(!(Math.abs(w-l)<10&&Math.abs(_-b)<10)){var S=[Math.min(l,w),Math.min(b,_)],A=[Math.max(l,w),Math.max(b,_)],P=c.lf.getAreaElement(S,A,c.isWholeEdge,c.isWholeNode);P.forEach(function(M){c.lf.selectElementById(M.id,!0)}),c.lf.emit("selection:selected",P)}},this.lf=p;var a=p.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=a,p.openSelectionSelect=function(){c.openSelectionSelect()},p.closeSelectionSelect=function(){c.closeSelectionSelect()}}return h.prototype.render=function(y,c){var p=this;this.__domContainer=c,y.on("blank:mousedown",function(a){var f=a.e,l=y.getEditConfig();if(!(!l.stopMoveGraph||p.__disabled)){var b=y.getPointByClient(f.clientX,f.clientY).domOverlayPosition,O=b.x,w=b.y;p.startPoint={x:O,y:w},p.endPoint={x:O,y:w};var _=document.createElement("div");_.className="lf-selection-select",_.style.top=p.startPoint.y+"px",_.style.left=p.startPoint.x+"px",c.appendChild(_),p.wrapper=_,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff)}})},h.prototype.setSelectionSense=function(y,c){y===void 0&&(y=!0),c===void 0&&(c=!0),this.isWholeEdge=y,this.isWholeNode=c},h.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},h.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},h.prototype.open=function(){this.__disabled=!1},h.prototype.close=function(){this.__disabled=!0},h.pluginName="selectionSelect",h}();globalThis&&globalThis.__values;var Dv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ji=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};(function(h){Dv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,a=c.stroke,f=c.strokeDashArray,l=this.props.model.points,b=l.split(" ").map(function(K){return K.split(",").map(function(ue){return Number(ue)})}),O=ji(b[0],2),w=O[0],_=O[1],S="M"+w+" "+_,A=5,P=1;P<b.length-1;P++){var M=ji(b[P-1],2),R=M[0],F=M[1],U=ji(b[P],2),B=U[0],Y=U[1],q=ji(b[P+1],2),V=q[0],C=q[1];if(B===R&&Y!==F){var z=Y>F?Y-A:Y+A;S=S+" L "+B+" "+z}if(Y===F&&B!==R){var k=B>R?B-A:B+A;S=S+" L "+k+" "+Y}if(S=S+" Q "+B+" "+Y,B===V&&Y!==C){var z=Y>C?Y-A:Y+A;S=S+" "+B+" "+z}if(Y===C&&B!==V){var k=B>V?B-A:B+A;S=S+" "+k+" "+Y}}var L=ji(b[b.length-1],2),H=L[0],ee=L[1];return S=S+" L "+H+" "+ee,$e.exports.h("path",{d:S,strokeWidth:p,stroke:a,fill:"none",strokeDashArray:f})},y.extendKey="curvedEdge",y})($e.exports.PolylineEdge);(function(h){Dv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y})($e.exports.PolylineEdgeModel);var us,Bt,Mv,Pi,Cv,uv,Rv={},Iv=[],Ow=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Rr(h,y){for(var c in y)h[c]=y[c];return h}function Lv(h){var y=h.parentNode;y&&y.removeChild(h)}function Ai(h,y,c){var p,a,f,l={};for(f in y)f=="key"?p=y[f]:f=="ref"?a=y[f]:l[f]=y[f];if(arguments.length>2&&(l.children=arguments.length>3?us.call(arguments,2):c),typeof h=="function"&&h.defaultProps!=null)for(f in h.defaultProps)l[f]===void 0&&(l[f]=h.defaultProps[f]);return La(h,l,p,a,null)}function La(h,y,c,p,a){var f={type:h,props:y,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++Mv:a};return a==null&&Bt.vnode!=null&&Bt.vnode(f),f}function cs(h){return h.children}function Ro(h,y){this.props=h,this.context=y}function Io(h,y){if(y==null)return h.__?Io(h.__,h.__.__k.indexOf(h)+1):null;for(var c;y<h.__k.length;y++)if((c=h.__k[y])!=null&&c.__e!=null)return c.__e;return typeof h.type=="function"?Io(h):null}function zv(h){var y,c;if((h=h.__)!=null&&h.__c!=null){for(h.__e=h.__c.base=null,y=0;y<h.__k.length;y++)if((c=h.__k[y])!=null&&c.__e!=null){h.__e=h.__c.base=c.__e;break}return zv(h)}}function cv(h){(!h.__d&&(h.__d=!0)&&Pi.push(h)&&!Ha.__r++||uv!==Bt.debounceRendering)&&((uv=Bt.debounceRendering)||Cv)(Ha)}function Ha(){for(var h;Ha.__r=Pi.length;)h=Pi.sort(function(y,c){return y.__v.__b-c.__v.__b}),Pi=[],h.some(function(y){var c,p,a,f,l,b;y.__d&&(l=(f=(c=y).__v).__e,(b=c.__P)&&(p=[],(a=Rr({},f)).__v=f.__v+1,Uv(b,f,a,c.__n,b.ownerSVGElement!==void 0,f.__h!=null?[l]:null,p,l==null?Io(f):l,f.__h),ww(p,f),f.__e!=l&&zv(f)))})}function Bv(h,y,c,p,a,f,l,b,O,w){var _,S,A,P,M,R,F,U=p&&p.__k||Iv,B=U.length;for(c.__k=[],_=0;_<y.length;_++)if((P=c.__k[_]=(P=y[_])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?La(null,P,null,null,P):Array.isArray(P)?La(cs,{children:P},null,null,null):P.__b>0?La(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(A=U[_])===null||A&&P.key==A.key&&P.type===A.type)U[_]=void 0;else for(S=0;S<B;S++){if((A=U[S])&&P.key==A.key&&P.type===A.type){U[S]=void 0;break}A=null}Uv(h,P,A=A||Rv,a,f,l,b,O,w),M=P.__e,(S=P.ref)&&A.ref!=S&&(F||(F=[]),A.ref&&F.push(A.ref,null,P),F.push(S,P.__c||M,P)),M!=null?(R==null&&(R=M),typeof P.type=="function"&&P.__k===A.__k?P.__d=O=Fv(P,O,h):O=Hv(h,P,A,U,M,O),typeof c.type=="function"&&(c.__d=O)):O&&A.__e==O&&O.parentNode!=h&&(O=Io(A))}for(c.__e=R,_=B;_--;)U[_]!=null&&(typeof c.type=="function"&&U[_].__e!=null&&U[_].__e==c.__d&&(c.__d=Io(p,_+1)),Xv(U[_],U[_]));if(F)for(_=0;_<F.length;_++)Gv(F[_],F[++_],F[++_])}function Fv(h,y,c){for(var p,a=h.__k,f=0;a&&f<a.length;f++)(p=a[f])&&(p.__=h,y=typeof p.type=="function"?Fv(p,y,c):Hv(c,p,p,a,p.__e,y));return y}function Hv(h,y,c,p,a,f){var l,b,O;if(y.__d!==void 0)l=y.__d,y.__d=void 0;else if(c==null||a!=f||a.parentNode==null)e:if(f==null||f.parentNode!==h)h.appendChild(a),l=null;else{for(b=f,O=0;(b=b.nextSibling)&&O<p.length;O+=2)if(b==a)break e;h.insertBefore(a,f),l=f}return l!==void 0?l:a.nextSibling}function _w(h,y,c,p,a){var f;for(f in c)f==="children"||f==="key"||f in y||Ua(h,f,null,c[f],p);for(f in y)a&&typeof y[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===y[f]||Ua(h,f,y[f],c[f],p)}function sv(h,y,c){y[0]==="-"?h.setProperty(y,c):h[y]=c==null?"":typeof c!="number"||Ow.test(y)?c:c+"px"}function Ua(h,y,c,p,a){var f;e:if(y==="style")if(typeof c=="string")h.style.cssText=c;else{if(typeof p=="string"&&(h.style.cssText=p=""),p)for(y in p)c&&y in c||sv(h.style,y,"");if(c)for(y in c)p&&c[y]===p[y]||sv(h.style,y,c[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in h?y.toLowerCase().slice(2):y.slice(2),h.l||(h.l={}),h.l[y+f]=c,c?p||h.addEventListener(y,f?fv:lv,f):h.removeEventListener(y,f?fv:lv,f);else if(y!=="dangerouslySetInnerHTML"){if(a)y=y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in h)try{h[y]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||y[0]==="a"&&y[1]==="r")?h.setAttribute(y,c):h.removeAttribute(y))}}function lv(h){this.l[h.type+!1](Bt.event?Bt.event(h):h)}function fv(h){this.l[h.type+!0](Bt.event?Bt.event(h):h)}function Uv(h,y,c,p,a,f,l,b,O){var w,_,S,A,P,M,R,F,U,B,Y,q=y.type;if(y.constructor!==void 0)return null;c.__h!=null&&(O=c.__h,b=y.__e=c.__e,y.__h=null,f=[b]),(w=Bt.__b)&&w(y);try{e:if(typeof q=="function"){if(F=y.props,U=(w=q.contextType)&&p[w.__c],B=w?U?U.props.value:w.__:p,c.__c?R=(_=y.__c=c.__c).__=_.__E:("prototype"in q&&q.prototype.render?y.__c=_=new q(F,B):(y.__c=_=new Ro(F,B),_.constructor=q,_.render=Ew),U&&U.sub(_),_.props=F,_.state||(_.state={}),_.context=B,_.__n=p,S=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),q.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Rr({},_.__s)),Rr(_.__s,q.getDerivedStateFromProps(F,_.__s))),A=_.props,P=_.state,S)q.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(q.getDerivedStateFromProps==null&&F!==A&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(F,B),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(F,_.__s,B)===!1||y.__v===c.__v){_.props=F,_.state=_.__s,y.__v!==c.__v&&(_.__d=!1),_.__v=y,y.__e=c.__e,y.__k=c.__k,y.__k.forEach(function(V){V&&(V.__=y)}),_.__h.length&&l.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(F,_.__s,B),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(A,P,M)})}_.context=B,_.props=F,_.state=_.__s,(w=Bt.__r)&&w(y),_.__d=!1,_.__v=y,_.__P=h,w=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(p=Rr(Rr({},p),_.getChildContext())),S||_.getSnapshotBeforeUpdate==null||(M=_.getSnapshotBeforeUpdate(A,P)),Y=w!=null&&w.type===cs&&w.key==null?w.props.children:w,Bv(h,Array.isArray(Y)?Y:[Y],y,c,p,a,f,l,b,O),_.base=y.__e,y.__h=null,_.__h.length&&l.push(_),R&&(_.__E=_.__=null),_.__e=!1}else f==null&&y.__v===c.__v?(y.__k=c.__k,y.__e=c.__e):y.__e=xw(c.__e,y,c,p,a,f,l,O);(w=Bt.diffed)&&w(y)}catch(V){y.__v=null,(O||f!=null)&&(y.__e=b,y.__h=!!O,f[f.indexOf(b)]=null),Bt.__e(V,y,c)}}function ww(h,y){Bt.__c&&Bt.__c(y,h),h.some(function(c){try{h=c.__h,c.__h=[],h.some(function(p){p.call(c)})}catch(p){Bt.__e(p,c.__v)}})}function xw(h,y,c,p,a,f,l,b){var O,w,_,S=c.props,A=y.props,P=y.type,M=0;if(P==="svg"&&(a=!0),f!=null){for(;M<f.length;M++)if((O=f[M])&&"setAttribute"in O==!!P&&(P?O.localName===P:O.nodeType===3)){h=O,f[M]=null;break}}if(h==null){if(P===null)return document.createTextNode(A);h=a?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,A.is&&A),f=null,b=!1}if(P===null)S===A||b&&h.data===A||(h.data=A);else{if(f=f&&us.call(h.childNodes),w=(S=c.props||Rv).dangerouslySetInnerHTML,_=A.dangerouslySetInnerHTML,!b){if(f!=null)for(S={},M=0;M<h.attributes.length;M++)S[h.attributes[M].name]=h.attributes[M].value;(_||w)&&(_&&(w&&_.__html==w.__html||_.__html===h.innerHTML)||(h.innerHTML=_&&_.__html||""))}if(_w(h,A,S,a,b),_)y.__k=[];else if(M=y.props.children,Bv(h,Array.isArray(M)?M:[M],y,c,p,a&&P!=="foreignObject",f,l,f?f[0]:c.__k&&Io(c,0),b),f!=null)for(M=f.length;M--;)f[M]!=null&&Lv(f[M]);b||("value"in A&&(M=A.value)!==void 0&&(M!==h.value||P==="progress"&&!M||P==="option"&&M!==S.value)&&Ua(h,"value",M,S.value,!1),"checked"in A&&(M=A.checked)!==void 0&&M!==h.checked&&Ua(h,"checked",M,S.checked,!1))}return h}function Gv(h,y,c){try{typeof h=="function"?h(y):h.current=y}catch(p){Bt.__e(p,c)}}function Xv(h,y,c){var p,a;if(Bt.unmount&&Bt.unmount(h),(p=h.ref)&&(p.current&&p.current!==h.__e||Gv(p,null,y)),(p=h.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Bt.__e(f,y)}p.base=p.__P=null}if(p=h.__k)for(a=0;a<p.length;a++)p[a]&&Xv(p[a],y,typeof h.type!="function");c||h.__e==null||Lv(h.__e),h.__e=h.__d=void 0}function Ew(h,y,c){return this.constructor(h,c)}us=Iv.slice,Bt={__e:function(h,y){for(var c,p,a;y=y.__;)if((c=y.__c)&&!c.__)try{if((p=c.constructor)&&p.getDerivedStateFromError!=null&&(c.setState(p.getDerivedStateFromError(h)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(h),a=c.__d),a)return c.__E=c}catch(f){h=f}throw h}},Mv=0,Ro.prototype.setState=function(h,y){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Rr({},this.state),typeof h=="function"&&(h=h(Rr({},c),this.props)),h&&Rr(c,h),h!=null&&this.__v&&(y&&this.__h.push(y),cv(this))},Ro.prototype.forceUpdate=function(h){this.__v&&(this.__e=!0,h&&this.__h.push(h),cv(this))},Ro.prototype.render=cs,Pi=[],Cv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ha.__r=0;var ki=globalThis&&globalThis.__assign||function(){return ki=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},ki.apply(this,arguments)};function ss(h){var y=h.x,c=h.y,p=h.width,a=h.height,f=h.radius,l=h.className,b=y-p/2,O=c-a/2,w=ki(ki({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},h),{x:b,y:O});return $e.exports.h("rect",ki({},w))}ss.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Co;(function(h){h.NODE="node",h.CIRCLE_NODE="circle-node",h.POLYGON_NODE="polygon-node",h.RECT_NODE="rect-node",h.HTML_NODE="html-node",h.TEXT_NODE="text-node",h.ELLIPSE_NODE="ellipse-node",h.DIAMOND_NODE="diamond-node",h.EDGE="edge",h.LINE_EDGE="line-edge",h.POLYLINE_EDGE="polyline-edge",h.BEZIER_EDGE="bezier-edge",h.GRAPH="graph"})(Co||(Co={}));function za(h){var y=h.x,c=h.y,p=h.width,a=h.height;return{minX:y-p/2,minY:c-a/2,maxX:y+p/2,maxY:c+a/2}}function pv(h){var y=za(h),c=h.radius,p=y.minX,a=y.minY,f=y.maxX,l=y.maxY;return[{x:p+c,y:a+c},{x:f-c,y:a+c},{x:f-c,y:l-c},{x:p+c,y:l-c}]}function dv(h){var y=h.point,c=h.beforeNode,p=h.afterNode,a=y.x,f=y.y,l={x:a,y:f},b=c.radius,O=za(c),w=za(p);if(a===O.minX){l.x=w.minX;var _=(f-c.y)/(c.height/2-b);_?l.y=p.y+(p.height/2-b)*_:l.y=p.y}else if(a===O.maxX){l.x=w.maxX;var _=(f-c.y)/(c.height/2-b);_?l.y=p.y+(p.height/2-b)*_:l.y=p.y}else if(f===O.minY){l.y=w.minY;var _=(a-c.x)/(c.width/2-b);_?l.x=p.x+(p.width/2-b)*_:l.x=p.x}else if(f===O.maxY){l.y=w.maxY;var _=(a-c.x)/(c.width/2-b);_?l.x=p.x+(p.width/2-b)*_:l.x=p.x}else{var S=pv(c),A=pv(p),P=za(c),M=P.minX,R=P.minY,F=P.maxX,U=P.maxY,B=-1;if(a-M<b&&f-R<b?B=0:F-a<b&&f-R<b?B=1:F-a<b&&U-f<b?B=2:a-M<b&&R-f<b&&(B=3),B>-1){var Y=Math.atan2(f-S[B].y,a-S[B].x);l.x=A[B].x+b*Math.cos(Y),l.y=A[B].y+b*Math.sin(Y)}}return l}function hv(h){var y=h.point,c=h.beforeNode,p=h.afterNode,a=p.rx,f=p.ry,l=y,b=(y.y-c.y)/(y.x-c.x),O=a,w=f,_,S;return b>=1/0?(_=0,S=w):b<=-1/0?(_=0,S=-w):y.x-c.x>0?(_=O*w/Math.sqrt(w*w+O*O*b*b),S=O*w*b/Math.sqrt(w*w+O*O*b*b)):(_=-(O*w)/Math.sqrt(w*w+O*O*b*b),S=-(O*w*b)/Math.sqrt(w*w+O*O*b*b)),l={x:_+p.x,y:S+p.y},l}function yv(h){var y=h.point,c=h.beforeNode,p=h.afterNode,a=y,f,l,b=y.x-c.x,O=y.y-c.y,w=c.rx,_=c.ry,S=Math.sqrt((w-Math.abs(b))*(w-Math.abs(b))+O*O)/Math.sqrt(w*w+_*_),A=p.rx,P=p.ry,M=Math.sqrt((A*A+P*P)*S*S*(A*A/(A*A+P*P))),R=M*(P/A);return b>=0?f=A-M:f=M-A,O>0?l=R:l=-R,a={x:f+p.x,y:l+p.y},a}var jw=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),oo=globalThis&&globalThis.__assign||function(){return oo=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},oo.apply(this,arguments)},Sw=$e.exports.LogicFlowUtil.StepDrag,Pw=function(h){jw(y,h);function y(c){var p=h.call(this)||this;p.updatePosition=function(l){var b=l.deltaX,O=l.deltaY,w=p.nodeModel,_=w.x,S=w.y;p.nodeModel.x=_+b/2,p.nodeModel.y=S+O/2,p.nodeModel.moveText(b/2,O/2)},p.getResize=function(l){var b=l.index,O=l.deltaX,w=l.deltaY,_=l.width,S=l.height,A=l.pct,P=A===void 0?1:A,M={width:_,height:S};switch(b){case 0:M.width=_-O*P,M.height=S-w*P;break;case 1:M.width=_+O*P,M.height=S-w*P;break;case 2:M.width=_+O,M.height=S+w*P;break;case 3:M.width=_-O*P,M.height=S+w*P;break}return M},p.updateRect=function(l){var b=l.deltaX,O=l.deltaY,w=p.nodeModel,_=w.id,S=w.x,A=w.y,P=w.width,M=w.height,R=w.radius,F=p.index,U=p.getResize({index:F,deltaX:b,deltaY:O,width:P,height:M,pct:1}),B=p.nodeModel,Y=B.minWidth,q=B.minHeight,V=B.maxWidth,C=B.maxHeight;if(U.width<Y||U.width>V||U.height<q||U.height>C){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:O}),p.nodeModel.width=U.width,p.nodeModel.height=U.height,p.nodeModel.setProperties({nodeSize:{width:U.width,height:U.height}});var z=p.getNodeEdges(_),k={x:S,y:A,width:P,height:M,radius:R},L={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:R},H={point:"",beforeNode:k,afterNode:L},ee;z.sourceEdges.forEach(function(K){H.point=K.startPoint,ee=dv(H),K.updateStartPoint(ee)}),z.targetEdges.forEach(function(K){H.point=K.endPoint,ee=dv(H),K.updateEndPoint(ee)}),p.eventEmit({beforeNode:k,afterNode:L})},p.updateEllipse=function(l){var b=l.deltaX,O=l.deltaY,w=p.nodeModel,_=w.id,S=w.rx,A=w.ry,P=w.x,M=w.y,R=p.index,F=S,U=A,B=p.getResize({index:R,deltaX:b,deltaY:O,width:F,height:U,pct:1/2}),Y=p.nodeModel,q=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<q/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:O}),p.nodeModel.rx=p.nodeModel.rx+b/2,p.nodeModel.ry=p.nodeModel.ry+O/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var k=p.getNodeEdges(_),L={x:P,y:M},H={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},ee={point:{},beforeNode:L,afterNode:H},K;k.sourceEdges.forEach(function(ue){ee.point=ue.startPoint,K=hv(ee),ue.updateStartPoint(K)}),k.targetEdges.forEach(function(ue){ee.point=ue.endPoint,K=hv(ee),ue.updateEndPoint(K)}),p.eventEmit({beforeNode:oo(oo({},L),{rx:S,ry:A}),afterNode:H})},p.updateDiamond=function(l){var b=l.deltaX,O=l.deltaY,w=p.nodeModel,_=w.id,S=w.rx,A=w.ry,P=w.x,M=w.y,R=p.index,F=S,U=A,B=p.getResize({index:R,deltaX:b,deltaY:O,width:F,height:U,pct:1/2}),Y=p.nodeModel,q=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<q/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:O}),p.nodeModel.rx=p.nodeModel.rx+b/2,p.nodeModel.ry=p.nodeModel.ry+O/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var k={x:P,y:M,rx:S,ry:A},L={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},H={point:{},beforeNode:k,afterNode:L},ee,K=p.getNodeEdges(_);K.sourceEdges.forEach(function(ue){H.point=ue.startPoint,ee=yv(H),ue.updateStartPoint(ee)}),K.targetEdges.forEach(function(ue){H.point=ue.endPoint,ee=yv(H),ue.updateEndPoint(ee)}),p.eventEmit({beforeNode:k,afterNode:L})},p.eventEmit=function(l){var b=l.beforeNode,O=l.afterNode,w=p.nodeModel,_=w.id,S=w.modelType,A=w.type,P=oo({id:_,modelType:S,type:A},b),M=oo({id:_,modelType:S,type:A},O);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},p.onDraging=function(l){var b=l.deltaX,O=l.deltaY,w=p.nodeModel.modelType;w===Co.RECT_NODE||w===Co.HTML_NODE?p.updateRect({deltaX:b,deltaY:O}):w===Co.ELLIPSE_NODE?p.updateEllipse({deltaX:b,deltaY:O}):w===Co.DIAMOND_NODE&&p.updateDiamond({deltaX:b,deltaY:O})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var a=p.graphModel.gridSize,f=2;return a>1&&(f=2*a),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new Sw({onDraging:p.onDraging,step:f}),p}return y.prototype.getNodeEdges=function(c){for(var p=this.graphModel,a=p.edges,f=[],l=[],b=0;b<a.length;b++){var O=a[b];O.sourceNodeId===c?f.push(O):a[b].targetNodeId===c&&l.push(O)}return{sourceEdges:f,targetEdges:l}},y.prototype.render=function(){var c=this.props,p=c.x,a=c.y,f=c.index,l=c.model,b=l.getControlPointStyle();return Ai("g",{className:"lf-resize-control-"+f},Ai(ss,oo({className:"lf-node-control"},{x:p,y:a},b,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(Ro),Aw=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},Ga.apply(this,arguments)},Ya=function(h){Aw(y,h);function y(){var c=h.call(this)||this;return c.state={},c}return y.prototype.getResizeControl=function(){var c=this.props,p=c.model,a=c.graphModel,f=p.x,l=p.y,b=p.width,O=p.height,w={minX:f-b/2,minY:l-O/2,maxX:f+b/2,maxY:l+O/2},_=w.minX,S=w.minY,A=w.maxX,P=w.maxY,M=[{x:_,y:S},{x:A,y:S},{x:A,y:P},{x:_,y:P}];return M.map(function(R,F){return Ai(Pw,Ga({index:F},R,{model:p,graphModel:a}))})},y.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,l=c.height,b=c.getResizeOutlineStyle();return Ai(ss,Ga({fill:"none"},b,{x:p,y:a,width:f,height:l}))},y.prototype.render=function(){return Ai("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Ro),Vv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),kw=function(h){Vv(y,h);function y(c,p){var a=h.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return y.prototype.initNodeData=function(c){h.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var c=h.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(c,p){console.log(c,p)},y}($e.exports.RectNodeModel),Tw=function(h){Vv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return $e.exports.h(Ya,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model.isSelected;return $e.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y}($e.exports.RectNode),Yv={type:"rect",view:Tw,model:kw},Wv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(h){Wv(y,h);function y(c,p){var a=h.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return y.prototype.initNodeData=function(c){h.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var c=h.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})($e.exports.EllipseNodeModel);(function(h){Wv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return $e.exports.h(Ya,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model;return $e.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},y})($e.exports.EllipseNode);var rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},rs.apply(this,arguments)};function Nw(h){var y=h.fillOpacity,c=y===void 0?1:y,p=h.strokeWidth,a=p===void 0?1:p,f=h.strokeOpacity,l=f===void 0?1:f,b=h.fill,O=b===void 0?"transparent":b,w=h.stroke,_=w===void 0?"#000":w,S=h.points,A=h.className,P=A===void 0?"lf-basic-shape":A,M={fill:O,fillOpacity:c,strokeWidth:a,stroke:_,strokeOpacity:l,points:"",className:P};return M.points=S.map(function(R){return R.join(",")}).join(" "),$e.exports.h("polygon",rs({},M))}var Kv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),os=globalThis&&globalThis.__assign||function(){return os=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},os.apply(this,arguments)};(function(h){Kv(y,h);function y(c,p){var a=h.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return y.prototype.initNodeData=function(c){h.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var c=h.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})($e.exports.DiamondNodeModel);(function(h){Kv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return $e.exports.h(Ya,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,a=c.getNodeStyle();return $e.exports.h("g",null,$e.exports.h(Nw,os({},a,{points:p})))},y.prototype.getShape=function(){var c=this.props.model.isSelected;return $e.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y})($e.exports.DiamondNode);var $v=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(h){$v(y,h);function y(c,p){var a=h.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return y.prototype.initNodeData=function(c){h.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var c=h.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})($e.exports.HtmlNodeModel);(function(h){$v(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return $e.exports.h(Ya,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model.isSelected;return $e.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y})($e.exports.HtmlNode);var qv=globalThis&&globalThis.__extends||function(){var h=function(y,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},h(y,c)};return function(y,c){h(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Xa=globalThis&&globalThis.__assign||function(){return Xa=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},Xa.apply(this,arguments)},Dw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f},vv=globalThis&&globalThis.__spread||function(){for(var h=[],y=0;y<arguments.length;y++)h=h.concat(Dw(arguments[y]));return h},gv=500,bv=300;(function(h){qv(y,h);function y(){var c=h!==null&&h.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gv,c.unfoldedHight=bv,c}return y.prototype.initNodeData=function(c){var p=this;h.prototype.initNodeData.call(this,c);var a=[];Array.isArray(c.children)&&(a=c.children),this.children=new Set(a),this.width=gv,this.height=bv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var c=h.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},y.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var l=p.graphModel.getElement(f);l.visible=!c,a=a.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(c,a)},y.prototype.getAnchorStyle=function(c){var p=h.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},y.prototype.foldEdge=function(c,p){var a=this;p.forEach(function(f,l){var b=f.id,O=f.sourceNodeId,w=f.targetNodeId,_=f.startPoint,S=f.endPoint,A=f.type,P=f.properties,M=f.text,R={id:b+"__"+l,sourceNodeId:O,targetNodeId:w,startPoint:_,endPoint:S,type:A,properties:P,text:M==null?void 0:M.value};f.virtual&&a.graphModel.deleteEdgeById(f.id);var F=a.graphModel.group.getNodeGroup(w);F||(F=a.graphModel.getNodeModelById(w));var U=a.graphModel.group.getNodeGroup(O);U||(U=a.graphModel.getNodeModelById(O)),c&&f.visible!==!1&&(a.children.has(O)||a.id===O?(R.startPoint=void 0,R.sourceNodeId=a.id):(R.endPoint=void 0,R.targetNodeId=a.id),(F.id!==a.id||U.id!==a.id)&&a.createVirtualEdge(R),f.visible=!1),!c&&f.visible===!1&&(F&&F.isGroup&&F.isFolded?(R.targetNodeId=F.id,R.endPoint=void 0,a.createVirtualEdge(R)):U&&U.isGroup&&U.isFolded?(R.sourceNodeId=U.id,R.startPoint=void 0,a.createVirtualEdge(R)):f.visible=!0)})},y.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},y.prototype.isInRange=function(c){var p=c.x1,a=c.y1,f=c.x2,l=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&a>=this.y-this.height/2&&l<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(c){var p=c.x1,a=c.y1,f=c.x2,l=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:a>=this.y-this.height/2&&l<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},y.prototype.addChild=function(c){this.children.add(c)},y.prototype.removeChild=function(c){this.children.delete(c)},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var c=h.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},y.prototype.getHistoryData=function(){var c=h.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},y})(Yv.model);(function(h){qv(y,h);function y(){return h!==null&&h.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,a=c.properties;return p&&!a.isFolded?h.prototype.getControlGroup.call(this):null},y.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,a=c.height,f=c.x,l=c.y,b=c.radius,O=c.properties;if(!O.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,_=this.props.model.getAddableOutlineStyle(),S=p+w+8,A=a+w+8;return $e.exports.h("rect",Xa(Xa({},_),{width:S,height:A,x:f-S/2,y:l-A/2,rx:b,ry:b}))},y.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var f=$e.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" M"+(p+7)+","+(a+2)+" "+(p+7)+","+(a+10):"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" "});return $e.exports.h("g",{},[$e.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},y.prototype.getResizeShape=function(){return $e.exports.h("g",{},[this.getAddedableShape(),h.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(Yv.view);var Mw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var Cw=globalThis&&globalThis.__read||function(h,y){var c=typeof Symbol=="function"&&h[Symbol.iterator];if(!c)return h;var p=c.call(h),a,f=[],l;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return f};globalThis&&globalThis.__spread;var mv=globalThis&&globalThis.__assign||function(){return mv=Object.assign||function(h){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(h[a]=y[a])}return h},mv.apply(this,arguments)};const Mo={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},Zv={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Jv(h){switch(h){case"bpmn:sequenceFlow":return Mo.SEQUENCE_FLOW;case"bpmn:startEvent":return Mo.START_EVENT;case"bpmn:endEvent":return Mo.END_EVENT;case"bpmn:userTask":return Mo.USER_TASK;case"bpmn:exclusiveGateway":return Mo.EXCLUSIVE_GATEWAY;default:return h}}function Rw(h){const{id:y,type:c,x:p,y:a,text:f="",properties:l}=h;return{incoming:[],outgoing:[],dockers:[],type:Jv(h.type),properties:Ei(xi({},l),{name:f&&f.value||"",x:p,y:a,text:f}),key:y}}function Iw(h){const{id:y,type:c,sourceNodeId:p,targetNodeId:a,startPoint:f,endPoint:l,pointsList:b,text:O="",properties:w}=h;return{incoming:[p],outgoing:[a],type:Jv(c),dockers:[],properties:Ei(xi({},w),{name:O&&O.value||"",text:O,startPoint:JSON.stringify(f),endPoint:JSON.stringify(l),pointsList:JSON.stringify(O)}),key:y}}function Lw(h){const y=new Map,c={flowElementList:[]};return h.nodes.forEach(p=>{const a=Rw(p);c.flowElementList.push(a),y.set(p.id,a)}),h.edges.forEach(p=>{const a=Iw(p);y.get(p.sourceNodeId).outgoing.push(a.key),y.get(p.targetNodeId).incoming.push(a.key),c.flowElementList.push(a)}),c}function zw(h){const{incoming:y,outgoing:c,properties:p,key:a,type:f}=h,{text:l,name:b,startPoint:O,endPoint:w,pointsList:_}=p,S={id:a,type:Zv[f],sourceNodeId:y[0],targetNodeId:c[0],text:l||b,properties:{}};O&&(S.startPoint=JSON.parse(O)),w&&(S.endPoint=JSON.parse(w)),_&&(S.endPoint=JSON.parse(_));const A=["startPoint","endPoint","pointsList","text"];return Object.keys(h.properties).forEach(P=>{A.indexOf(P)===-1&&(S.properties[P]=h.properties[P])}),S}function Bw(h){const{properties:y,key:c,type:p,bounds:a}=h;let{x:f,y:l,text:b}=y;if(f===void 0){const[{x:_,y:S},{x:A,y:P}]=a;f=(_+A)/2,l=(S+P)/2}const O={id:c,type:Zv[p],x:f,y:l,text:b,properties:{}},w=["x","y","text"];return Object.keys(h.properties).forEach(_=>{w.indexOf(_)===-1&&(O.properties[_]=h.properties[_])}),O}function Fw(h){const y={nodes:[],edges:[]},c=h.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===Mo.SEQUENCE_FLOW){const a=zw(p);y.edges.push(a)}else{const a=Bw(p);y.nodes.push(a)}}),y}class Qv{constructor({lf:y}){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut}adapterOut(y){if(y)return Lw(y)}adapterIn(y){if(y){let c=Fw(y);return console.log(c),c}}}Vy(Qv,"pluginName","turboAdapter");const Hw="TEST_CALLER",Uw="TEST_TENANT",Gw={setup(){const h=Cr(0),y=Cr("\u6D41\u7A0B"),c=Cr(""),p=Cr(null),a=Cr(!1),f=Cr(""),l=Cr("");return{count:h,flowKey:c,flowName:y,activeData:p,openDrawer:a,drawType:f,graphData:l}},async mounted(){let h=this.$route.params.flowModelId;h||(h=await this.createFlow()),this.flowModuleId=h,await this.queryFlow(),this.lf=new B1({container:this.$refs.container,grid:{visible:!0,type:"mesh",size:10,config:{color:"#eeeeee"}},hoverOutline:!1,edgeSelectedOutline:!1,keyboard:{enabled:!0},plugins:[cw,mw,bw,Qv]}),this.lf.extension.dndPanel.setPatternItems([{label:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{this.lf.extension.selectionSelect.openSelectionSelect(),this.lf.once("selection:selected",()=>{this.lf.extension.selectionSelect.closeSelectionSelect()})}},{type:"bpmn:startEvent",text:"\u5F00\u59CB",label:"\u5F00\u59CB\u8282\u70B9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"bpmn:userTask",label:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg=="},{type:"bpmn:exclusiveGateway",label:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"bpmn:endEvent",text:"\u7ED3\u675F",label:"\u7ED3\u675F\u8282\u70B9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),this.lf.render(this.flowModel||{}),this.lf.on("edge:click",({data:y})=>{this.activeData=y,this.drawType="edgeCondition",this.openDrawer=!0})},methods:{async createFlow(){return new Promise(h=>{Z_({caller:Hw,flowKey:"flowKey1",flowName:this.flowName,tenant:Uw}).then(({data:y,errCode:c})=>{if(c===1e3){const{flowModuleId:p}=y;h(p)}})})},async queryFlow(){return new Promise(h=>{J_({flowModuleId:this.flowModuleId}).then(({data:y,errCode:c})=>{if(c===1e3){const{flowModel:p,flowName:a,flowKey:f}=y;p?this.flowModel=JSON.parse(p):this.flowModel={},this.flowName=a,this.flowKey=f,h()}}).catch(y=>{console.log(333,y)})})},$_saveFlow(){const h=this.lf.getGraphData();Q_({caller:"testCaller",flowModel:JSON.stringify(h),flowModuleId:this.flowModuleId,tenant:"testTenant"}).then(()=>{qc({showClose:!0,message:"\u4FDD\u5B58\u6210\u529F",type:"success"})})},$_publishFlow(){e1({caller:"testCaller",flowModuleId:this.flowModuleId,tenant:"testTenant"}).then(({errMsg:h,errCode:y})=>{y!==1e3?qc({showClose:!0,message:h,type:"error"}):qc({showClose:!0,message:"\u53D1\u5E03\u6210\u529F",type:"success"})})},$_getData(){this.openDrawer=!0,this.drawType="graphData",this.graphData=JSON.stringify(this.lf.getGraphData())},$_saveCondition(){this.lf.setProperties(this.activeData.id,this.activeData.properties),this.openDrawer=!1}},components:{Toolbar:Ev}},eg=h=>(wv("data-v-335fd511"),h=h(),xv(),h),Xw={class:"flow-chart"},Vw={ref:"container",class:"container"},Yw={key:0},Ww=eg(()=>Or("span",null,"\u5224\u65AD\u6761\u4EF6",-1)),Kw=_v("\u786E\u8BA4"),$w={key:1},qw=eg(()=>Or("span",null,"\u6D41\u7A0B\u56FE\u6570\u636E",-1));function Zw(h,y,c,p,a,f){const l=Ev,b=t1,O=n1,w=S1;return fn(),mn("div",Xw,[Sn(l,{class:"node-red-toolbar",onSaveFlow:f.$_saveFlow,onPublishFlow:f.$_publishFlow,onGetData:f.$_getData,flowName:p.flowName,flowKey:p.flowKey},null,8,["onSaveFlow","onPublishFlow","onGetData","flowName","flowKey"]),Or("div",Vw,null,512),Sn(w,{modelValue:p.openDrawer,"onUpdate:modelValue":y[2]||(y[2]=_=>p.openDrawer=_),title:"\u67E5\u770B"},{default:Ir(()=>[p.drawType==="edgeCondition"?(fn(),mn("div",Yw,[Ww,Sn(b,{modelValue:p.activeData.properties.conditionsequenceflow,"onUpdate:modelValue":y[0]||(y[0]=_=>p.activeData.properties.conditionsequenceflow=_),rows:2,type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u6761\u4EF6\u5224\u65AD\u8868\u8FBE\u5F0F"},null,8,["modelValue"]),Sn(O,{onClick:f.$_saveCondition},{default:Ir(()=>[Kw]),_:1},8,["onClick"])])):io("",!0),p.drawType==="graphData"?(fn(),mn("div",$w,[qw,Sn(b,{modelValue:p.graphData,"onUpdate:modelValue":y[1]||(y[1]=_=>p.graphData=_),rows:20,type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u6761\u4EF6\u5224\u65AD\u8868\u8FBE\u5F0F"},null,8,["modelValue"])])):io("",!0)]),_:1},8,["modelValue"])])}var tx=Ov(Gw,[["render",Zw],["__scopeId","data-v-335fd511"]]);export{tx as default};
