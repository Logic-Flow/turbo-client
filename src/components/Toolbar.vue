<template>
  <div class="tool-bar">
    <div class="flow-name">{{flowName}} <span v-if="flowKey">({{flowKey}})</span></div>
    <div class="tool-icons">
      <el-tooltip
        class="toolbar-tooltip"
        effect="dark"
        content="查看流程图数据"
        >
        <svg @click="$emit('getData')" class="tool-bar-icon download-icon" viewBox="0 0 1024 1024" width="24" height="24">
          <path d="M917.1 59.5H712.4c-19.3 0-35 15.7-35 35s15.7 35 35 35h169.8v169.8c0 19.3 15.7 35 35 35s35-15.7 35-35V94.5c-0.1-19.3-15.7-35-35.1-35zM106.9 334.3c19.3 0 35-15.7 35-35V129.5h169.8c19.3 0 35-15.7 35-35s-15.7-35-35-35H106.9c-19.3 0-35 15.7-35 35v204.8c0 19.3 15.6 35 35 35zM311.6 894.5H141.9V724.7c0-19.3-15.7-35-35-35s-35 15.7-35 35v204.8c0 19.3 15.7 35 35 35h204.8c19.3 0 35-15.7 35-35s-15.7-35-35.1-35zM917.1 689.7c-19.3 0-35 15.7-35 35v169.8H712.4c-19.3 0-35 15.7-35 35s15.7 35 35 35h204.8c19.3 0 35-15.7 35-35V724.7c-0.1-19.3-15.7-35-35.1-35zM769.1 794.7c9.2 0 18.4-3.6 25.3-10.8 13.3-14 12.8-36.1-1.2-49.5L705 650.2c26.3-37.5 43-82.4 46-131.5 9-141.6-98.7-263.7-240.3-272.6-5.5-0.3-10.9-0.5-16.3-0.5-134.6 0-247.7 104.8-256.3 241-8.9 141.7 98.8 263.7 240.4 272.6 5.5 0.3 10.9 0.5 16.3 0.5 61.3 0 118.1-21.7 162.6-58.2l87.5 83.5c6.8 6.5 15.5 9.7 24.2 9.7z m-87.9-280.3c-3 47.8-23.9 92.1-58.8 124.8-34.8 32.6-80.1 50.5-127.6 50.5-4 0-8-0.1-12-0.4-49.9-3.1-95.5-25.5-128.6-63-33-37.5-49.5-85.6-46.4-135.4 3-47.8 23.9-92.1 58.8-124.8 34.8-32.6 80.1-50.5 127.6-50.5 4 0 8 0.1 11.9 0.4 49.9 3.1 95.5 25.5 128.6 63 33.2 37.4 49.7 85.5 46.5 135.4z">
          </path>
        </svg>
      </el-tooltip>
      <el-tooltip
        class="toolbar-tooltip"
        effect="dark"
        content="发布流程"
        >
        <svg @click="publishFlow" class="tool-bar-icon download-icon" viewBox="0 0 1024 1024" width="24" height="24">
          <path d="M85.333333 532.352A447.018667 447.018667 0 0 1 532.309333 85.333333a447.018667 447.018667 0 0 1 446.976 446.933334 446.890667 446.890667 0 0 1-446.933333 447.018666A446.976 446.976 0 0 1 85.333333 532.352z m59.733334 0a387.370667 387.370667 0 0 0 387.370666 387.370667 387.370667 387.370667 0 0 0 387.328-387.370667 387.370667 387.370667 0 0 0-387.328-387.328A387.370667 387.370667 0 0 0 145.066667 532.309333z m360.576 232.576v-364.8l-150.442667 150.442667a25.984 25.984 0 0 1-36.650667-1.322667 25.984 25.984 0 0 1-1.322666-36.608l195.925333-195.925333 0.298667-0.426667 0.426666-0.298667 1.024-1.024a23.594667 23.594667 0 0 1 15.061334-6.442666 23.765333 23.765333 0 0 1 2.517333-0.384c0.853333 0 1.664 0.298667 2.517333 0.384a23.552 23.552 0 0 1 15.061334 6.442666l1.024 1.024 0.426666 0.298667 0.298667 0.426667 195.925333 195.925333a25.984 25.984 0 0 1-1.365333 36.608 25.898667 25.898667 0 0 1-36.608 1.322667l-150.442667-150.442667v364.8a26.837333 26.837333 0 0 1-26.794666 26.794667 26.794667 26.794667 0 0 1-27.050667-26.837334z" p-id="8231">
	        </path>
        </svg>
      </el-tooltip>
      <el-tooltip
        class="toolbar-tooltip"
        effect="dark"
        content="保存到服务端"
        >
        <svg @click="saveFlow" class="tool-bar-icon save-icon" viewBox="0 0 1024 1024" width="30" height="30">
          <path d="M683.84 170.666667L853.333333 344.704V789.333333a64 64 0 0 1-64 64H234.666667a64 64 0 0 1-64-64V234.666667a64 64 0 0 1 64-64h449.173333zM320 234.645333L234.666667 234.666667v554.666666l85.333333-0.021333V533.333333h384v255.978667L789.333333 789.333333V370.730667l-85.333333-87.637334V384H320v-149.354667zM640 597.333333H384v191.978667h256V597.333333z m-42.666667 64v64h-170.666666v-64h170.666666z m42.666667-426.666666H384v85.333333h256v-85.333333z" p-id="2219">
          </path>
        </svg>
      </el-tooltip>
    </div>
  </div>
</template>

<script>
// import { saveFlow } from '../service/flow'
export default {
  props: {
    flowName: String,
    flowKey: String
  },
  methods: {
    saveFlow () {
      this.$emit('saveFlow')
    },
    publishFlow () {
      this.$emit('publishFlow')
    }
  }
}
</script>

<style scoped>
.tool-bar {
  height: 40px;
  width: 100%;
  box-shadow: 0 1px 4px rgb(0 0 0 / 10%);
}
.flow-name {
  display: inline-block;
  vertical-align: middle;
  line-height: 40px;
  font-size: 14px;
  margin-left: 20px;
}
.tool-bar-icon {
  color: #515151;
  cursor: pointer;
  margin-right: 10px;
}
.tool-bar-icon:hover {
  color: #1296db;
}
.tool-bar-icon path {
  fill: currentColor;
}
.tool-icons {
  float: right;
  display: flex;
  flex-direction: row-reverse;
  align-items: center;
  padding-top: 5px;
}
.toolbar-tooltip {
  height: 40px;
  display: block;
}
</style>